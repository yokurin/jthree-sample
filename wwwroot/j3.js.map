{"version":3,"sources":["../../node_modules/browserify/node_modules/browser-pack/_prelude.js","jThree/src/jThree.ts","jThree/src/Base/Collections/AssociativeArray.ts","jThree/src/Base/Color/Color3.ts","jThree/src/Base/Color/Color4.ts","jThree/src/Base/JThreeCollection.ts","jThree/src/Base/JThreeEvent.ts","jThree/src/Base/JThreeID.ts","jThree/src/Base/JThreeLogger.ts","jThree/src/Base/JThreeObject.ts","jThree/src/Base/JThreeObjectWithID.ts","jThree/src/Base/JsHack.ts","jThree/src/ContextComponents.ts","jThree/src/Core/Camera/Camera.ts","jThree/src/Core/Camera/OrthoCamera.ts","jThree/src/Core/Camera/PerspectiveCamera.ts","jThree/src/Core/Camera/ViewCameraBase.ts","jThree/src/Core/Canvas.ts","jThree/src/Core/CanvasListChangedEventArgs.ts","jThree/src/Core/CanvasManager.ts","jThree/src/Core/CanvasRegion.ts","jThree/src/Core/CanvasSizeChangedEventArgs.ts","jThree/src/Core/GLExtensionList.ts","jThree/src/Core/GLExtensionManager.ts","jThree/src/Core/GLSpecManager.ts","jThree/src/Core/Geometries/CircleGeometry.ts","jThree/src/Core/Geometries/CubeGeometry.ts","jThree/src/Core/Geometries/CylinderGeometry.ts","jThree/src/Core/Geometries/Geometry.ts","jThree/src/Core/Geometries/GridGeometry.ts","jThree/src/Core/Geometries/QuadGeometry.ts","jThree/src/Core/Geometries/TriangleGeometry.ts","jThree/src/Core/Light/DefaultLightTypeList.ts","jThree/src/Core/Light/Impl/AreaLight.ts","jThree/src/Core/Light/Impl/DirectionalLight.ts","jThree/src/Core/Light/Impl/PointLight.ts","jThree/src/Core/Light/Impl/SceneLight.ts","jThree/src/Core/Light/Impl/SpotLight.ts","jThree/src/Core/Light/LightBase.ts","jThree/src/Core/Light/LightRegister.ts","jThree/src/Core/Light/LightShderComposer.ts","jThree/src/Core/Light/ShadowMap/ShadowDroppableLight.ts","jThree/src/Core/Light/ShadowMap/ShadowMapResourceManager.ts","jThree/src/Core/ListStateChangedType.ts","jThree/src/Core/LoopManager.ts","jThree/src/Core/Materials/Base/MaterialManager.ts","jThree/src/Core/Materials/Base/ShaderProgramParser.ts","jThree/src/Core/Materials/Buffering/GBufferMaterial.ts","jThree/src/Core/Materials/Buffering/HitTestMaterial.ts","jThree/src/Core/Materials/Buffering/ShadowMapMaterial.ts","Core/Materials/BuiltIn/Vertex/_BasicVertexTransform.glsl","jThree/src/Core/Materials/Forward/PhongMaterial.ts","jThree/src/Core/Materials/Forward/SolidColorMaterial.ts","jThree/src/Core/Materials/Forward/SpriteMaterial.ts","jThree/src/Core/Materials/Material.ts","jThree/src/Core/Renderers/BasicRenderer.ts","jThree/src/Core/Renderers/RenderPath.ts","jThree/src/Core/Renderers/RenderPathExecutor.ts","jThree/src/Core/Renderers/RenderStages/FowardShadingStage.ts","jThree/src/Core/Renderers/RenderStages/GBuffer/GBufferStage.ts","jThree/src/Core/Renderers/RenderStages/HitAreaRenderStage.ts","jThree/src/Core/Renderers/RenderStages/LightAccumulationStage.ts","jThree/src/Core/Renderers/RenderStages/RenderStageBase.ts","jThree/src/Core/Renderers/RenderStages/ShadowMapGenerationStage.ts","jThree/src/Core/Renderers/RenderStages/SkyBoxStage.ts","jThree/src/Core/Renderers/RendererConfigurator/BasicRendererConfigurator.ts","jThree/src/Core/Renderers/RendererConfigurator/RendererConfiguratorBase.ts","jThree/src/Core/Renderers/RendererConfigurator/SpriteRendererConfigurator.ts","jThree/src/Core/Renderers/RendererFactory.ts","jThree/src/Core/Renderers/TextureGenerater.ts","jThree/src/Core/Renderers/TextureGeneraters/GeneraterBase.ts","jThree/src/Core/Renderers/TextureGeneraters/GeneraterList.ts","jThree/src/Core/Renderers/TextureGeneraters/RendererFit.ts","jThree/src/Core/ResourceLoader.ts","jThree/src/Core/ResourceManager.ts","jThree/src/Core/Resources/Buffer/Buffer.ts","jThree/src/Core/Resources/Buffer/BufferWrapper.ts","jThree/src/Core/Resources/ContextSafeResourceContainer.ts","jThree/src/Core/Resources/FBO/FBO.ts","jThree/src/Core/Resources/FBO/FBOWrapper.ts","jThree/src/Core/Resources/Program/Program.ts","jThree/src/Core/Resources/Program/ProgramWrapper.ts","jThree/src/Core/Resources/Program/VariableRegister/Uniforms/MatrixFloatArrayRegister.ts","jThree/src/Core/Resources/Program/VariableRegister/Uniforms/MatrixFloatRegister.ts","jThree/src/Core/Resources/Program/VariableRegister/Uniforms/ScalarFloatRegister.ts","jThree/src/Core/Resources/Program/VariableRegister/Uniforms/ScalarIntegerRegister.ts","jThree/src/Core/Resources/Program/VariableRegister/Uniforms/Texture2DRegister.ts","jThree/src/Core/Resources/Program/VariableRegister/Uniforms/TextureArrayRegister.ts","jThree/src/Core/Resources/Program/VariableRegister/Uniforms/UniformTypeList.ts","jThree/src/Core/Resources/Program/VariableRegister/Uniforms/UniformVariableRegisterBase.ts","jThree/src/Core/Resources/Program/VariableRegister/Uniforms/VectorFloatArrayRegister.ts","jThree/src/Core/Resources/Program/VariableRegister/Uniforms/VectorFloatRegister.ts","jThree/src/Core/Resources/RBO/RBO.ts","jThree/src/Core/Resources/RBO/RBOWrapper.ts","jThree/src/Core/Resources/ResourceArray.ts","jThree/src/Core/Resources/ResourceWrapper.ts","jThree/src/Core/Resources/Shader/Shader.ts","jThree/src/Core/Resources/Shader/ShaderWrapper.ts","jThree/src/Core/Resources/Texture/BufferTexture.ts","jThree/src/Core/Resources/Texture/BufferTextureWrapper.ts","jThree/src/Core/Resources/Texture/CubeTexture.ts","jThree/src/Core/Resources/Texture/CubeTextureWrapper.ts","jThree/src/Core/Resources/Texture/Texture.ts","jThree/src/Core/Resources/Texture/TextureBase.ts","jThree/src/Core/Resources/Texture/TextureWrapper.ts","jThree/src/Core/Resources/Texture/TextureWrapperBase.ts","jThree/src/Core/Scene.ts","jThree/src/Core/SceneManager.ts","jThree/src/Core/SceneObject.ts","Core/Shaders/GBuffer/PrimaryFragment.glsl","Core/Shaders/GBuffer/SecoundaryFragment.glsl","Core/Shaders/GBuffer/ThirdFragment.glsl","Core/Shaders/GBuffer/Vertex.glsl","Core/Shaders/Light/Area/DiffuseChunk.glsl","Core/Shaders/Light/Area/SpecularChunk.glsl","Core/Shaders/Light/DiffuseLightFragment.glsl","Core/Shaders/Light/Directional/DiffuseChunk.glsl","Core/Shaders/Light/Directional/SpecularChunk.glsl","Core/Shaders/Light/LightVertex.glsl","Core/Shaders/Light/Point/DiffuseChunk.glsl","Core/Shaders/Light/Point/SpecularChunk.glsl","Core/Shaders/Light/Scene/DiffuseChunk.glsl","Core/Shaders/Light/Scene/SpecularChunk.glsl","Core/Shaders/Light/SpecularLightFragment.glsl","Core/Shaders/Light/Spot/DiffuseChunk.glsl","Core/Shaders/Light/Spot/SpecularChunk.glsl","Core/Shaders/Phong.glsl","Core/Shaders/Shadow/ShadowMapFragment.glsl","Core/Shaders/Shadow/ShadowMapVertex.glsl","Core/Shaders/SkyBox.glsl","Core/Shaders/SolidColor.glsl","Core/Shaders/Sprite.glsl","Core/Shaders/VertexShaders/BasicGeometries.glsl","Core/Shaders/VertexShaders/SkyboxGeometries.glsl","jThree/src/Core/Timer.ts","jThree/src/Core/Transform/Transformer.ts","jThree/src/Debug/Debugger.ts","jThree/src/Debug/Modules/DebuggerModuleBase.ts","jThree/src/Debug/Modules/GLSpecDebugger.ts","jThree/src/Debug/Modules/RendererDebugger.ts","jThree/src/Debug/Modules/SceneStructureDebugger.ts","jThree/src/Exceptions.ts","jThree/src/Goml/Animater/AnimaterBase.ts","jThree/src/Goml/Animater/Color3Animater.ts","jThree/src/Goml/Animater/Color4Animater.ts","jThree/src/Goml/Animater/IntegerAnimater.ts","jThree/src/Goml/Animater/NumberAnimater.ts","jThree/src/Goml/Animater/RotationAnimater.ts","jThree/src/Goml/Animater/Vector3Animater.ts","jThree/src/Goml/AttributeDictionary.ts","jThree/src/Goml/AttributeParser.ts","jThree/src/Goml/Behaviors/BehaviorRegistry.ts","jThree/src/Goml/Behaviors/BehaviorRunner.ts","jThree/src/Goml/Converter/AngleAttributeConverter.ts","jThree/src/Goml/Converter/AttributeConverterBase.ts","jThree/src/Goml/Converter/BooleanAttributeConverter.ts","jThree/src/Goml/Converter/Color3AttributeConverter.ts","jThree/src/Goml/Converter/Color4AttributeConverter.ts","jThree/src/Goml/Converter/IntegerAttributeConverter.ts","jThree/src/Goml/Converter/NumberAttributeConverter.ts","jThree/src/Goml/Converter/RotationAttributeConverter.ts","jThree/src/Goml/Converter/StringAttributeConverter.ts","jThree/src/Goml/Converter/Vector3AttributeConverter.ts","jThree/src/Goml/Easing/EasingFunctionBase.ts","jThree/src/Goml/Easing/LinearEasingFunction.ts","jThree/src/Goml/Easing/SwingEasingFunction.ts","jThree/src/Goml/EasingFunctionList.ts","jThree/src/Goml/Factories/BehaviorTagFactory.ts","jThree/src/Goml/Factories/ChildrenParseSkipFactory.ts","jThree/src/Goml/Factories/SceneObjectTagFactory.ts","jThree/src/Goml/Factories/TagFactory.ts","jThree/src/Goml/GomlAttribute.ts","jThree/src/Goml/GomlConfigurator.ts","jThree/src/Goml/GomlConverterList.ts","jThree/src/Goml/GomlLoader.ts","jThree/src/Goml/GomlNodeDictionary.ts","jThree/src/Goml/GomlNodeList.ts","jThree/src/Goml/GomlNodeListElement.ts","jThree/src/Goml/GomlParser.ts","jThree/src/Goml/GomlTreeNodeBase.ts","jThree/src/Goml/NodeManager.ts","jThree/src/Goml/Nodes/Behaviors/BehaviorNode.ts","jThree/src/Goml/Nodes/Behaviors/BehaviorsNode.ts","jThree/src/Goml/Nodes/Canvases/CanvasNode.ts","jThree/src/Goml/Nodes/Canvases/CanvasNodeBase.ts","jThree/src/Goml/Nodes/Geometries/CircleGeometryNode.ts","jThree/src/Goml/Nodes/Geometries/CubeGeometryNode.ts","jThree/src/Goml/Nodes/Geometries/CylinderGeometryNode.ts","jThree/src/Goml/Nodes/Geometries/GeometryNodeBase.ts","jThree/src/Goml/Nodes/Geometries/GridGeometryNode.ts","jThree/src/Goml/Nodes/Geometries/QuadGeometryNode.ts","jThree/src/Goml/Nodes/Geometries/TriangleGeometryNode.ts","jThree/src/Goml/Nodes/Loaders/LoaderNode.ts","jThree/src/Goml/Nodes/Materials/DefferedDebugNode.ts","jThree/src/Goml/Nodes/Materials/MaterialNodeBase.ts","jThree/src/Goml/Nodes/Materials/PhongNode.ts","jThree/src/Goml/Nodes/Materials/SolidColorNode.ts","jThree/src/Goml/Nodes/Materials/SpriteNode.ts","jThree/src/Goml/Nodes/Materials/TextureDebugNode.ts","jThree/src/Goml/Nodes/Renderers/ViewPortNode.ts","jThree/src/Goml/Nodes/SceneNode.ts","jThree/src/Goml/Nodes/SceneObjects/Cameras/CameraNode.ts","jThree/src/Goml/Nodes/SceneObjects/Cameras/CameraNodeBase.ts","jThree/src/Goml/Nodes/SceneObjects/Cameras/OrthoCameraNode.ts","jThree/src/Goml/Nodes/SceneObjects/Lights/AreaLightNode.ts","jThree/src/Goml/Nodes/SceneObjects/Lights/DirectionalLightNode.ts","jThree/src/Goml/Nodes/SceneObjects/Lights/LightNodeBase.ts","jThree/src/Goml/Nodes/SceneObjects/Lights/PointLightNode.ts","jThree/src/Goml/Nodes/SceneObjects/Lights/SceneLightNode.ts","jThree/src/Goml/Nodes/SceneObjects/Lights/SpotLightNode.ts","jThree/src/Goml/Nodes/SceneObjects/MeshNode.ts","jThree/src/Goml/Nodes/SceneObjects/ObjectNode.ts","jThree/src/Goml/Nodes/SceneObjects/SceneObjectNodeBase.ts","jThree/src/Goml/Nodes/Templates/TemplateNode.ts","jThree/src/Goml/Nodes/Texture/CubeTextureNode.ts","jThree/src/Goml/Nodes/Texture/TextureNode.ts","jThree/src/Goml/Nodes/Texture/TextureNodeBase.ts","jThree/src/Goml/Nodes/TopLevel/CanvasesNode.ts","jThree/src/Goml/Nodes/TopLevel/GomlNode.ts","jThree/src/Goml/Nodes/TopLevel/LoadersNode.ts","jThree/src/Goml/Nodes/TopLevel/OrderedTopLevelNodeBase.ts","jThree/src/Goml/Nodes/TopLevel/ResourcesNode.ts","jThree/src/Goml/Nodes/TopLevel/ScenesNode.ts","jThree/src/Goml/Nodes/TopLevel/TemplatesNode.ts","jThree/src/Goml/TreeNodeBase.ts","jThree/src/Init.ts","jThree/src/JThreeContext.ts","jThree/src/JThreeInterface.ts","jThree/src/Math/AABB.ts","jThree/src/Math/Matrix.ts","jThree/src/Math/MatrixBase.ts","jThree/src/Math/PointList.ts","jThree/src/Math/Quaternion.ts","jThree/src/Math/Rectangle.ts","jThree/src/Math/Vector2.ts","jThree/src/Math/Vector3.ts","jThree/src/Math/Vector4.ts","jThree/src/Math/VectorBase.ts","jThree/src/PMX/Core/Materials/PMXGBufferMaterial.ts","jThree/src/PMX/Core/Materials/PMXHitAreaMaterial.ts","jThree/src/PMX/Core/Materials/PMXMaterial.ts","jThree/src/PMX/Core/Materials/PMXShadowMapMaterial.ts","jThree/src/PMX/Core/PMXBone.ts","jThree/src/PMX/Core/PMXBoneTransformer.ts","jThree/src/PMX/Core/PMXGeometry.ts","jThree/src/PMX/Core/PMXMaterialMorphParamContainer.ts","jThree/src/PMX/Core/PMXModel.ts","jThree/src/PMX/Core/PMXMorph.ts","jThree/src/PMX/Core/PMXMorphManager.ts","jThree/src/PMX/Core/PMXSkeleton.ts","jThree/src/PMX/Core/PMXTextureManager.ts","jThree/src/PMX/Goml/Factory/PMXBoneTagFactory.ts","jThree/src/PMX/Goml/Factory/PMXMorphTagFactory.ts","jThree/src/PMX/Goml/PMXBoneNode.ts","jThree/src/PMX/Goml/PMXBonesNode.ts","jThree/src/PMX/Goml/PMXMorphNode.ts","jThree/src/PMX/Goml/PMXMorphsNode.ts","jThree/src/PMX/Goml/PMXNode.ts","jThree/src/PMX/PMXLoader.ts","PMX/Shader/PMXEdgeFragment.glsl","PMX/Shader/PMXEdgeVertex.glsl","PMX/Shader/PMXFragment.glsl","PMX/Shader/PMXGBufferVertex.glsl","PMX/Shader/PMXHitAreaFragment.glsl","PMX/Shader/PMXHitAreaVertex.glsl","PMX/Shader/PMXPrimaryGBufferFragment.glsl","PMX/Shader/PMXSecoundaryGBufferFragment.glsl","PMX/Shader/PMXShadowMapVertex.glsl","PMX/Shader/PMXThirdGBufferFragment.glsl","PMX/Shader/PMXVertex.glsl","jThree/src/Shapes/BasicMeshObject.ts","jThree/src/Shapes/Mesh.ts","jThree/src/VMD/Goml/VMDNode.ts","jThree/src/VMD/Parser/BezierCurve.ts","jThree/src/VMD/Parser/VMDData.ts","jThree/src/Wrapper/BlendFuncParamType.ts","jThree/src/Wrapper/BufferTargetType.ts","jThree/src/Wrapper/BufferUsageType.ts","jThree/src/Wrapper/ClearTargetType.ts","jThree/src/Wrapper/ElementType.ts","jThree/src/Wrapper/FrameBufferAttachmentType.ts","jThree/src/Wrapper/GLFeatureType.ts","jThree/src/Wrapper/GetParameterType.ts","jThree/src/Wrapper/PrimitiveTopology.ts","jThree/src/Wrapper/RBO/RBOInternalFormat.ts","jThree/src/Wrapper/ShaderType.ts","jThree/src/Wrapper/TargetTextureType.ts","jThree/src/Wrapper/Texture/PixelStoreParamType.ts","jThree/src/Wrapper/Texture/TexImageTargetType.ts","jThree/src/Wrapper/Texture/TextureMagFilterType.ts","jThree/src/Wrapper/Texture/TextureMinFilterType.ts","jThree/src/Wrapper/Texture/TextureParameterType.ts","jThree/src/Wrapper/Texture/TextureRegister.ts","jThree/src/Wrapper/Texture/TextureWrapType.ts","jThree/src/Wrapper/TextureInternalFormatType.ts","jThree/src/Wrapper/TextureType.ts","static/color.json","static/defaultLoader.html","../../node_modules/gl-matrix/src/gl-matrix.js","../../node_modules/gl-matrix/src/gl-matrix/common.js","../../node_modules/gl-matrix/src/gl-matrix/mat2.js","../../node_modules/gl-matrix/src/gl-matrix/mat2d.js","../../node_modules/gl-matrix/src/gl-matrix/mat3.js","../../node_modules/gl-matrix/src/gl-matrix/mat4.js","../../node_modules/gl-matrix/src/gl-matrix/quat.js","../../node_modules/gl-matrix/src/gl-matrix/vec2.js","../../node_modules/gl-matrix/src/gl-matrix/vec3.js","../../node_modules/gl-matrix/src/gl-matrix/vec4.js","../../node_modules/q/q.js"],"names":[],"mappings":"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AAA;IACd,iEAAc,CAAA;IACd,iEAAc,CAAA;IACd,mEAAe,CAAA;IACf,mEAAe,CAAA;IACf,mEAAe,CAAA;IACf,mEAAe,CAAA;AACjB,CAAC,EAhBI,eAAe,KAAf,eAAe,QAgBnB;AAED,iBAAS,eAAe,CAAC;;;AClBzB,IAAK,eAKJ;AALD,WAAK,eAAe;IAElB,uEAAiB,CAAA;IACjB,6EAAoB,CAAA;IACpB,6DAAY,CAAA;AACd,CAAC,EALI,eAAe,KAAf,eAAe,QAKnB;AAED,iBAAS,eAAe,CAAC;;;ACPzB,IAAK,yBAUJ;AAVD,WAAK,yBAAyB;IAE5B,8EAAU,CAAA;IACV,sFAAc,CAAA;IACd,gGAAmB,CAAA;IACnB,0EAAQ,CAAA;IACR,4EAAS,CAAA;IAET,kGAAoB,CAAA;IACpB,+FAAmB,CAAA;AACrB,CAAC,EAVI,yBAAyB,KAAzB,yBAAyB,QAU7B;AACD,iBAAS,yBAAyB,CAAC;;;ACXnC,IAAK,WAWJ;AAXD,WAAK,WAAW;IAEd,gEAAiB,CAAA;IACjB,kDAAU,CAAA;IACV,yEAAsB,CAAA;IACtB,2EAAuB,CAAA;IACvB,2EAAuB,CAAA;IAEvB,kEAAkB,CAAA;IAClB,8DAAgB,CAAA;IAChB,iFAA2B,CAAA;AAC7B,CAAC,EAXI,WAAW,KAAX,WAAW,QAWf;AAED,iBAAS,WAAW,CAAC;;;ACbrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrJA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACziBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3gBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzhBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"j3.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/// <reference path=\"bundle.ts\" />\nrequire(\"./Init\").Init();\n","/**\n* AssociativeArray string with an object.\n*/\nclass AssociativeArray<T> implements Map<string, T>\n{\n  private target: Map<string, T> = new Map<string, T>();\n\n    public clear(): void {\n    this.target.clear();\n  }\n\n    public delete(key: string): boolean {\n    return this.target.delete(key);\n  }\n\n    public forEach(callbackfn: (value: T, index: string, map: Map<string, T>) => void, thisArg?: any): void {\n    this.target.forEach(callbackfn, thisArg);\n  }\n\n    public get(key: string): T {\n    return this.target.get(key);\n  }\n\n    public has(key: string): boolean {\n    return this.target.has(key);\n  }\n\n    public set(key: string, value: T): AssociativeArray<T> {\n    this.target.set(key, value);\n    return this;\n  }\n\n    public get size(): number {\n    return this.target.size;\n  }\n\n    public get asArray(): T[] {\n    var array = new Array(this.size);\n    var i = 0;\n    this.forEach((v) => {\n      array[i] = v;\n      i++;\n    }\n      );\n    return array;\n  }\n\n  public get length()\n  {\n    return this.target.size;\n  }\n\n}\n\nexport =AssociativeArray;\n","import JThreeObject = require(\"../JThreeObject\");\nimport Vector3 = require(\"../../Math/Vector3\");\nimport Color4 = require(\"./Color4\");\nimport Vector4 = require(\"../../Math/Vector4\");\ndeclare function require(string): { [key: string]: string };\n\nclass Color3 extends JThreeObject {\n    constructor(r: number, g: number, b: number) {\n        super();\n        this._r = r;\n        this._g = g;\n        this._b = b;\n    }\n\n    private _r: number;\n    private _g: number;\n    private _b: number;\n\n    public get R(): number {\n        return this._r;\n    }\n\n    public get G(): number {\n        return this._g;\n    }\n\n    public get B(): number {\n        return this._b;\n    }\n\n    public static FromColor4(col:Color4):Color3\n    {\n      return new Color3(col.R,col.G,col.B);\n    }\n    public toVector():Vector3\n    {\n      return new Vector3(this.R,this.G,this.B);\n    }\n\n    public toVector4(a?:number):Vector4\n    {\n        if(typeof a ===\"undefined\")a=0;\n        return new Vector4(this.R,this.G,this.B,a);\n    }\n\n    public static colorTable: { [key: string]: string } = require(\"../../static/color.json\");\n    ///Color parser for css like syntax\n    public static internalParse(color: string, isFirst: boolean): Color3 {\n        if (isFirst && Color4.colorTable[color]) {\n            var col=Color4.internalParse(Color4.colorTable[color], false);\n            return Color3.FromColor4(col);\n        }\n        if (isFirst) {\n            var m = color.match(/^#([0-9a-f]{3})$/i);\n            //#fff\n            if (m) {\n                var s = m[1];\n                return new Color3(\n                    parseInt(s.charAt(0), 16) / 0xf,\n                    parseInt(s.charAt(1), 16) / 0xf,\n                    parseInt(s.charAt(2), 16) / 0xf\n                    );\n            }\n        }\n\n        //#ffffff\n        m = color.match(/^#([0-9a-f]{6})$/i);\n        if (m) {\n            var s = m[1];\n            return new Color3(\n                parseInt(s.substr(0, 2), 16) / 0xff,\n                parseInt(s.substr(2, 2), 16) / 0xff,\n                parseInt(s.substr(4, 2), 16) / 0xff\n                );\n        }\n\n        var n = color.match(/^rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)$/i);\n        if (n && isFirst) {\n            return new Color3(parseInt(n[1]) / 0xff, parseInt(n[2]) / 0xff, parseInt(n[3]) / 0xff);\n        }\n        throw new Error(\"color parse failed.\");\n    }\n\n    public static parseColor(color: string): Color3 {\n        return Color3.internalParse(color, true);\n    }\n\n    public toString(): string {\n        var st =\"#\";\n        st += Math.round(this.R * 0xff).toString(16).toUpperCase();\n        st += Math.round(this.G * 0xff).toString(16).toUpperCase();\n        st += Math.round(this.B * 0xff).toString(16).toUpperCase();\n        return `Color3(${this.R},${this.G},${this.B},${st})`;\n    }\n}\n\n\nexport =Color3;\n","import JThreeObject = require(\"../JThreeObject\");\nimport Vector4 = require(\"../../Math/Vector4\");\ndeclare function require(string): { [key: string]: string };\n\nclass Color4 extends JThreeObject {\n    constructor(r: number, g: number, b: number, a: number) {\n        super();\n        this._a = a;\n        this._r = r;\n        this._g = g;\n        this._b = b;\n    }\n\n    private _a: number;\n    private _r: number;\n    private _g: number;\n    private _b: number;\n\n    public get A(): number {\n        return this._a;\n    }\n\n    public get R(): number {\n        return this._r;\n    }\n\n    public get G(): number {\n        return this._g;\n    }\n\n    public get B(): number {\n        return this._b;\n    }\n    public toVector():Vector4\n    {\n      return new Vector4(this.R,this.G,this.B,this.A);\n    }\n\n    public static colorTable: { [key: string]: string } = require(\"../../static/color.json\");\n    ///Color parser for css like syntax\n    public static internalParse(color: string, isFirst: boolean): Color4 {\n        if (isFirst && Color4.colorTable[color]) {\n            return Color4.internalParse(Color4.colorTable[color], false);\n        }\n        if (isFirst) {\n            var m = color.match(/^#([0-9a-f]{3})$/i);\n            //#fff\n            if (m) {\n                var s = m[1];\n                return new Color4(\n                    parseInt(s.charAt(0), 16) / 0xf,\n                    parseInt(s.charAt(1), 16) / 0xf,\n                    parseInt(s.charAt(2), 16) / 0xf,\n                    1\n                    );\n            }\n        }\n        if (isFirst) {\n            m = color.match(/^#([0-9a-f]{3})$/i);\n            //#ffff\n            if (m) {\n                var s = m[1];\n                return new Color4(\n                    parseInt(s.charAt(0), 16) / 0xf,\n                    parseInt(s.charAt(1), 16) / 0xf,\n                    parseInt(s.charAt(2), 16) / 0xf,\n                    parseInt(s.charAt(3), 16) / 0xf\n                    );\n            }\n        }\n        //#ffffff\n        m = color.match(/^#([0-9a-f]{6})$/i);\n        if (m) {\n            var s = m[1];\n            return new Color4(\n                parseInt(s.substr(0, 2), 16) / 0xff,\n                parseInt(s.substr(2, 2), 16) / 0xff,\n                parseInt(s.substr(4, 2), 16) / 0xff,\n                1\n                );\n        }\n        //#ffffffff\n        if (isFirst) {\n            m = color.match(/^#([0-9a-f]{8})$/i);\n            if (m ) {\n              var s=m[1];\n                return new Color4(\n                    parseInt(s.substr(0, 2), 16) / 0xff,\n                    parseInt(s.substr(2, 2), 16) / 0xff,\n                    parseInt(s.substr(4, 2), 16) / 0xff,\n                    parseInt(s.substr(6, 2), 16) / 0xff\n                    );\n            }\n        }\n        var n = color.match(/^rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)$/i);\n        if (n && isFirst) {\n            return new Color4(parseInt(n[1]) / 0xff, parseInt(n[2]) / 0xff, parseInt(n[3]) / 0xff, 1);\n        }\n        var n = color.match(/^rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\,\\s*(\\d+)\\s*\\)$/i);\n        if (n && isFirst) {\n            var d=parseInt(n[4]);\n            d=d<=1?d:d/0xff;\n            return new Color4(parseInt(n[1]) / 0xff, parseInt(n[2]) / 0xff, parseInt(n[3]) / 0xff, parseInt(n[4]));\n        }\n        throw new Error(\"color parse failed.\");\n    }\n\n    public static parseColor(color: string): Color4 {\n        return Color4.internalParse(color, true);\n    }\n\n    public toString(): string {\n        var st =\"#\";\n        st += Math.round(this.R * 0xff).toString(16).toUpperCase();\n        st += Math.round(this.G * 0xff).toString(16).toUpperCase();\n        st += Math.round(this.B * 0xff).toString(16).toUpperCase();\n        st += Math.round(this.A * 0xff).toString(16).toUpperCase();\n        return `Color4(${this.R}, ${this.G}, ${this.B},${this.A},${st})`;\n    }\n}\n\n\nexport =Color4;\n","import JThreeObjectWithID = require(\"./JThreeObjectWithID\");\nimport Delegates = require(\"../Base/Delegates\");\nimport AssociativeArray = require('./Collections/AssociativeArray');\n/**\n * Collections for JThreeObjectWithID\n */\nclass JThreeCollection<T extends JThreeObjectWithID>\n{\n  /**\n   * Managed collection\n   * @type {AssociativeArray<T>}\n   */\n  private _collection:AssociativeArray<T>=new AssociativeArray<T>();\n\n  /**\n   * Obtain object by object ID\n   * @param  {string} id object ID\n   * @return {T}        obtained object\n   */\n  public getById(id:string):T\n  {\n    return this._collection.get(id);\n  }\n\n  /**\n   * Check whether specified item is included in this collection\n   * @param  {T}       item the object to check for\n   * @return {boolean}      Whether the item is included or not.\n   */\n  public isContained(item:T):boolean\n  {\n    return this._collection.has(item.ID);\n  }\n\n  /**\n   * Insert specified object into this collection.\n   * If specified object has same ID with an object already inserted, old object will be replaced with new object.\n   * @param  {T}       item the object to insert into\n   * @return {boolean}      Whether specified object was replaced(false) or,simply inserted(true)\n   */\n  public insert(item:T):boolean\n  {\n    if(this._collection.has(item.ID))\n    {\n      return false;\n    }else{\n      this._collection.set(item.ID,item);\n      return true;\n    }\n  }\n\n  /**\n   * Delete specified object from this collection.\n   * @param  {T}       item the object to delete\n   * @return {boolean}      Whether specified object was already exist and deleted, or not.\n   */\n  public del(item:T):boolean\n  {\n    if(this._collection.has(item.ID))\n    {\n      this._collection.delete(item.ID);\n      return true;\n    }else\n      return false;\n  }\n\n  /**\n   * Execute passed function for each objects.\n   * @param  {Delegates.Action3<T,string,JThreeCollection<T>>} act the function to exuecute for\n   */\n  public each(act:Delegates.Action3<T,string,JThreeCollection<T>>):void\n  {\n    this._collection.forEach((a,b)=>act(a,b,this));\n  }\n\n  /**\n   * Basic array converted from this collection\n   */\n  public asArray():T[]\n  {\n    return this._collection.asArray;\n  }\n\n  /**\n   * Count of this collection\n   */\n  public get length()\n  {\n    return this._collection.length;\n  }\n}\n\nexport=JThreeCollection;\n","import JThreeObject = require(\"./JThreeObject\");\nimport Delegates = require(\"../Base/Delegates\");\nimport Exceptions = require(\"../Exceptions\");\n/**\n* The class for implementing in Event-Driven architecture.\n*/\nclass JThreeEvent<T> extends JThreeObject\n{\n  /**\n  * The variable to contain handlers references.\n  */\n  private _eventHandlers:Delegates.Action2<any,T>[]=[];\n\n  /**\n  * Call all of handler you subscribed.\n  */\n  public fire(object:any,eventArg:T):void\n  {\n    this._eventHandlers.forEach((h)=>h(object,eventArg));\n  }\n\n  /**\n  *Add the handler you pass.\n  *@param handler the handler you want to add.\n  */\n  public addListener(handler:Delegates.Action2<any,T>):void\n  {\n    if(typeof handler === \"undefined\")throw new Exceptions.InvalidArgumentException(\"you can not add undefined as event handler\");\n    this._eventHandlers.push(handler);\n  }\n\n  /**\n  * Remove the handler you passing.\n  * @param handler the handler you want to remove.\n  */\n  public removeListener(handler:Delegates.Action2<any,T>):void\n  {\n    for (var i = 0;i <this._eventHandlers.length;i++) {\n        var val = this._eventHandlers[i];\n        if(val ===handler)\n        {\n          this._eventHandlers.splice(i,1);\n          break;\n        }\n    }\n  }\n}\n\nexport = JThreeEvent;\n","import JThreeObject = require(\"./JThreeObject\");\n/**\n * Unique ID generator for jThree objects.\n * @type {[type]}\n */\nclass JThreeID extends JThreeObject\n{\n  /**\n   * Random characters being used for generating unique id.\n   * @type {string}\n   */\n  private static _randomChars:string=\"abcdefghijklmnopqrstuvwxyzABCDEFHIJKLMNOPQRSTUVWXYZ1234567890-\";\n\n  /**\n   * Generate random string\n   * @param  {number} length length of random string\n   * @return {string}        generated string\n   */\n  public static getUniqueRandom(length: number): string {\n      var random: string = \"\";\n      for (var i = 0; i < length; i++) {\n          random += JThreeID._randomChars.charAt(Math.random() * JThreeID._randomChars.length);\n      }\n      return random;\n  }\n}\n\nexport=JThreeID;\n","class JThreeLogger\n{\n    public static sectionLog(sectionName:string,log:string)\n    {\n      console.log.apply(console,JThreeLogger.sectionLogParams(sectionName,log));\n    }\n\n    public static sectionWarn(sectionName:string,log:string)\n    {\n      console.warn.apply(console,JThreeLogger.sectionLogParams(sectionName,log));\n    }\n\n    public static sectionError(sectionName:string,log:string)\n    {\n      console.error.apply(console,JThreeLogger.sectionLogParams(sectionName,log));\n    }\n\n    public static sectionInfo(sectionName:string,log:string)\n    {\n      console.info.apply(console,JThreeLogger.sectionLogParams(sectionName,log));\n    }\n\n    public static sectionLongLog(sectionName:string,log:string)\n    {\n      var params = JThreeLogger.sectionLogParams(sectionName,\"\");\n      var logLines = log.split('\\n');\n      var entireLog=\"\\n\";\n      for (let i = 0; i < logLines.length; i++) {\n          var line = `%c ${i+1} %c%c ${logLines[i]}\\n`;\n          params.push(\"background-color:#344F66;color:white;\",\"color:#344F66;\",\"\");\n          entireLog+=line;\n      }\n      params[0]+=entireLog;\n      console.log.apply(console,params);\n    }\n\n    private static sectionLogParams(sectionName:string,log:string)\n    {\n      return [\"%c jThree v3 %c \"+sectionName+\" %c%c \"+log,\"background-color:#344F66;color:white;\",\"color:#344F66;background-color:#D1D4D7;\",\"color:#D1D4D7;\",\"\"];\n    }\n}\nexport = JThreeLogger;\n","import JsHack = require(\"./JsHack\");\n/**\n * Most based object for any jthree related classes.\n * @type {[type]}\n */\nclass JThreeObject\n{\n  /**\n   * Obtain stringfied object.\n   * If this method was not overridden, this method return class name.\n   * @return {string} stringfied object\n   */\n  public toString(): string {\n      return JsHack.getObjectName(this);\n  }\n\n  /**\n   * Obtain class name\n   * @return {string} Class name of the instance.\n   */\n  public getTypeName(): string {\n      return JsHack.getObjectName(this);\n  }\n}\n\nexport=JThreeObject;\n","import JThreeObject = require(\"./JThreeObject\");\nimport JThreeID = require(\"./JThreeID\");\n\n/**\n * JThree object with unique ID to identify object instancies.\n * @type {[type]}\n */\nclass JThreeObjectWithID extends JThreeObject\n{\n  constructor(id?:string) {\n      super();\n      this._id =id|| JThreeID.getUniqueRandom(10);\n  }\n\n  /**\n   * ID related to this instance to identify.\n   */\n  private _id: string;\n\n/**\n * Provides an ID related to this instance to identify.\n */\n  public get ID(): string\n  {\n      return this._id;\n  }\n\n  public set ID(id:string)\n  {\n    this._id = id;\n  }\n}\n\nexport=JThreeObjectWithID;\n","/**\n * Something tricky static methods for javascript.\n */\nclass JsHack {\n    /**\n     * Obtain the class name of passed object.\n     * @param  {any}    obj any object to get class name for\n     * @return {string}   obtained name\n     */\n    public static getObjectName(obj: any): string {\n        var funcNameRegex = /function (.{1,})\\(/;\n        var result = (funcNameRegex).exec((obj).constructor.toString());\n        return (result && result.length > 1) ? result[1] : \"\";\n    }\n}\n\nexport=JsHack;\n","class ContextComponents\n{\n  public static get SceneManager():number\n  {\n    return 0;\n  }\n\n  public static get CanvasManager():number\n  {\n    return 1;\n  }\n\n  public static get ResourceManager():number\n  {\n    return 2;\n  }\n\n  public static get NodeManager():number\n  {\n    return 3;\n  }\n\n  public static get LoopManager():number\n  {\n    return 4;\n  }\n\n  public static get Timer():number\n  {\n    return 5;\n  }\n\n  public static get Debugger():number\n  {\n    return 6;\n  }\n\n  public static get ResourceLoader():number\n  {\n    return 7;\n  }\n\n  public static get MaterialManager():number\n  {\n    return 8;\n  }\n}\n\nexport = ContextComponents;\n","import SceneObject = require(\"../SceneObject\");\nimport Vector3 = require(\"../../Math/Vector3\");\nimport Matrix = require(\"../../Math/Matrix\");\nimport Exceptions = require(\"../../Exceptions\");\nimport glm = require(\"gl-matrix\");\nimport PointList = require(\"../../Math/PointList\");\n\n/**\n * Basement class of Camera. These class related to camera are one of SceneObject in jThree.\n */\nabstract class Camera extends SceneObject\n{\n\tpublic viewProjectionMatrix:Matrix = new Matrix();\n\n\tpublic viewProjectionInvMatrix:Matrix = new Matrix();\n\n\t/**\n\t * View frustum vertex points in World space\n\t */\n\tpublic frustumPoints:PointList = new PointList();\n\n\tpublic viewMatrix:Matrix = new Matrix();\n\n\tpublic projectionMatrix:Matrix = new Matrix();\n\n\tprotected __updateViewProjectionMatrix()\n\t{\n\t\tglm.mat4.mul(this.viewProjectionMatrix.rawElements,this.projectionMatrix.rawElements,this.viewMatrix.rawElements);\n\t\tglm.mat4.invert(this.viewProjectionInvMatrix.rawElements,this.viewProjectionMatrix.rawElements);\n\t\tPointList.initializeWithCube(this.frustumPoints);\n\t\tthis.frustumPoints.transform(this.viewProjectionInvMatrix);\n\t}\n\n\tpublic update():void\n\t{\n\t\tsuper.update();\n\t}\n\n\tpublic onParentSceneChanged()\n\t{\n\t\tthis.ParentScene.addCamera(this);\n\t}\n}\n\nexport=Camera;\n","import ViewCamera = require(\"./ViewCameraBase\");\nimport Matrix = require(\"../../Math/Matrix\");\nimport glm = require(\"gl-matrix\");\nclass OrthoCamera extends ViewCamera {\n    private _left: number;\n    private _right: number;\n    private _top: number;\n    private _bottom: number;\n    private _near: number;\n    private _far: number;\n\n    constructor() {\n        super();\n        this._updateProjectionMatrix();\n    }\n\n    private _updateProjectionMatrix() {\n        glm.mat4.ortho(this.projectionMatrix.rawElements, this.Left, this.Right, this.Bottom, this.Top, this.Near, this.Far);\n        this.__updateViewProjectionMatrix();\n    }\n\n    public get Left(): number {\n        return this._left;\n    }\n\n    public set Left(left: number) {\n        this._left = left;\n        this._updateProjectionMatrix();\n    }\n\n    public get Right(): number {\n        return this._right;\n    }\n\n    public set Right(right: number) {\n        this._right = right;\n        this._updateProjectionMatrix();\n    }\n\n    public get Top(): number {\n        return this._top;\n    }\n\n    public set Top(_top: number) {\n        this._top = _top;\n        this._updateProjectionMatrix();\n    }\n\n    public get Bottom() {\n        return this._bottom;\n    }\n\n    public set Bottom(bottom: number) {\n        this._bottom = bottom;\n        this._updateProjectionMatrix();\n    }\n\n    public get Near(): number {\n        return this._near;\n    }\n\n    public set Near(near: number) {\n        this._near = near;\n        this._updateProjectionMatrix();\n    }\n\n    public get Far(): number {\n        return this._far;\n    }\n\n    public set Far(far: number) {\n        this._far = far;\n        this._updateProjectionMatrix();\n    }\n\n}\n\nexport =OrthoCamera;\n","import ViewCamera = require(\"./ViewCameraBase\");\nimport Matrix = require(\"../../Math/Matrix\");\nimport glm = require(\"gl-matrix\");\nclass PerspectiveCamera extends ViewCamera {\n    private _fovy: number = Math.PI / 4;\n    private _aspect: number = 1;\n    private _near: number = 0.1;\n    private _far: number = 10;\n\n    private _updateProjectionMatrix() {\n        glm.mat4.perspective(this.projectionMatrix.rawElements, this._fovy, this._aspect, this._near, this._far);\n        this.__updateViewProjectionMatrix();\n    }\n\n    public get Fovy(): number {\n        return this._fovy;\n    }\n\n    public set Fovy(fovy: number) {\n        this._fovy = fovy;\n        this._updateProjectionMatrix();\n    }\n\n    public get Aspect(): number {\n        return this._aspect;\n    }\n\n    public set Aspect(aspect: number) {\n        this._aspect = aspect;\n        this._updateProjectionMatrix();\n    }\n\n    public get Near(): number {\n        return this._near;\n    }\n\n    public set Near(near: number) {\n        this._near = near;\n        this._updateProjectionMatrix();\n    }\n\n    public get Far(): number {\n        return this._far;\n    }\n\n    public set Far(far: number) {\n        this._far = far;\n        this._updateProjectionMatrix();\n    }\n}\n\nexport =PerspectiveCamera;\n","import Camera = require(\"./Camera\");\nimport Vector3 = require(\"../../Math/Vector3\");\nimport Matrix = require(\"../../Math/Matrix\");\nimport SceneObject = require(\"../SceneObject\");\nimport glm = require(\"gl-matrix\");\n/**\n * The abstract class to be overridden by camera related class having view matrix.\n *\n * \n * @type {[type]}\n */\nabstract class ViewCameraBase extends Camera\n{\n  /**\n   * constructor\n   */\n  constructor()\n  {\n    super();\n    this._generateViewMatrix();\n    this.transformer.onUpdateTransform((t,o)=>this._updateViewProjectionMatrix());\n  }\n\n  /**\n   * Notify view-projection matrix was updated.\n   *\n   * \n   */\n  private _updateViewProjectionMatrix():void\n  {\n    this._generateViewMatrix();\n    this.__updateViewProjectionMatrix();\n  }\n\n  /**\n   * Generate view matrix\n   *\n   * \n   */\n  private _generateViewMatrix():void\n  {\n    glm.mat4.lookAt(this.viewMatrix.rawElements,this.Transformer.GlobalPosition.rawElements, Vector3.add(this.Transformer.forward,this.Transformer.GlobalPosition).rawElements,this.Transformer.up.rawElements);\n  }\n}\n\nexport=ViewCameraBase;\n","import GLExtensionManager = require(\"./GLExtensionManager\");\nimport Rectangle = require(\"../Math/Rectangle\");\nimport JThreeContext = require(\"../JThreeContext\");\nimport BasicRenderer = require(\"./Renderers/BasicRenderer\");\nimport ClearTargetType = require(\"../Wrapper/ClearTargetType\");\nimport JThreeEvent = require('../Base/JThreeEvent');\nimport CanvasSizeChangedEventArgs = require('./CanvasSizeChangedEventArgs');\nimport Delegates = require('../Base/Delegates');\nimport ContextComponents = require(\"../ContextComponents\");\nimport CanvasManager = require(\"./CanvasManager\");\nimport Debugger = require(\"../Debug/Debugger\");\nimport JThreeObjectWithID = require(\"../Base/JThreeObjectWithID\");\nimport Color4 = require(\"../Base/Color/Color4\");\nimport CanvasRegion = require(\"./CanvasRegion\");\n/**\n * The class to manage HTMLCanvasElement.\n * Provides most of interfaces related to GLContext except the features resource manager providing.\n *\n * HTMLCanvasElement\n * GLContext\n */\nclass Canvas extends CanvasRegion {\n\n    /**\n     * Constructor\n     * @param  {HTMLCanvasElement} canvasElement the HTMLCanvasElement that is managed by this class.\n     */\n    constructor(canvasElement: HTMLCanvasElement) {\n        super(canvasElement);\n        this._lastWidth = canvasElement.width;\n        this._lastHeight = canvasElement.height;\n        this.__setGLContext(this._tryGetGLContext());\n    }\n\n    /**\n     * Attempts to try getting GLContext from canvas.\n     * @return {WebGLRenderingContext} [description]\n     */\n    private _tryGetGLContext(): WebGLRenderingContext {\n        try {\n            return <WebGLRenderingContext>this.canvasElement.getContext(\"webgl\") || this.canvasElement.getContext(\"experimental-webgl\");\n        } catch (e) {\n            console.error(\"WebGL context generation failed\" + e);\n        }\n    }\n\n    /**\n     * canvas height of last time\n     */\n    private _lastHeight: number;\n\n    /**\n     * canvas width of last time\n     */\n    private _lastWidth: number;\n\n    /**\n     * event cache for resize event.\n     */\n    public canvasResized: JThreeEvent<CanvasSizeChangedEventArgs> = new JThreeEvent<CanvasSizeChangedEventArgs>();\n\n    /**\n     * Called after rendering. It needs super.afterRenderer(renderer) when you need to override.\n     */\n    public afterRender(renderer: BasicRenderer): void {\n    }\n\n    public afterRenderAll(): void {\n    }\n    public beforeRender(renderer: BasicRenderer): void {\n        this.clearCanvas();\n    }\n    public beforeRenderAll(): void {\n        //check size changed or not.\n        if (this.canvasElement.height !== this._lastHeight || this.canvasElement.width !== this._lastWidth) {\n            this.canvasResized.fire(this, new CanvasSizeChangedEventArgs(this, this._lastWidth, this._lastHeight, this.canvasElement.width, this.canvasElement.height));\n            this._lastHeight = this.canvasElement.height; this._lastWidth = this.canvasElement.width;\n        }\n    }\n    /**\n     * clear the default buffer of this canvas with ClearColor.\n     */\n    public clearCanvas(): void {\n        this.GL.bindFramebuffer(this.GL.FRAMEBUFFER, null);//binds to default buffer.\n        this.applyClearColor();\n        this.GL.clear(ClearTargetType.ColorBits | ClearTargetType.DepthBits);\n    }\n    \n    public get region(): Rectangle {\n        return new Rectangle(0, 0, this._lastWidth, this._lastHeight);\n    }\n    /**\n    * backing field for ClearColor\n    */\n    public clearColor: Color4 = new Color4(1, 1, 1, 1);\n    public GL: WebGLRenderingContext;\n    public glExtensionManager: GLExtensionManager = new GLExtensionManager();\n    /**\n     * apply gl context after webglrendering context initiated.\n     */\n    protected __setGLContext(glContext: WebGLRenderingContext) {\n        this.GL = glContext;\n        this.glExtensionManager.checkExtensions(glContext);\n    }\n\n    public applyClearColor() {\n        this.GL.clearColor(this.clearColor.R, this.clearColor.G, this.clearColor.B, this.clearColor.A);\n    }\n}\n\n\nexport =Canvas;\n","import JThreeObject = require(\"../Base/JThreeObject\");\nimport RendererStateChangedType = require(\"./ListStateChangedType\");\nimport Canvas = require(\"./Canvas\");\n\nclass CanvasListChangedEventArgs extends JThreeObject\n{\n  constructor(private changeType: RendererStateChangedType, private affectedRenderer: Canvas) {\n      super();\n  }\n\n\n  /**\n   * the type of changing to renderer\n   */\n    public get ChangeType(): RendererStateChangedType {\n      return this.changeType;\n  }\n\n  /**\n   * the renderer affected\n   */\n    public get AffectedRenderer(): Canvas {\n      return this.affectedRenderer;\n  }\n}\n\nexport=CanvasListChangedEventArgs;\n","import IContextComponent = require(\"../IContextComponent\");\nimport ContextComponents = require(\"../ContextComponents\");\nimport Canvas = require(\"./Canvas\");\nimport GLSpecManager = require(\"./GLSpecManager\");\nimport JThreeEvent = require(\"../Base/JThreeEvent\");\nimport CanvasListChangedEventArgs = require(\"./CanvasListChangedEventArgs\");\nimport ListStateChangedType = require(\"./ListStateChangedType\");\n/**\n * A context component provides the feature to manage all of canvas.\n *\n *Canvas\n * @type {[type]}\n */\nclass CanvasManager implements IContextComponent\n{\n  /**\n   * Implementation for IContextComponent\n   */\n  public getContextComponentIndex():number\n  {\n    return ContextComponents.CanvasManager;\n  }\n\n  /**\n   * All canvas managed by jThree\n   * @type {Canvas[]}\n   */\n  public canvases:Canvas[] = [];\n\n  /**\n   * Event object notifying when canvas list is changed\n   * @type {JThreeEvent<CanvasListChangedEventArgs>}\n   */\n  public canvasListChanged:JThreeEvent<CanvasListChangedEventArgs> = new JThreeEvent<CanvasListChangedEventArgs>();\n\n  /**\n   * Add canvas to be managed.\n   * @param {Canvas} canvas [description]\n   */\n  public addCanvas(canvas:Canvas):void\n  {\n    if (this.canvases.indexOf(canvas) === -1)\n    {\n        this.canvases.push(canvas);\n        this.canvasListChanged.fire(this,new CanvasListChangedEventArgs(ListStateChangedType.Add,canvas));\n    }\n  }\n\n  /**\n   * Remove canvas from managed canvas list.\n   */\n  public removeCanvas(canvas: Canvas): void {\n      if (this.canvases.indexOf(canvas) !== -1) {\n          for (var i = 0; i < this.canvases.length; i++) {\n              if (this.canvases[i] === canvas)\n              {\n                  this.canvases.splice(i, 1);\n                  break;\n              }\n          }\n          this.canvasListChanged.fire(this,new CanvasListChangedEventArgs(ListStateChangedType.Delete,canvas));\n      }\n  }\n\n  public beforeRenderAll()\n  {\n    this.canvases.forEach((c)=>c.beforeRenderAll());\n  }\n\n  public afterRenderAll()\n  {\n    this.canvases.forEach((c)=>c.afterRenderAll());\n  }\n}\n\nexport = CanvasManager;\n","import IMouseEventArgs = require(\"./IMouseEventArgs\");\nimport JThreeEvent = require(\"../Base/JThreeEvent\");\nimport IDisposable = require(\"../Base/IDisposable\");\nimport Rectangle = require(\"../Math/Rectangle\");\nimport JThreeObjectWithID = require(\"../Base/JThreeObjectWithID\");\nimport Vector2 = require(\"../Math/Vector2\");\nimport JThreeContext = require(\"../JThreeContext\");\nimport Debugger = require(\"../Debug/Debugger\");\nimport ContextComponents = require(\"../ContextComponents\");\n/**\n * Abstract class to provide mouse tracking feature on a part of region on canvas.\n * This class is intended to be used in Canvas and viewport renderer.\n *\n * \n * \n */\nclass CanvasRegion extends JThreeObjectWithID implements IDisposable {\n    /**\n     * Constructor\n     * @param  {HTMLCanvasElement} canvasElement the canvas element which contains this region\n     */\n    constructor(canvasElement: HTMLCanvasElement) {\n        super();\n        this.canvasElement = canvasElement;\n        this.canvasElement.addEventListener('mousemove', this._mouseMoveHandler, false);\n        this.canvasElement.addEventListener('mouseenter', this._mouseEnterHandler, false);\n        this.canvasElement.addEventListener('mouseleave', this._mouseLeaveHandler, false);\n        this.name = this.ID;\n    }\n\n    /**\n     * Dispose used objects and event handlers.\n     *\n     *\n     */\n    public dispose() {\n        this.canvasElement.removeEventListener('mousemove', this._mouseMoveHandler, false);\n        this.canvasElement.removeEventListener('mouseenter', this._mouseEnterHandler, false);\n        this.canvasElement.removeEventListener('mouseleave', this._mouseLeaveHandler, false);\n    }\n\n    /**\n     * The name for identifying this instance.\n     * Random generated unique ID will be used as default.\n     *\n     * \n     * \n     */\n    public name: string;\n\n    /**\n     * The html canvas element containing this renderable region.\n     *\n     * HTMLCanvasElement\n     */\n    public canvasElement: HTMLCanvasElement;\n\n    /**\n     * Whether mouse is on the region or not.\n     *\n     * \n     */\n    public mouseOver: boolean = false;\n\n    /**\n     * Mouse position in this region.\n     * This position value is normalized in [0,1]\n     *\n     * \n     * XY[0,1]\n     */\n    public mousePosition: Vector2 = new Vector2(0, 0);\n\n    public mouseEvent:JThreeEvent<IMouseEventArgs>=new JThreeEvent<IMouseEventArgs>();\n\n\n    /**\n     * The region managed by this class.(This getter should be overridden)\n     *\n     * (getter)\n     */\n    public get region(): Rectangle {\n        return null;\n    }\n\n    private _mouseMoveHandler = ((e: MouseEvent): void => {\n        this._checkMouseInside(e, true);\n        this.mouseEvent.fire(this,{\n          enter:false,\n          leave:false,\n          mouseOver:this.mouseOver,\n          mousePosition:this.mousePosition,\n          region:this\n        });\n    }).bind(this);\n\n    private _mouseLeaveHandler = ((e: MouseEvent): void => {\n        this._checkMouseInside(e, false);\n        this.mouseEvent.fire(this,{\n          enter:false,\n          leave:true,\n          mouseOver:this.mouseOver,\n          mousePosition:this.mousePosition,\n          region:this\n        });\n    }).bind(this);\n\n    private _mouseEnterHandler = ((e: MouseEvent): void => {\n        this._checkMouseInside(e, true);\n        this.mouseEvent.fire(this,{\n          enter:true,\n          leave:false,\n          mouseOver:this.mouseOver,\n          mousePosition:this.mousePosition,\n          region:this\n        });\n    }).bind(this);\n\n    private _checkMouseInside(e: MouseEvent, mouseState: boolean): boolean {\n      //TODO fix bug here\n        var r = this.region;\n        var rect = this.canvasElement.getBoundingClientRect();\n        var cWidth = rect.right - rect.left;\n        var cHeight = rect.bottom - rect.top;\n        var x = (e.clientX - rect.left) / cWidth * this.canvasElement.width;\n        var y = (e.clientY - rect.top) / cHeight * this.canvasElement.height;\n        this.mouseOver = mouseState && r.contains(x, y);\n        if (this.mouseOver) {\n            this.mousePosition.X = (x - r.Left) / r.Width;\n            this.mousePosition.Y = (y - r.Top) / r.Height;\n        } else {\n            this.mousePosition.X = -1;\n            this.mousePosition.Y = -1;\n        }\n        var debug = JThreeContext.getContextComponent<Debugger>(ContextComponents.Debugger);\n        debug.setInfo(`MouseState:${this.name}(${this.getTypeName()})`, {\n            mouseOver: this.mouseOver,\n            mousePositionX: this.mousePosition.X,\n            mousePositionY: this.mousePosition.Y,\n            rawX:(x - r.Left) ,\n            rawY:(y - r.Top)\n        });\n        return this.mouseOver;\n    }\n}\n\nexport = CanvasRegion;\n","import Canvas = require(\"./Canvas\");\n\nclass CanvasSizeChangedEventArg\n{\n\tprivate canvas:Canvas;\n\tprivate lastWidth:number;\n\tprivate lastHeight:number;\n\tprivate newWidth:number;\n\tprivate newHeight:number;\n\tconstructor(target:Canvas,lastWidth:number,lastHeight:number,newWidth:number,newHeight:number)\n\t{\n\t\tthis.canvas=target;\n\t\tthis.lastWidth=lastWidth;\n\t\tthis.lastHeight=lastHeight;\n\t\tthis.newWidth=newWidth;\n\t\tthis.newHeight=newHeight;\n\t}\n\n\tpublic get Canvas():Canvas\n\t{\n\t\treturn this.canvas;\n\t}\n\n\tpublic get LastWidth():number\n\t{\n\t\treturn this.lastWidth;\n\t}\n\n\tpublic get LastHeight():number\n\t{\n\t\treturn this.lastHeight;\n\t}\n\n\tpublic get NewWidth():number\n\t{\n\t\treturn this.newWidth;\n\t}\n\n\tpublic get NewHeight():number\n\t{\n\t\treturn this.newHeight;\n\t}\n}\n\nexport = CanvasSizeChangedEventArg;\n","class GLExtensionList\n{\n  public static ElementIndexUint:string = \"OES_element_index_uint\";\n\n  public static TextureFloat:string = \"OES_texture_float\";\n\n  public static VertexArrayObject:string = \"OES_vertex_array_object\";\n\n  public static TextureFilterAnisotropic:string = \"EXT_texture_filter_anisotropic\";\n}\n\nexport = GLExtensionList;\n","import JThreeObject = require(\"../Base/JThreeObject\");\nimport AssociativeArray = require(\"../Base/Collections/AssociativeArray\");\nimport JThreeLogger = require(\"../Base/JThreeLogger\");\nimport GLExtensionList = require(\"./GLExtensionList\");\n/**\n * Provides the feature to require gl extension.\n */\nclass GLExtensionManager extends JThreeObject {\n    private requiredExtensions =\n    [\n        GLExtensionList.ElementIndexUint,\n        GLExtensionList.TextureFloat,\n        GLExtensionList.TextureFilterAnisotropic,\n        GLExtensionList.VertexArrayObject];\n\n    private extensions: AssociativeArray<any> = new AssociativeArray<any>();\n\n    constructor() {\n        super();\n    }\n\n    public checkExtensions(context: WebGLRenderingContext) {\n        for (var i = 0; i < this.requiredExtensions.length; i++) {\n            var element = this.requiredExtensions[i];\n            var ext;\n            if (typeof element === \"string\") {\n                ext = context.getExtension(element);\n            } else {\n                //Assume type of element is array\n                for (var j = 0; j < element.length; j++) {\n                    ext = context.getExtension(element[j]);\n                    if (ext) break;\n                }\n            }\n            if (!ext) {\n                JThreeLogger.sectionError('GL Extension', `WebGL Extension:${element} was requested,but your browser is not supporting this feature.`);\n            } else {\n                JThreeLogger.sectionLog(\"GL Extension\", `${element} was instanciated successfully`);\n                this.extensions.set(element, ext);\n            }\n        }\n    }\n\n    public getExtension(extName: string): any {\n        return this.extensions.get(extName);\n    }\n\n    public hasExtension(extName: string): boolean {\n        return this.extensions.has(extName);\n    }\n\n}\nexport = GLExtensionManager;\n","import GetParameterType = require(\"../Wrapper/GetParameterType\");\nimport JThreeContext = require(\"../JThreeContext\");\nimport CanvasManager = require(\"./CanvasManager\");\nimport ContextComponents = require(\"../ContextComponents\");\nclass GLSpecManager\n{\n\tprivate static get GLContext()\n\t{\n\t\tvar canvasManager = JThreeContext.getContextComponent<CanvasManager>(ContextComponents.CanvasManager);\n\t\tif(canvasManager.canvases.length>0)\n\t\t{\n\t\t\treturn canvasManager.canvases[0].GL;\n\t\t}else{\n\t\t\tconsole.error(\"can't obtain the gl context to check gl spec\");\n\t\t}\n\t}\n\n\tprivate static getParameterOrCached(cached:number,parameterType:GetParameterType)\n\t{\n\t\treturn cached || GLSpecManager.GLContext.getParameter(parameterType);\n\t}\n\n\tprivate static maxCombinedTextureUnits;\n\n\tpublic static get MaxCombinedTextureUnits()\n\t{\n\t\treturn GLSpecManager.maxCombinedTextureUnits = GLSpecManager.getParameterOrCached(GLSpecManager.maxCombinedTextureUnits,GetParameterType.MaxCombinedTextureImageUnits)\n\t}\n\n\tprivate static maxCubeMapTextureSize;\n\n\tpublic static get MaxCubeMapTextureSize()\n\t{\n\t\treturn GLSpecManager.maxCubeMapTextureSize = GLSpecManager.getParameterOrCached(GLSpecManager.maxCubeMapTextureSize,GetParameterType.MaxCubeMapTextureSize);\n\t}\n\n\tprivate static maxFragmentUniformVectors;\n\n\tpublic static get MaxFragmentUniformVectors()\n\t{\n\t\treturn GLSpecManager.maxFragmentUniformVectors = GLSpecManager.getParameterOrCached(GLSpecManager.maxFragmentUniformVectors,GetParameterType.MaxFragmentUniformVectors);\n\t}\n\n\tprivate static maxRenderbufferSize;\n\n\tpublic static get MaxRenderbufferSize()\n\t{\n\t\treturn GLSpecManager.maxRenderbufferSize = GLSpecManager.getParameterOrCached(GLSpecManager.maxRenderbufferSize,GetParameterType.MaxRenderbufferSize);\n\t}\n\n\tprivate static maxTextureImageUnits;\n\n\tpublic static get MaxTextureImageUnits()\n\t{\n\t\treturn GLSpecManager.maxTextureImageUnits = GLSpecManager.getParameterOrCached(GLSpecManager.maxTextureImageUnits,GetParameterType.MaxTextureImageUnits);\n\t}\n\n\tprivate static maxTextureSize;\n\n\tpublic static get MaxTextureSize()\n\t{\n\t\treturn GLSpecManager.maxTextureSize = GLSpecManager.getParameterOrCached(GLSpecManager.maxTextureSize,GetParameterType.MaxTextureSize);\n\t}\n\n\tprivate static maxVaryingVectors;\n\n\tpublic static get MaxVaryingVectors()\n\t{\n\t\treturn GLSpecManager.maxVaryingVectors = GLSpecManager.getParameterOrCached(GLSpecManager.maxVaryingVectors,GetParameterType.MaxVaryingVectors);\n\t}\n\n\tprivate static maxVertexAttribs;\n\n\tpublic static get MaxVertexAttribs()\n\t{\n\t\treturn GLSpecManager.maxVertexAttribs = GLSpecManager.getParameterOrCached(GLSpecManager.maxVertexAttribs,GetParameterType.MaxVertexAttribs);\n\t}\n\n\tprivate static maxVertexTextureImageUnits;\n\n\tpublic static get MaxVertexTextureImageUnits()\n\t{\n\t\treturn GLSpecManager.maxVertexTextureImageUnits = GLSpecManager.getParameterOrCached(GLSpecManager.maxVertexTextureImageUnits,GetParameterType.MaxVertexTextureImageUnits);\n\t}\n\n\tprivate static maxVertexUniformVectors;\n\n\tpublic static get MaxVertexUniformVectors()\n\t{\n\t\treturn GLSpecManager.maxVertexUniformVectors = GLSpecManager.getParameterOrCached(GLSpecManager.maxVertexUniformVectors,GetParameterType.MaxVertexUniformVectors);\n\t}\n\n\tprivate static maxViewportDims;\n\n\tpublic static get MaxViewportDims()\n\t{\n\t\treturn GLSpecManager.maxViewportDims = GLSpecManager.getParameterOrCached(GLSpecManager.maxViewportDims,GetParameterType.MaxViewportDims);\n\t}\n}\n\nexport = GLSpecManager;\n","import Geometry = require(\"./Geometry\");\nimport BufferTargetType = require(\"../../Wrapper/BufferTargetType\");\nimport BufferUsageType = require(\"../../Wrapper/BufferUsageType\");\nimport ElementType = require(\"../../Wrapper/ElementType\");\nimport Vector3 = require(\"../../Math/Vector3\");\nimport PrimitiveTopology = require(\"../../Wrapper/PrimitiveTopology\");\nimport ContextComponents = require(\"../../ContextComponents\");\nimport JThreeContext = require(\"../../JThreeContext\");\nimport ResourceManager = require(\"../ResourceManager\");\nclass CircleGeometry extends Geometry {\n    private divideCount:number=30;\n\n    public get DiviceCount():number\n    {\n      return this.divideCount;\n    }\n\n    public set DiviceCount(count:number)\n    {\n      this.divideCount=count;\n      this.updateBuffers();\n    }\n\n    constructor(name:string) {\n        super();\n        var rm = JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager);\n        this.primitiveTopology=PrimitiveTopology.Triangles;\n        this.indexBuffer=rm.createBuffer(name+\"index\",BufferTargetType.ElementArrayBuffer, BufferUsageType.StaticDraw, 1, ElementType.UnsignedByte);\n        this.positionBuffer=rm.createBuffer(name+\"-pos\",BufferTargetType.ArrayBuffer, BufferUsageType.StaticDraw, 3, ElementType.Float);\n        this.normalBuffer=rm.createBuffer(name+\"-nor\",BufferTargetType.ArrayBuffer, BufferUsageType.StaticDraw, 3, ElementType.Float);\n        this.uvBuffer=rm.createBuffer(name+\"-uv\",BufferTargetType.ArrayBuffer,BufferUsageType.StaticDraw,2,ElementType.Float);\n        this.updateBuffers();\n    }\n\n\n    protected updateBuffers():void\n    {\n      var pos:number[]=[];\n      var normal:number[]=[];\n      var uv:number[]=[];\n      var index:number[]=[];\n      this.addCircle(pos,normal,uv,index,this.divideCount,Vector3.Zero,Vector3.YUnit,new Vector3(0,0,-1));\n      this.indexBuffer.update(new Uint8Array(index),index.length);\n      this.normalBuffer.update(new Float32Array(normal),normal.length);\n      this.uvBuffer.update(new Float32Array(uv),uv.length);\n      this.positionBuffer.update(new Float32Array(pos),pos.length);\n    }\n}\n\nexport=CircleGeometry;\n","import Geometry = require(\"./Geometry\");\nimport BufferTargetType = require(\"../../Wrapper/BufferTargetType\");\nimport BufferUsageType = require(\"../../Wrapper/BufferUsageType\");\nimport ElementType = require(\"../../Wrapper/ElementType\");\nimport Vector3 = require(\"../../Math/Vector3\");\nimport PrimitiveTopology = require(\"../../Wrapper/PrimitiveTopology\");\nimport ResourceManager = require(\"../ResourceManager\");\nimport JThreeContext = require(\"../../JThreeContext\");\nimport ContextComponents = require(\"../../ContextComponents\");\nclass CubeGeometry extends Geometry {\n    constructor(name: string) {\n        super();\n        var rm = JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager);\n        this.primitiveTopology = PrimitiveTopology.Triangles;\n        this.indexBuffer = rm.createBuffer(name + \"index\", BufferTargetType.ElementArrayBuffer, BufferUsageType.StaticDraw, 1, ElementType.UnsignedByte);\n        this.positionBuffer = rm.createBuffer(name + \"-pos\", BufferTargetType.ArrayBuffer, BufferUsageType.StaticDraw, 3, ElementType.Float);\n        this.normalBuffer = rm.createBuffer(name + \"-nor\", BufferTargetType.ArrayBuffer, BufferUsageType.StaticDraw, 3, ElementType.Float);\n        this.uvBuffer = rm.createBuffer(name + \"-uv\", BufferTargetType.ArrayBuffer, BufferUsageType.StaticDraw, 2, ElementType.Float);\n        this.updateBuffers();\n    }\n\n\n    protected updateBuffers(): void {\n    var pos: number[] = [];\n    var normal: number[] = [];\n    var uv: number[] = [];\n    var index: number[] = [];\n    this.addQuad(pos, normal, uv, index, [new Vector3(-1, 1, 1), new Vector3(-1, -1, 1), new Vector3(1, 1, 1)]);\n    this.addQuad(pos, normal, uv, index, [new Vector3(1, 1, 1),  new Vector3(1, -1, 1),  new Vector3(1, 1, -1)]);\n    this.addQuad(pos, normal, uv, index, [new Vector3(1, 1, -1), new Vector3(1, -1, -1), new Vector3(-1, 1, -1)]);\n    this.addQuad(pos, normal, uv, index, [new Vector3(-1, 1, -1),new Vector3(-1, -1, -1),new Vector3(-1, 1, 1)]);\n    this.addQuad(pos, normal, uv, index, [new Vector3(-1, 1, 1), new Vector3(1, 1, 1),   new Vector3(-1, 1, -1)]);\n    this.addQuad(pos, normal, uv, index, [new Vector3(1, -1, 1), new Vector3(-1, -1, 1), new Vector3(1, -1, -1)]);\n    this.indexBuffer.update(new Uint8Array(index), index.length);\n    this.normalBuffer.update(new Float32Array(normal), normal.length);\n    this.uvBuffer.update(new Float32Array(uv), uv.length);\n    this.positionBuffer.update(new Float32Array(pos), pos.length);\n    }\n\n  public drawElements(canvas, material) {\n    super.drawElements(canvas, material);\n  }\n\n}\n\nexport =CubeGeometry;\n","import Geometry = require(\"./Geometry\");\nimport BufferTargetType = require(\"../../Wrapper/BufferTargetType\");\nimport BufferUsageType = require(\"../../Wrapper/BufferUsageType\");\nimport ElementType = require(\"../../Wrapper/ElementType\");\nimport Vector3 = require(\"../../Math/Vector3\");\nimport PrimitiveTopology = require(\"../../Wrapper/PrimitiveTopology\");\nimport JThreeContext = require(\"../../JThreeContext\");\nimport ContextComponents = require(\"../../ContextComponents\");\nimport ResourceManager = require(\"../ResourceManager\");\nclass CylinderGeometry extends Geometry {\n\n    private divideCount:number=10;\n\n    public get DivideCount()\n    {\n      return this.divideCount;\n    }\n\n    public set DivideCount(count:number)\n    {\n      this.divideCount=count;\n      this.updateBuffers();\n    }\n\n    constructor(name:string) {\n        super();\n        var rm = JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager);\n        this.primitiveTopology=PrimitiveTopology.Triangles;\n        this.indexBuffer=rm.createBuffer(name+\"index\",BufferTargetType.ElementArrayBuffer, BufferUsageType.StaticDraw, 1, ElementType.UnsignedShort);\n        this.positionBuffer=rm.createBuffer(name+\"-pos\",BufferTargetType.ArrayBuffer, BufferUsageType.StaticDraw, 3, ElementType.Float);\n        this.normalBuffer=rm.createBuffer(name+\"-nor\",BufferTargetType.ArrayBuffer, BufferUsageType.StaticDraw, 3, ElementType.Float);\n        this.uvBuffer=rm.createBuffer(name+\"-uv\",BufferTargetType.ArrayBuffer,BufferUsageType.StaticDraw,2,ElementType.Float);\n        this.updateBuffers();\n    }\n\n\n    protected updateBuffers():void\n    {\n      var pos:number[]=[];\n      var normal:number[]=[];\n      var uv:number[]=[];\n      var index:number[]=[];\n      this.addCylinder(pos,normal,uv,index,this.DivideCount,new Vector3(0,1,0),new Vector3(0,-1,0),new Vector3(0,0,-1),1);\n      this.indexBuffer.update(new Uint16Array(index),index.length);\n      this.normalBuffer.update(new Float32Array(normal),normal.length);\n      this.uvBuffer.update(new Float32Array(uv),uv.length);\n      this.positionBuffer.update(new Float32Array(pos),pos.length);\n    }\n}\n\nexport=CylinderGeometry;\n","import jThreeObject = require(\"../../Base/JThreeObject\");\nimport Buffer = require(\"./../Resources/Buffer/Buffer\");\nimport PrimitiveTopology = require(\"../../Wrapper/PrimitiveTopology\");\nimport Vector3 = require(\"../../Math/Vector3\");\nimport Canvas = require(\"./../Canvas\");\nimport Material = require(\"./../Materials/Material\");\n/**\n * Base abstraction for geometry.\n */\nclass Geometry extends jThreeObject {\n   protected positionBuffer: Buffer;\n   protected normalBuffer: Buffer;\n   protected uvBuffer: Buffer;\n   protected indexBuffer:Buffer;\n   protected primitiveTopology:PrimitiveTopology=PrimitiveTopology.Triangles;\n\n    public get PositionBuffer(): Buffer {\n       return this.positionBuffer;\n   }\n\n    public get NormalBuffer(): Buffer {\n       return this.normalBuffer;\n   }\n\n    public get UVBuffer(): Buffer {\n       return this.uvBuffer;\n   }\n\n    public get IndexBuffer():Buffer\n   {\n     return this.indexBuffer;\n   }\n\n   /**\n    * 3 times of surface count.\n    */\n    public get IndexCount()\n   {\n     return this.indexBuffer.Length;\n   }\n\n    public get GeometryOffset()\n   {\n     return 0;\n   }\n\n    public get PrimitiveTopology():PrimitiveTopology\n   {\n     return this.primitiveTopology;\n   }\n\n   public drawElements(canvas:Canvas,material:Material)\n   {\n     if(material)\n     {\n       canvas.GL.drawElements(this.PrimitiveTopology,material.getDrawGeometryLength(this),this.IndexBuffer.ElementType,material.getDrawGeometryOffset(this));\n       return;\n     }\n     canvas.GL.drawElements(this.PrimitiveTopology,this.IndexCount,this.IndexBuffer.ElementType,this.GeometryOffset);\n   }\n\n   protected addQuad(pos:number[],normal:number[],uv:number[],index:number[],points:Vector3[]):void\n   {\n     var startIndex = pos.length / 3;\n     var v0 = points[0], v1 = points[1], v3 = points[2];\n     var v02v1 = v1.subtractWith(v0);\n     var v02v3 = v3.subtractWith(v0);\n     var v2 = v0.addWith(v02v1).addWith(v02v3);\n     var nV = v02v1.crossWith(v02v3).normalizeThis();\n     normal.push(nV.X, nV.Y, nV.Z, nV.X, nV.Y, nV.Z, nV.X, nV.Y, nV.Z, nV.X, nV.Y, nV.Z);\n     uv.push(0, 1, 0, 0, 1, 0, 1, 1);\n     pos.push(v0.X, v0.Y, v0.Z, v1.X, v1.Y, v1.Z, v2.X, v2.Y, v2.Z, v3.X, v3.Y, v3.Z);\n     index.push(startIndex, startIndex + 1, startIndex + 3, startIndex + 3, startIndex + 1, startIndex + 2);\n     // var v0=points[0],v1=points[1],v=points[2];\n     // var v02v1=v1.subtractWith(v0);\n     // var v02v2=v2.subtractWith(v0);\n     // var v3=v0.addWith(v02v1).addWith(v02v2);\n     // var nV=v02v2.crossWith(v02v1).normalizeThis();\n     // var startIndex=pos.length/3;\n     // normal.push(nV.X,nV.Y,nV.Z,nV.X,nV.Y,nV.Z,nV.X,nV.Y,nV.Z,nV.X,nV.Y,nV.Z);\n     // uv.push(0,1,1,1,1,0,0,0);\n     // pos.push(v0.X,v0.Y,v0.Z,v1.X,v1.Y,v1.Z,v3.X,v3.Y,v3.Z,v2.X,v2.Y,v2.Z);\n     // index.push(startIndex,startIndex+2,startIndex+1,startIndex,startIndex+3,startIndex+2);\n   }\n\n   protected addCircle(pos:number[],normal:number[],uv:number[],index:number[],divide:number,center:Vector3,normalVector:Vector3,tangentVector:Vector3)\n   {\n     var tan2=Vector3.cross(tangentVector,normalVector);\n     var vecCount=2+divide;\n     var baseIndex=uv.length/2;\n      for (var i = 0; i < vecCount; i++) {\n         var v:Vector3=this.calcNextPointInCircle(i,divide,center,tangentVector,tan2);\n         var u=this.calcUVInCircle(i,divide);\n         pos.push(v.X,v.Y,v.Z);\n         normal.push(normalVector.X,normalVector.Y,normalVector.Z);\n         uv.push(u[0],u[1]);\n     }\n     for (var i = 0; i < divide; i++) {\n       index.push(baseIndex);\n       index.push(baseIndex+i+2);\n       index.push(baseIndex+i+1);\n    }\n   }\n\n   private calcUVInCircle(index:number,divCount:number):number[]\n   {\n     if(index==0)return [0,0];\n     var angle=(index-1)*2*Math.PI/divCount;\n     return [Math.cos(angle),Math.sin(angle)];\n   }\n\n   private calcNextPointInCircle(index:number,divCount:number,center:Vector3,tan:Vector3,tan2:Vector3):Vector3\n   {\n     var angle=(index-1)*2*Math.PI/divCount;\n     return index === 0?center:\n      Vector3.add(center,Vector3.add(tan.multiplyWith(Math.sin(angle)),tan2.multiplyWith(Math.cos(angle))));\n   }\n\n\n\n   protected addCylinder(pos:number[],normal:number[],uv:number[],index:number[],divide:number,start:Vector3,end:Vector3,tangent:Vector3,radius:number)\n   {\n     var dest:Vector3 = Vector3.subtract(end,start);\n     var tangentNormalized:Vector3=tangent.normalizeThis();\n     var tan2:Vector3=Vector3.cross(dest.normalizeThis(),tangentNormalized);\n     tangentNormalized=tangentNormalized.multiplyWith(radius);\n     tan2=tan2.multiplyWith(radius);\n     for(var i=0;i<divide;i++)\n     {\n       var angle=(i-1)*2*Math.PI/divide;\n       var angleTo=i*2*Math.PI/divide;\n       var currentNormal=Vector3.add(tan2.multiplyWith(Math.cos(angle)),tangentNormalized.multiplyWith(Math.sin(angle)));\n       var nextNormal=Vector3.add(tan2.multiplyWith(Math.cos(angleTo)),tangentNormalized.multiplyWith(Math.sin(angleTo)));\n       var v0=Vector3.add(start,currentNormal);\n       var v1= Vector3.add(start,nextNormal);\n       var v2 = Vector3.add(v0,dest);\n       var v3=v1.addWith(dest);\n       var startIndex=pos.length/3;\n       normal.push(currentNormal.X,currentNormal.Y,currentNormal.Z,\n          nextNormal.X,nextNormal.Y,nextNormal.Z,\n          nextNormal.X,nextNormal.Y,nextNormal.Z,\n          currentNormal.X,currentNormal.Y,currentNormal.Z);\n       uv.push(0,1,1,0,1,0,0,0);\n       pos.push(v0.X,v0.Y,v0.Z,v1.X,v1.Y,v1.Z,v3.X,v3.Y,v3.Z,v2.X,v2.Y,v2.Z);\n       index.push(startIndex,startIndex+1,startIndex+2,startIndex,startIndex+2,startIndex+3);\n     }\n   }\n\n   public bindIndexBuffer(canvas:Canvas)\n   {\n     this.IndexBuffer.getForContext(canvas).bindBuffer();\n   }\n}\nexport=Geometry;\n","import Geometry = require(\"./Geometry\");\nimport BufferTargetType = require(\"../../Wrapper/BufferTargetType\");\nimport BufferUsageType = require(\"../../Wrapper/BufferUsageType\");\nimport ElementType = require(\"../../Wrapper/ElementType\");\nimport PrimitiveTopology = require(\"../../Wrapper/PrimitiveTopology\");\nimport JThreeContext = require(\"../../JThreeContext\");\nimport ContextComponents = require(\"../../ContextComponents\");\nimport ResourceManager = require(\"../ResourceManager\");\nclass GridGeometry extends Geometry {\n    constructor(name:string) {\n        super();\n        var rm = JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager);\n        this.primitiveTopology=PrimitiveTopology.Lines;\n        this.indexBuffer=rm.createBuffer(name+\"index\",BufferTargetType.ElementArrayBuffer, BufferUsageType.StaticDraw, 1, ElementType.UnsignedShort);\n        this.positionBuffer=rm.createBuffer(name+\"-pos\",BufferTargetType.ArrayBuffer, BufferUsageType.StaticDraw, 3, ElementType.Float);\n        this.normalBuffer=rm.createBuffer(name+\"-nor\",BufferTargetType.ArrayBuffer, BufferUsageType.StaticDraw, 3, ElementType.Float);\n        this.uvBuffer=rm.createBuffer(name+\"-uv\",BufferTargetType.ArrayBuffer,BufferUsageType.StaticDraw,2,ElementType.Float);\n        this.updateBuffers();\n    }\n\n    private holizontalDivide=10;\n    private verticalDivide=10;\n\n    public get HolizontalDivide():number\n    {\n      return this.holizontalDivide;\n    }\n\n    public get VerticalDivide():number\n    {\n      return this.verticalDivide;\n    }\n\n    public set HolizontalDivide(num:number)\n    {\n      this.holizontalDivide=num;\n      this.updateBuffers();\n    }\n\n    public set VerticalDivide(num:number)\n    {\n      this.verticalDivide=num;\n      this.updateBuffers();\n    }\n\n\n    private get VerticiesCount():number\n    {\n      return (this.HolizontalDivide+1)*2+(this.VerticalDivide+1)*2;\n    }\n    protected updatePositionBuffer():void\n    {\n      var arr:number[]=[];\n      for (var i = 0; i < this.HolizontalDivide+1; i++) {\n          var num=-1+1/this.HolizontalDivide*i*2;\n          arr.push(num,0,-1,num,0,1);\n      }\n      for (var i = 0; i < this.VerticalDivide+1; i++) {\n          var num=-1+1/this.VerticalDivide*i*2;\n          arr.push(-1,0,num,1,0,num);\n      }\n      this.positionBuffer.update(new Float32Array(arr),arr.length);\n    }\n\n    protected updateNormalBuffer():void\n    {\n      this.normalBuffer.update(new Float32Array(new Array(this.VerticiesCount*3)),this.VerticiesCount*3);\n    }\n\n    protected updateUvBuffer():void\n    {\n      this.uvBuffer.update(new Float32Array(new Array(this.VerticiesCount*2)),this.VerticiesCount*2)\n    }\n\n    protected updateIndexBuffer():void{\n      var arr:number[]=[];\n      for(var v=0;v<this.VerticiesCount;v++)\n        arr.push(v);\n      this.indexBuffer.update(new Uint16Array(arr),this.VerticiesCount);\n    }\n\n    protected updateBuffers():void\n    {\n      this.updatePositionBuffer();\n      this.updateNormalBuffer();\n      this.updateUvBuffer();\n      this.updateIndexBuffer();\n    }\n}\n\nexport=GridGeometry;\n","import Geometry = require(\"./Geometry\");\nimport BufferTargetType = require(\"../../Wrapper/BufferTargetType\");\nimport BufferUsageType = require(\"../../Wrapper/BufferUsageType\");\nimport ElementType = require(\"../../Wrapper/ElementType\");\nimport Vector3 = require(\"../../Math/Vector3\");\nimport ContextComponents = require(\"../../ContextComponents\");\nimport ResourceManager = require(\"../ResourceManager\");\nimport JThreeContext = require(\"../../JThreeContext\");\nclass QuadGeometry extends Geometry {\n    constructor(name:string) {\n        super();\n        var rm = JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager);\n        this.indexBuffer=rm.createBuffer(name+\"index\",BufferTargetType.ElementArrayBuffer, BufferUsageType.StaticDraw, 1, ElementType.UnsignedByte);\n        this.positionBuffer=rm.createBuffer(name+\"-pos\",BufferTargetType.ArrayBuffer, BufferUsageType.StaticDraw, 3, ElementType.Float);\n        this.normalBuffer=rm.createBuffer(name+\"-nor\",BufferTargetType.ArrayBuffer, BufferUsageType.StaticDraw, 3, ElementType.Float);\n        this.uvBuffer=rm.createBuffer(name+\"-uv\",BufferTargetType.ArrayBuffer,BufferUsageType.StaticDraw,2,ElementType.Float);\n        this.updateBuffers();\n    }\n\n    protected updateBuffers():void\n    {\n      var pos:number[]=[];\n      var nor:number[]=[];\n      var uv:number[] = [];\n      var index:number[]=[];\n      this.addQuad(pos,nor,uv,index,[new Vector3(-1,1,0),new Vector3(-1,-1,0),new Vector3(1,1,0)]);\n      this.positionBuffer.update(new Float32Array(pos),pos.length);\n      this.normalBuffer.update(new Float32Array(nor),nor.length);\n      this.uvBuffer.update(new Float32Array(uv),uv.length);\n      this.indexBuffer.update(new Uint8Array(index),index.length);\n    }\n}\n\nexport=QuadGeometry;\n","import Geometry = require(\"./Geometry\");\nimport BufferTargetType = require(\"../../Wrapper/BufferTargetType\");\nimport BufferUsageType = require(\"../../Wrapper/BufferUsageType\");\nimport ElementType = require(\"../../Wrapper/ElementType\");\nimport Vector3 = require(\"../../Math/Vector3\");\nimport PrimitiveTopology = require(\"../../Wrapper/PrimitiveTopology\");\nimport ContextComponents = require(\"../../ContextComponents\");\nimport JThreeContext = require(\"../../JThreeContext\");\nimport ResourceManager = require(\"../ResourceManager\");\nclass TriangleGeometry extends Geometry {\n    constructor(name:string) {\n        super();\n        var rm = JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager);\n        this.primitiveTopology=PrimitiveTopology.Triangles;\n        this.indexBuffer=rm.createBuffer(name+\"index\",BufferTargetType.ElementArrayBuffer, BufferUsageType.StaticDraw, 1, ElementType.UnsignedByte);\n        this.positionBuffer=rm.createBuffer(name+\"-pos\",BufferTargetType.ArrayBuffer, BufferUsageType.StaticDraw, 3, ElementType.Float);\n        this.normalBuffer=rm.createBuffer(name+\"-nor\",BufferTargetType.ArrayBuffer, BufferUsageType.StaticDraw, 3, ElementType.Float);\n        this.uvBuffer=rm.createBuffer(name+\"-uv\",BufferTargetType.ArrayBuffer,BufferUsageType.StaticDraw,2,ElementType.Float);\n        this.updateBuffers();\n    }\n\n    private first:Vector3=new Vector3(0,1,0);\n    private second:Vector3=new Vector3(1,0,0);\n    private third:Vector3=new Vector3(-1,0,0);\n\n    public set First(vec:Vector3)\n    {\n      this.first=vec;\n      this.updateBuffers();\n    }\n\n\n    public set Second(vec:Vector3)\n    {\n      this.second=vec;\n      this.updateBuffers();\n    }\n\n    public set Third(vec:Vector3)\n    {\n      this.third=vec;\n      this.updateBuffers();\n    }\n\n    protected updatePositionBuffer():void\n    {\n      this.positionBuffer.update(new Float32Array([this.first.X,this.first.Y,this.first.Z,this.second.X,this.second.Y,this.second.Z,this.third.X,this.third.Y,this.third.Z]),9);\n    }\n\n    protected updateNormalBuffer():void\n    {\n      this.normalBuffer.update(new Float32Array([0,0,-1,0,0,-1,0,0,-1]),9);\n    }\n\n    protected updateUvBuffer():void\n    {\n      this.uvBuffer.update(new Float32Array([0.5,0.5,1,0,0,0]),6)\n    }\n\n    protected updateIndexBuffer():void{\n      this.indexBuffer.update(new Uint8Array([0,1,2]),3);\n    }\n\n    protected updateBuffers():void\n    {\n      this.updatePositionBuffer();\n      this.updateNormalBuffer();\n      this.updateUvBuffer();\n      this.updateIndexBuffer();\n    }\n}\n\nexport=TriangleGeometry;\n","export =\n[\n  require(\"./Impl/AreaLight\"),\n  require(\"./Impl/DirectionalLight.ts\"),\n  require(\"./Impl/PointLight.ts\"),\n  require(\"./Impl/SpotLight.ts\"),\n  require(\"./Impl/SceneLight.ts\")\n]\n","import Vector3 = require('../../../Math/Vector3');\nimport LightBase = require('./../LightBase');\nimport Scene = require('../../Scene');\nimport Matrix = require('../../../Math/Matrix');\nimport LightTypeDeclaration = require(\"./../LightTypeDeclaration\");\nimport BasicRenderer = require(\"../../Renderers/BasicRenderer\");\nimport glm = require(\"gl-matrix\");\n\n/**\n * Provides area light feature.\n * Parameters:\n * X:TYPE ID ,XYZ:COLOR\n * XYZ:BASE VECTOR W:NON USED\n * XYZ:Mat3[0-2]\n * XYZ:Mat3[3-5] The matrix \"M\"\n * XYZ:Mat3[6-8]\n * B: base vector\n * R: right vector\n * T: top vector\n * F: far vector\n *\n * For area light test, find k,l,m for arbitary vector V\n * (V-B)=(R-B)k+(T-B)l+(F-B)m\n * If k,l,m  [0,1]the position vector V is inside of range of area light.\n * The matrix M fulfill the rule below.\n * M(V-B) = (k,l,m)^t\n * t is transpose mark.\n */\nclass AreaLight extends LightBase {\n\tconstructor(scene: Scene) {\n\t\tsuper(scene);\n    }\n\n    public getParameters(renderer:BasicRenderer): number[] {\n        var dir = Matrix.transformNormal(renderer.Camera.viewMatrix,this.transformer.forward);\n\t\t\t\tvar vm = Matrix.multiply(renderer.Camera.viewMatrix,this.transformer.LocalToGlobal);\n        var b = Matrix.transformPoint(vm,Vector3.Zero);\n\t\t\t\tvar bp = Matrix.transformPoint(this.transformer.LocalToGlobal,Vector3.Zero);\n        var r = Matrix.transformNormal(renderer.Camera.viewMatrix,this.transformer.right.multiplyWith(this.rightLength));\n        var t = Matrix.transformNormal(renderer.Camera.viewMatrix,this.transformer.up.multiplyWith(this.topLength));\n        var f = Matrix.transformNormal(renderer.Camera.viewMatrix,this.transformer.forward.multiplyWith(this.farLength));\n        var factor =[r.X,r.Y,r.Z,t.X,t.Y,t.Z,f.X,f.Y,f.Z];\n        glm.mat3.invert(factor,factor);\n        return [this.Color.R * this.intensity, this.Color.G * this.intensity, this.Color.B * this.intensity,\n            b.X,b.Y,b.Z,0,\n            factor[0],factor[1],factor[2],0,\n            factor[3],factor[4],factor[5],0,\n            factor[6],factor[7],factor[8]];\n    }\n\n\t\tprivate calcAxis(x:number,y:number,z:number,bp:Vector3)\n\t\t{\n\t\t\treturn new Vector3(x + bp.X , y + bp.Y, -z + bp.Z);\n\t\t}\n\n\tpublic intensity: number = 1.0;\n\n  public rightLength:number =1;\n\n  public farLength:number =1;\n\n  public topLength:number = 1;\n\n\tpublic get LightType(): string {\n\t\treturn \"jthree.lights.arealight\";\n    }\n\n    public static get TypeDefinition(): LightTypeDeclaration\n    {\n        return {\n            typeName: \"jthree.lights.arealight\",\n            requiredParamCount: 5,\n            shaderfuncName: \"calcAreaLight\",\n            diffuseFragmentCode: require('../../Shaders/Light/Area/DiffuseChunk.glsl'),\n            specularFragmentCode: require('../../Shaders/Light/Area/SpecularChunk.glsl')\n        };\n    }\n}\n\nexport = AreaLight;\n","import Vector3 = require('../../../Math/Vector3');\nimport ShadowDroppableLight = require(\"../ShadowMap/ShadowDroppableLight\");\nimport Scene = require('../../Scene');\nimport Matrix = require('../../../Math/Matrix');\nimport LightTypeDeclaration = require(\"./../LightTypeDeclaration\");\nimport BasicRenderer = require(\"../../Renderers/BasicRenderer\");\nimport glm = require(\"gl-matrix\");\nimport PointList = require(\"../../../Math/PointList\");\nimport Camera = require(\"../../Camera/Camera\");\nimport AABB = require(\"../../../Math/AABB\");\nimport ContextComponents = require(\"../../../ContextComponents\");\nimport JThreeContext = require(\"../../../JThreeContext\");\nimport Debugger = require(\"../../../Debug/Debugger\");\n\n/**\n * Provides directional light feature.\n * Parameters:\n * X:TYPE ID ,YZW:COLOR\n * XYZ:DIRECTION\n * X:Shadow map flag,Y:sampler index ,Z: bias\n */\nclass DirectionalLight extends ShadowDroppableLight {\n\tconstructor(scene: Scene) {\n\t\tsuper(scene);\n    }\n\n\n    public getParameters(renderer:BasicRenderer,shadowMapIndex?:number): number[] {\n        var dir = Vector3.normalize(Matrix.transformNormal(renderer.Camera.viewMatrix,this.transformer.forward));\n\t\t\t\tvar debug = JThreeContext.getContextComponent<Debugger>(ContextComponents.Debugger);\n\t\t\t\tdebug.setInfo(\"lDir\",dir.toString());\n        return [this.Color.R * this.intensity, this.Color.G * this.intensity, this.Color.B * this.intensity,\n            dir.X,dir.Y,dir.Z,0,\n\t\t\t\t\tthis.isShadowDroppable?1:0,shadowMapIndex,this.bias];\n    }\n\n\t\tprivate shadowProjectionMatrixCache:Matrix = Matrix.zero();\n\n\t\tprivate shadowViewMatrixCache:Matrix = Matrix.zero();\n\n\t\tprivate shadowMatrixCache:Matrix = Matrix.zero();\n\n\t\tprivate nearClip:number = 0.1;\n\n\t\t/**\n\t\t * Calculate up vector of light view.\n\t\t */\n\t\tprivate computeUpVector(viewDir:Vector3,lightDir:Vector3):Vector3\n\t\t{\n\t\t\tvar left = Vector3.cross(lightDir,viewDir);\n\t\t\tvar up = Vector3.cross(left,lightDir);\n\t\t\treturn up;\n\t\t}\n\n\t\tprivate computePerspective(n:number,f:number)\n\t\t{\n\t\t\tvar m = Matrix.identity();\n\t\t\tm.rawElements[ 5] = (f+n)/(f-n);\t\t// [ 1 0 0 0]\n\t\t\tm.rawElements[13] = -2*f*n/(f-n);\t\t// [ 0 a 0 b]\n\t\t\tm.rawElements[ 7] = 1;\t\t\t\t// [ 0 0 1 0]\n\t\t\tm.rawElements[15] = 0;\n\t\t\treturn m;\n\t\t}\n\n\t\tpublic updateLightMatricis(renderer:BasicRenderer)\n\t\t{\n\t\t\t//cam.Transformer.forward -> viewDirection\n\t\t\t//this.Transformer.forward -> lightDirection\n\t\t\tvar cam:Camera = renderer.Camera;\n\t\t\tthis.generateLightviewMatrix(renderer.Camera);\n\t\t\tthis.USM(renderer);\n\t\t\t//this.updateLightProjection(renderer,Matrix.ortho(-10,10,-10,10,0.1,30),Matrix.lookAt(new Vector3(0,0,20),new Vector3(0,0,0),new Vector3(0,1,0)));\n\t\t\tglm.mat4.mul(this.shadowMatrixCache.rawElements,Matrix.scale(new Vector3(1,1,-1)).rawElements,this.shadowMatrixCache.rawElements);\n\t\t\t this.updateLightProjection(renderer,this.shadowMatrixCache);\n\t\t}\n\n\t\tprivate LiSPSM(renderer:BasicRenderer)\n\t\t{\n\t\t\tvar cam = renderer.Camera;\n\t\t\tvar viewDirection = cam.Transformer.forward;\n\t\t\tvar lightDirection = this.transformer.forward;\n\t\t\tvar eyePosition = cam.Transformer.GlobalPosition;\n\t\t\tvar angle:number = Vector3.angle(viewDirection,lightDirection);\n\t\t\t//check whether needs USM or LiSPSM here.\n\t\t\tif(angle == 0 || angle == Math.PI)\n\t\t\t{\n\t\t\t\tthis.USM(renderer);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar sinGamma:number = Math.abs(Math.sin(angle));\n\n\t\t\t//Computing light view matrix\n\t\t\tvar up:Vector3 = this.computeUpVector(viewDirection,lightDirection);\n\t\t\tvar lv:Matrix = Matrix.lookAt(eyePosition,Vector3.add(eyePosition,lightDirection),up);\n\n\t\t\t//Compute AABB of camera frusutum in light view space\n\t\t\tvar pl = new PointList(cam.frustumPoints);\n\t\t\tpl.transform(lv);\n\t\t\tvar vfAABB = pl.getBoundingBox();\n\t\t\t//Compute new frustum\n\t\t\tvar factor = 1 / sinGamma;\n\t\t\tvar z_n = this.nearClip * factor;\n\t\t\tvar d = Math.abs(vfAABB.pointRTN.Y - vfAABB.pointLBF.Y);\n\t\t\tvar z_f = z_n * d * sinGamma;\n\t\t\tvar n = (z_n + Math.sqrt(z_f * z_n))/sinGamma;\n\t\t\tvar f = n + d;\n\t\t\t//Compute new light view\n\t\t\tvar newPos = eyePosition.subtractWith(up.multiplyWith(n - this.nearClip));\n\t\t\tlv = Matrix.lookAt(newPos,Vector3.add(newPos,lightDirection),up);\n\t\t\tvar lp = this.computePerspective(n,f);\n\t\t\t//Compute light matrix\n\t\t\tvar lVP = Matrix.multiply(lp,this.shadowViewMatrixCache);\n\n\t\t\tvar pl2 = new PointList(cam.frustumPoints);\n\t\t\tpl2.transform(lVP);\n\t\t\tvar unitAABB = pl2.getBoundingBox();\n\t\t\tvar unitCube = this.generateUnitCubeMatrix(unitAABB);\n\t\t\tglm.mat4.mul(this.shadowMatrixCache.rawElements,unitCube.rawElements,lp.rawElements);\n\t\t}\n\n\t\tprivate generateLightviewMatrix(cam:Camera)\n\t\t{\n\t\t\tglm.mat4.lookAt(this.shadowViewMatrixCache.rawElements,cam.Transformer.GlobalPosition.rawElements,Vector3.add(cam.Transformer.GlobalPosition,this.transformer.forward).rawElements,Vector3.YUnit.rawElements);\n\t\t}\n\n\t\tprivate USM(renderer:BasicRenderer)//Uniform shadow map\n\t\t{\n\t\t\tvar cam = renderer.Camera;\n\t\t\t//initialize light matrix cache with light view\n\t\t\tvar lightSpaceFrustum = (new PointList(cam.frustumPoints));\n\t\t\tlightSpaceFrustum.transform(this.shadowViewMatrixCache);\n\t\t\tvar frustumAABBinLightSpace = lightSpaceFrustum.getBoundingBox();\n\t\t\tvar debug = JThreeContext.getContextComponent<Debugger>(ContextComponents.Debugger);\n\t\t\tdebug.setInfo(\"RTN\",frustumAABBinLightSpace.pointRTN.toString());\n\t\t\tdebug.setInfo(\"LBF\",frustumAABBinLightSpace.pointLBF.toString());\n\t\t\tthis.shadowProjectionMatrixCache = this.generateUnitCubeMatrix(frustumAABBinLightSpace);\n\t\t\tglm.mat4.mul(this.shadowMatrixCache.rawElements,this.shadowProjectionMatrixCache.rawElements,this.shadowViewMatrixCache.rawElements);\n\t\t}\n\n\t\tprivate generateUnitCubeMatrix(align:AABB)\n\t\t{\n\t\t\t/*\n\t\t\t\tresult._11 = 2.0f / ( max.x - min.x );\n\t\t\t\tresult._21 = 0.0f;\n\t\t\t\tresult._31 = 0.0f;\n\t\t\t\tresult._41 = -( max.x + min.x ) / ( max.x - min.x );\n\n\t\t\t\tresult._12 = 0.0f;\n\t\t\t\tresult._22 = 2.0f / ( max.y - min.y );\n\t\t\t\tresult._32 = 0.0f;\n\t\t\t\tresult._42 = -( max.y + min.y ) / ( max.y - min.y );\n\n\t\t\t\tresult._13 = 0.0f;\n\t\t\t\tresult._23 = 0.0f;\n\t\t\t\tresult._33 = 1.0f / ( max.z - min.z );\n\t\t\t\tresult._43 = - min.z / ( max.z - min.z );\n\n\t\t\t\tresult._14 = 0.0f;\n\t\t\t\tresult._24 = 0.0f;\n\t\t\t\tresult._34 = 0.0f;\n\t\t\t\tresult._44 = 1.0f;\n\t\t\t */\n\t\t\t//return Matrix.ortho(align.pointLBF.X,align.pointRTN.X,align.pointLBF.Y,align.pointRTN.Y,align.pointRTN.Z,align.pointLBF.Z);\n\t\t\treturn Matrix.fromElements(\n\t\t\t\t2.0/(align.pointRTN.X-align.pointLBF.X), 0, 0, -(align.pointRTN.X + align.pointLBF.X)/(align.pointRTN.X-align.pointLBF.X),\n\t\t\t\t0,2.0/(align.pointRTN.Y - align.pointLBF.Y),0,-(align.pointRTN.Y + align.pointLBF.Y)/(align.pointRTN.Y-align.pointLBF.Y),\n\t\t\t\t0,0,2.0/(align.pointRTN.Z - align.pointLBF.Z),(align.pointRTN.Z + align.pointLBF.Z)/(align.pointLBF.Z-align.pointRTN.Z),\n\t\t\t\t0,0,0,1.0\n\t\t\t);\n\t\t}\n\n\tpublic intensity:number;\n\n\tpublic bias:number = 0.2;\n\n\tpublic get LightType(): string {\n\t\treturn \"jthree.lights.directionallight\";\n    }\n\n    public static get TypeDefinition(): LightTypeDeclaration\n    {\n        return {\n            typeName: \"jthree.lights.directionallight\",\n            requiredParamCount: 3,\n            shaderfuncName: \"calcDirectionalLight\",\n            diffuseFragmentCode: require('../../Shaders/Light/Directional/DiffuseChunk.glsl'),\n            specularFragmentCode: require('../../Shaders/Light/Directional/SpecularChunk.glsl')\n        };\n    }\n}\n\nexport = DirectionalLight;\n","import Scene = require('../../Scene');\nimport LightBase = require('./../LightBase');\nimport LightTypeDeclaration = require(\"./../LightTypeDeclaration\");\nimport BasicRenderer = require(\"../../Renderers/BasicRenderer\");\nimport Matrix = require(\"../../../Math/Matrix\");\nimport Vector3 = require(\"../../../Math/Vector3\");\n/**\n * Point Light\n * Parameter order\n * 0:X:TypeID YZW:Color.RGB*Intencity\n * 1:XYZ:POSITION.XYZ W: UNUSED (0)\n * 2:X:Distance Y:Decay\n */\nclass PointLight extends LightBase\n{\n\tconstructor(scene:Scene)\n\t{\n\t\tsuper(scene);\n\t}\n\n\tpublic distance:number=0.0;\n\n\tpublic intensity:number=1.0;\n\n\tpublic decay:number=1;\n\n\tpublic get LightType():string\n\t{\n\t\treturn \"jthree.lights.pointlight\";\n    }\n\n    public getParameters(renderer:BasicRenderer): number[]\n    {\n\t\t\tvar pos = this.Position;\n\t\t\t  pos = Matrix.transformPoint(renderer.Camera.viewMatrix,pos);\n        return [this.Color.R * this.intensity, this.Color.G * this.intensity, this.Color.B * this.intensity,\n            pos.X,pos.Y,pos.Z, 0,\n        this.distance,this.decay];\n    }\n\n    public static get TypeDefinition(): LightTypeDeclaration {\n        return {\n            typeName: \"jthree.lights.pointlight\",\n            requiredParamCount: 3,\n            shaderfuncName: \"calcPointLight\",\n            diffuseFragmentCode: require('../../Shaders/Light/Point/DiffuseChunk.glsl'),\n            specularFragmentCode:require(\"../../Shaders/Light/Point/SpecularChunk.glsl\")\n        };\n    }\n}\n\nexport = PointLight;\n","import Vector3 = require('../../../Math/Vector3');\nimport LightBase = require('./../LightBase');\nimport Scene = require('../../Scene');\nimport Matrix = require('../../../Math/Matrix');\nimport LightTypeDeclaration = require(\"./../LightTypeDeclaration\");\nimport BasicRenderer = require(\"../../Renderers/BasicRenderer\");\nimport glm = require(\"gl-matrix\");\n\n/**\n * Provides area light feature.\n * Parameters:\n * X:TYPE ID ,XYZ:COLOR\n */\nclass SceneLight extends LightBase {\n\tconstructor(scene: Scene) {\n\t\tsuper(scene);\n    }\n\n    public getParameters(renderer:BasicRenderer): number[] {\n        return [this.Color.R * this.intensity, this.Color.G * this.intensity, this.Color.B * this.intensity];\n\t\t}\n\n\t\tprivate calcAxis(x:number,y:number,z:number,bp:Vector3)\n\t\t{\n\t\t\treturn new Vector3(x + bp.X , y + bp.Y, -z + bp.Z);\n\t\t}\n\n\tpublic intensity: number = 1.0;\n\n\n\tpublic get LightType(): string {\n\t\treturn \"jthree.lights.scenelight\";\n    }\n\n    public static get TypeDefinition(): LightTypeDeclaration\n    {\n        return {\n            typeName: \"jthree.lights.scenelight\",\n            requiredParamCount: 1,\n            shaderfuncName: \"calcSceneLight\",\n            diffuseFragmentCode: require('../../Shaders/Light/Scene/DiffuseChunk.glsl'),\n            specularFragmentCode: require('../../Shaders/Light/Scene/SpecularChunk.glsl')\n        };\n    }\n}\n\nexport = SceneLight;\n","import Scene = require('../../Scene');\nimport LightBase = require('./../LightBase');\nimport LightTypeDeclaration = require(\"./../LightTypeDeclaration\");\nimport BasicRenderer = require(\"../../Renderers/BasicRenderer\");\nimport Matrix = require(\"../../../Math/Matrix\");\nimport Vector3 = require(\"../../../Math/Vector3\");\n/**\n * Point Light\n * Parameter order\n * 0:X:TypeID YZW:Color.RGB*Intencity\n * 1:XYZ:Position\n * 2:XYZ:Direction\n * 3:X:Innner Cone,Y:Outer Cone,Z:Decay\n */\nclass SpotLight extends LightBase\n{\n\tconstructor(scene:Scene)\n\t{\n\t\tsuper(scene);\n\t}\n\tpublic intensity:number=1.0;\n\n\tpublic decay:number=1;\n\n\tpublic inner:number=0.3;\n\n\tpublic outer:number=0.7;\n\n\tpublic get LightType():string\n\t{\n\t\treturn \"jthree.lights.spotlight\";\n    }\n\n    public getParameters(renderer:BasicRenderer): number[]\n    {\n\t\t\tvar pos;\n\t\t\t var matVM =Matrix.multiply(renderer.Camera.viewMatrix,this.Transformer.LocalToGlobal);\n\t\t\t  pos = Matrix.transformPoint(matVM,Vector3.Zero);\n\t\t\t\tvar dir = new Vector3(0,-1,0);\n\t\t\t\tdir = Matrix.transformNormal(matVM,dir);\n        return [this.Color.R * this.intensity, this.Color.G * this.intensity, this.Color.B * this.intensity,\n            pos.X,pos.Y,pos.Z, 0,\n\t\t\t\t\t\tdir.X,dir.Y,dir.Z,0,\n        Math.cos(this.inner),Math.cos(this.outer),this.decay];\n    }\n\n    public static get TypeDefinition(): LightTypeDeclaration {\n        return {\n            typeName: \"jthree.lights.spotlight\",\n            requiredParamCount: 3,\n            shaderfuncName: \"calcSpotLight\",\n            diffuseFragmentCode: require('../../Shaders/Light/Spot/DiffuseChunk.glsl'),\n            specularFragmentCode:require(\"../../Shaders/Light/Spot/SpecularChunk.glsl\")\n        };\n    }\n}\n\nexport = SpotLight;\n","import Color4 = require('../../Base/Color/Color4');\nimport Vector3 = require('../../Math/Vector3');\nimport SceneObject = require('../SceneObject');\nimport Canvas = require('../Canvas');\nimport Scene = require('../Scene');\nimport BasicRenderer = require('../Renderers/BasicRenderer');\nimport JThreeEvent = require(\"../../Base/JThreeEvent\");\nimport Delegates = require(\"../../Base/Delegates\");\nimport Material = require(\"../Materials/Material\");\nclass LightBase extends SceneObject\n{\n    protected scene: Scene;\n\n    private parameterChanged:JThreeEvent<LightBase>=new JThreeEvent();\n\n\tconstructor(scene:Scene)\n\t{\n\t\tsuper();\n\t\tthis.scene=scene;\n\t}\n\n\tprivate color:Color4=new Color4(0,0,0,0);\n\n\tpublic get Color():Color4\n\t{\n\t\treturn this.color;\n\t}\n\n\tpublic set Color(col:Color4)\n\t{\n\t\tthis.color=col;\n\t}\n\n\tpublic get Position():Vector3\n\t{\n\t\treturn this.Transformer.Position;\n\t}\n\n\tpublic get LightType():string\n\t{\n\t\treturn null;\n\t}\n\n\tpublic drawBuffer(renderer:BasicRenderer,scene:Scene,object: SceneObject, material: Material,passCount:number) {\n\t}\n\n\tpublic beforeRender(target:Canvas)\n\t{\n\n\t}\n\n\tpublic afterRender(target:Canvas)\n\t{\n\n  }\n\n    public onParameterChanged(handler:Delegates.Action2<Object,LightBase>) {\n        this.parameterChanged.addListener(handler);\n    }\n\n    public getParameters(renderer:BasicRenderer,shadowMapIndex?:number): number[] {\n        return [];\n    }\n\n    public initializeLight()\n    {\n\n    }\n\n    public onParentSceneChanged()\n    {\n      this.ParentScene.addLight(this);\n    }\n}\n\nexport = LightBase;\n","import BufferTexture = require(\"../Resources/Texture/BufferTexture\");\nimport LightBase = require(\"./LightBase\");\nimport AssociativeArray = require(\"../../Base/Collections/AssociativeArray\");\nimport InternalFormatType = require(\"../../Wrapper/TextureInternalFormatType\");\nimport TextureType = require(\"../../Wrapper/TextureType\");\nimport Scene = require(\"../Scene\");\nimport ShaderComposer = require(\"./LightShderComposer\");\nimport Program = require(\"../Resources/Program/Program\");\nimport ShaderType = require(\"../../Wrapper/ShaderType\");\nimport Vector2 = require(\"../../Math/Vector2\");\nimport LightTypeDeclaration = require(\"./LightTypeDeclaration\");\nimport BasicRenderer = require(\"../Renderers/BasicRenderer\");\nimport DefaultLightTypeList = require(\"./DefaultLightTypeList\");\nimport ShadowDroppableLight = require(\"./ShadowMap/ShadowDroppableLight\");\nimport GLSpec = require(\"../GLSpecManager\");\nimport JThreeLogger = require(\"../../Base/JThreeLogger\");\nimport TextureBase = require(\"../Resources/Texture/TextureBase\");\nimport ShadowMapResourceManager = require(\"./ShadowMap/ShadowMapResourceManager\");\nimport JThreeContext = require(\"../../JThreeContext\");\nimport ResourceManager = require(\"../ResourceManager\");\nimport ContextComponents = require(\"../../ContextComponents\");\n/**\n * Provides light management feature by renderer\n */\nclass LightRegister\n{\n    /**\n     * Texture input count for light accumulation stage except shadow maps.\n     */\n    public textureInputCount:number = 4;\n\n    /**\n     * Maximum count of shadow map textures for once drawing.\n     */\n    public get shadowMapMax()\n    {\n      return GLSpec.MaxCombinedTextureUnits - this.textureInputCount;\n    }\n\n    public lightWorldMatricis = new Float32Array(this.shadowMapMax * 16);\n\n    public viewInvertedLightMatricis = new Float32Array(this.shadowMapMax * 16);\n\n    public shadowMaps:TextureBase[] = new Array(this.shadowMapMax);\n\n    public shadowMapResourceManager:ShadowMapResourceManager;\n\n    /**\n     * BufferTexture containing light parameters.\n     */\n    private parameterTexture: BufferTexture;\n\n    /**\n     * Renderer using this class.\n     */\n    public scene: Scene;\n\n    /**\n     * Width of texture.\n     */\n    private textureWidth: number = 5;\n\n    /**\n     * Programs will be used for rendering diffuse light accumulation buffer.\n     */\n    private diffuseLightProgram: Program;\n\n    /**\n     * Programs will be used for rendering specular light accumulation buffer.\n     */\n    private specularLightProgram: Program;\n\n    /**\n     * Lights subscribed to this register.\n     */\n    private lights: LightBase[] = [];\n\n    /**\n     * All light references that drops shadow to other objects.\n     */\n    public shadowDroppableLights:ShadowDroppableLight[] =[];\n\n    /**\n     * Light dictionary being sorted with id used in shaders.\n     */\n    private lightIdDictionary: AssociativeArray<number> = new AssociativeArray<number>();\n\n    private get shaderHeader()\n    {\n      return `precision mediump float;\n      #define SHADOW_MAP_LENGTH ${this.shadowMapMax}`;\n    }\n\n    /**\n     * Provides feature to generate shader source code.\n     */\n    private diffuseShaderComposer: ShaderComposer = new ShaderComposer(this.shaderHeader+require('../Shaders/Light/DiffuseLightFragment.glsl'), \"diffuse\", (index, funcName) => `if(getLightType(int(i)) == ${index}.)gl_FragColor.rgb+=${funcName}(position,normal,int(i),diffuse);\\n`);\n    /**\n     * Provides feature to generate specular light buffer shader source code.\n     */\n    private specularShaderComposer: ShaderComposer = new ShaderComposer(this.shaderHeader+require('../Shaders/Light/SpecularLightFragment.glsl'), \"specular\", (index, funcName) => `if(getLightType(int(i)) == ${index}.)gl_FragColor.rgb+=${funcName}(position,normal,int(i),specular,specularCoefficient);\\n`);\n\n    /**\n     * Float values array for buffer of light parameter textures.\n     */\n    private textureSourceBuffer: Float32Array;\n\n    /**\n     * Number of shadow droppable lights.\n     * @type {number}\n     */\n    private shadowDroppableLightCount:number=0;\n\n    /**\n     * Getter for number of shadow droppable lights.\n     * @return {number} [description]\n     */\n    public get ShadowDroppableLightCount()\n    {\n      return this.shadowDroppableLightCount;\n    }\n\n    /**\n     * Getter for width of texture.\n     * This parameter is same as count of light parameter.\n     */\n    public get TextureWidth(): number\n    {\n        return this.textureWidth;\n    }\n\n    /**\n     * Getter for height of texture.\n     * This parameter is same as count of lights.\n     */\n    public get TextureHeight(): number\n    {\n        return this.lights.length;\n    }\n\n    public get TextureSize(): Vector2\n    {\n        return new Vector2(this.TextureWidth, this.TextureHeight);\n    }\n\n    /**\n     * Getter for light parameter texture.\n     */\n    public get ParameterTexture(): BufferTexture\n    {\n        return this.parameterTexture;\n    }\n\n    /**\n     * Provides easy access to resource manager.\n     */\n    private get ResourceManager()\n    {\n        return JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager);\n    }\n    /**\n     * Getter for shader composer that generates shader source to render diffuse light accumulation buffer.\n     */\n    public get DiffuseShaderCodeComposer()\n    {\n        return this.diffuseShaderComposer;\n    }\n\n    /**\n     * Getter for shader composer that generates shader source to render specular light accumulation buffer.\n     */\n    public get SpecularShaderCodeComposer()\n    {\n        return this.specularShaderComposer;\n    }\n\n    /**\n     * Getter for light program to use for rendering light accumulation buffer.\n     */\n    public get DiffuseLightProgram()\n    {\n        return this.diffuseLightProgram;\n    }\n\n    public get SpecularLightProgram() {\n        return this.specularLightProgram;\n    }\n\n    public getSpecularShaderCodeComposer()\n    {\n        return this.specularLightProgram;\n    }\n\n    constructor(scene: Scene)\n    {\n        this.scene = scene;\n        this.parameterTexture = <BufferTexture>(this.ResourceManager.createTexture(scene.ID + \".jthree.light.params\", 1, 1, InternalFormatType.RGBA, TextureType.Float));\n        this.parameterTexture.updateTexture(new Float32Array([1, 0, 1, 0]));\n        this.initializeProgram();\n        for (let i = 0; i < DefaultLightTypeList.length; i++) {\n            var type=DefaultLightTypeList[i];\n            this.addLightType(type.TypeDefinition);\n        }\n        this.shadowMapResourceManager = new ShadowMapResourceManager(this);\n        //JThreeLogger.sectionLongLog(\"Light diffuse shader\",this.DiffuseShaderCodeComposer.ShaderCode);\n    }\n\n    /**\n    * Getter for lights managed by this light register.\n    * DO NOT PUSH ANY LIGHTS BY YOURSELF. USE addLights METHOD INSTEAD.\n    */\n    public get Lights(): LightBase[]\n    {\n        return this.lights;\n    }\n\n    /**\n     * Add light type and append shader code.\n     * @param paramVecCount required vec4 count.\n     * @param shaderFuncName name for function name no need to include \"()\"\n     * @param shaderFuncCode fragment function shader code\n     * @param lightTypeName light type name it should be same as LightBase.TypeName\n     */\n    public addLightType(ld: LightTypeDeclaration)\n    {\n        this.diffuseShaderComposer.addLightType(ld.shaderfuncName, ld.diffuseFragmentCode, ld.typeName);\n        this.specularShaderComposer.addLightType(ld.shaderfuncName, ld.specularFragmentCode, ld.typeName);\n        var newSize = Math.max(ld.requiredParamCount, this.TextureHeight);\n        if (newSize !== this.textureWidth)\n        {\n            //TODO apply new size of texture\n        }\n    }\n\n    /**\n     * Add light to this register.\n     * @param light the light to add this register.\n     */\n    public addLight(light: LightBase): void\n    {\n\n        this.lights.push(light);\n        this.lightIdDictionary.set(light.ID, this.lights.length - 1);\n        this.heightUpdate(0);\n    }\n    /**\n     * Update height of light parameter texture.\n     * @param start starting line of x-coordinate to update texture variable.\n     */\n    private heightUpdate(start: number): void\n    {\n        //allocating new buffer\n        var newBuffer = new Float32Array(4 * this.TextureWidth * this.lights.length);\n        for (var i = 0; i < start * 4 * this.TextureWidth; i++)\n        {\n            newBuffer[i] = 0;\n        }\n        this.textureSourceBuffer = newBuffer;\n        //update texture\n        this.parameterTexture.resize(this.TextureWidth, this.TextureHeight);\n        this.parameterTexture.updateTexture(this.textureSourceBuffer);\n    }\n\n    /**\n     * Update width of light parameter texture.\n     */\n    private widthUpdate()\n    {\n        this.heightUpdate(0);//update all\n    }\n\n    /**\n     * Update light parameter.\n     * @param light the light you want to update\n     */\n    private lightUpdate(light: LightBase,renderer:BasicRenderer)\n    {\n        var index = this.lightIdDictionary.get(light.ID);\n        var parameters = light.getParameters(renderer,this.shadowDroppableLightCount);\n        var baseIndex = index * 4 * this.TextureWidth + 1;\n        var endIndex = baseIndex + parameters.length;\n        this.textureSourceBuffer[baseIndex - 1] = this.diffuseShaderComposer.getLightTypeId(light);\n        for (var i = baseIndex; i < endIndex; i++)\n        {\n            this.textureSourceBuffer[i] = parameters[i - baseIndex];\n        }\n        for (var i = endIndex; i < baseIndex + 4 * this.TextureWidth; i++)\n        {\n            this.textureSourceBuffer[i] = 0;//fill zero\n        }\n    }\n\n    /**\n     * Update light parameter texture.\n     */\n    public updateLightForRenderer(renderer:BasicRenderer)\n    {\n        this.shadowDroppableLightCount=0;\n        for (var i = 0; i < this.Lights.length; i++)\n        {\n            this.lightUpdate(this.Lights[i],renderer);\n            //Arrange shadow droppable lights\n            if((<ShadowDroppableLight>this.Lights[i]).isShadowDroppable)\n            {\n              this.shadowDroppableLights[this.shadowDroppableLightCount]=<ShadowDroppableLight>this.Lights[i];\n              this.shadowDroppableLightCount++;\n            }\n        }\n        //Extra shadow map array is filled with null here\n        for (var i = this.shadowDroppableLightCount;i<this.shadowDroppableLights.length;i++)\n        {\n          this.shadowDroppableLights[i]=null;\n        }\n        this.parameterTexture.updateTexture(this.textureSourceBuffer);\n        this.shadowMapResourceManager.updateLightMatricis(renderer,this.shadowDroppableLights);\n    }\n\n    /**\n     * Initialize light program.\n     */\n    private initializeProgram()\n    {\n        var vs = require('../Shaders/Light/LightVertex.glsl');\n        var vShader = this.ResourceManager.createShader(\"jthree.shaders.vertex.post\", vs, ShaderType.VertexShader);\n        vShader.loadAll();\n        this.diffuseLightProgram = this.ResourceManager.createProgram(this.scene.ID + \".jthree.programs.light.diffuse\", [vShader, this.DiffuseShaderCodeComposer.Shader]);\n        this.specularLightProgram = this.ResourceManager.createProgram(this.scene.ID + \".jthree.programs.light.specular\", [vShader, this.SpecularShaderCodeComposer.Shader]);\n    }\n}\n\nexport = LightRegister;\n","import Shader = require(\"../Resources/Shader/Shader\");\nimport AssociativeArray = require(\"../../Base/Collections/AssociativeArray\");\nimport LightBase = require(\"./LightBase\");\nimport ResourceManager = require(\"../ResourceManager\");\nimport JThreeObjectWithId = require(\"../../Base/JThreeObjectWithID\");\nimport ShaderType = require(\"../../Wrapper/ShaderType\");\nimport Delegates = require(\"../../Base/Delegates\");\nimport ContextComponents = require(\"../../ContextComponents\");\nimport JThreeContext = require(\"../../JThreeContext\");\nimport JThreeLogger = require(\"../../Base/JThreeLogger\");\n/**\n * Managing shader codes for extensible.\n */\nclass LightShaderComposer extends JThreeObjectWithId\n{\n    private shader: Shader;\n\n    private lightTypeIdArray: AssociativeArray<number> = new AssociativeArray<number>();\n\n    private shaderSourceBase: string;\n\n    private shaderCache:string;\n\n    private shaderFuncNames: string[] = [];\n\n    private shaderFuncDefs: string[] = [];\n\n    private resourceManager: ResourceManager;\n\n    private callerComposer:Delegates.Func2<string,string,string>;\n\n    constructor(codeBase:string,idSuffix:string,callerComposer:Delegates.Func2<string,string,string>) {\n        super();\n        this.shaderSourceBase = codeBase;\n        this.callerComposer = callerComposer;\n        this.shaderCache = this.generateLightShaderSource();\n        this.resourceManager = JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager);\n        this.shader = this.resourceManager.createShader(this.ID + \".jthree.light.\"+idSuffix, \"\", ShaderType.FragmentShader);\n    }\n\n    /**\n     * Constructed shader instance\n     * @returns {Shader} Constructed shader\n     */\n    public get Shader() :Shader {\n        return this.shader;\n    }\n\n    /**\n     * Constructed shader code\n     * @returns {string} Constructed shader code\n     */\n    public get ShaderCode(): string {\n        return this.shaderCache;\n    }\n\n    /**\n     * Obtain integer id to identify lights.\n     * If passed light are unregistered one, this method should return 0.\n     * If passed light are registeredb one, this method should return 0 to N.\n     * @param light light instance that you want to find id.\n     * @returns {number} id\n     */\n    public getLightTypeId(light: LightBase) {\n        return this.lightTypeIdArray.has(light.LightType) ?\n            this.lightTypeIdArray.get(light.LightType) : 0;\n    }\n\n    /**\n     * Register new type of light.\n     * @param shaderFuncName shader function name. no need to include parameter declarations.\n     * @param shaderFuncCode shader function define code. this function must return vec3 as light color to add. This function must receive 2 variables,vec3 position and vec3 normal. Each parameter are already transformed into view space.\n     * @param lightTypeName light type name it must be same with LightBase.LightTypeName\n     */\n    public addLightType(shaderFuncName: string, shaderFuncCode: string, lightTypeName: string) {\n        if (this.lightTypeIdArray.has(lightTypeName)) {\n            console.warn(\"already this light type was added.\");\n            return;\n        } else\n        {\n            this.lightTypeIdArray.set(lightTypeName, this.lightTypeIdArray.size + 1);\n        }\n        this.shaderFuncDefs.push(shaderFuncCode);\n        this.shaderFuncNames.push(shaderFuncName);\n        this.shaderCache = this.generateLightShaderSource();\n        this.updateShaderFromCache();\n        JThreeLogger.sectionLongLog(\"Generated source\",this.shaderCache);\n    }\n\n    /**\n     * Generate whole source shader code.\n     * @returns {string} generated source code of light fragment code.\n     */\n    private generateLightShaderSource(): string {\n        var result = this.shaderSourceBase;\n        result = result.replace('///<<< LIGHT FUNCTION DEFINITIONS', this.generateLightFunctionDefinitions());\n        result = result.replace('///<<< LIGHT FUNCTION CALLS', this.generateLightFunctionCallers());\n        return result;\n    }\n\n\n    /**\n     * Generate chunk of light shader declarations.\n     * @returns {string} concatted light fragment declarations.\n     */\n    private generateLightFunctionDefinitions(): string {\n        var result = \"\";\n        for (var i = 0; i < this.shaderFuncDefs.length; i++) {\n            result += this.shaderFuncDefs[i];\n        }\n        return result;\n    }\n\n    /**\n     * Generate chunk of light shader callers;\n     * @returns {string} concatted light fragment functions callers.\n     */\n    private generateLightFunctionCallers(): string {\n        var result = \"\";\n        for (var i = 0; i < this.shaderFuncNames.length; i++) {\n/*            result += `if(getLightType(int(i)) == ${(i+1).toFixed(0)}.)gl_FragColor.rgb+=${this.shaderFuncNames\n            [i]}(position,normal,int(i));`;*/\n            result += this.callerComposer((i + 1).toFixed(0), this.shaderFuncNames\n            [i]);\n        }\n        return result;\n    }\n\n    private updateShaderFromCache() {\n        this.Shader.update(this.ShaderCode);\n    }\n}\n\nexport = LightShaderComposer;\n","import Vector3 = require('../../../Math/Vector3');\nimport LightBase = require('./../LightBase');\nimport Scene = require('../../Scene');\nimport Matrix = require('../../../Math/Matrix');\nimport LightTypeDeclaration = require(\"./../LightTypeDeclaration\");\nimport BasicRenderer = require(\"../../Renderers/BasicRenderer\");\nimport BufferTexture = require(\"../../Resources/Texture/BufferTexture\");\nimport TextureGenerater = require(\"../../Renderers/TextureGenerater\");\nimport GeneraterInfoChunk = require(\"../../Renderers/TextureGeneraters/GeneraterInfoChunk\");\nclass ShadowDroppableLight extends LightBase {\n\tconstructor(scene: Scene) {\n\t\tsuper(scene);\n    }\n\n public updateLightMatricis(renderer:BasicRenderer)\n {\n\n }\n\n protected updateLightProjection(renderer:BasicRenderer,shadowMatrix:Matrix)\n {\n\t this.matLightViewProjection = shadowMatrix;\n }\n\n /**\n* The matrix that projects world space to light projection space.\n  */\n  public matLightViewProjection:Matrix = Matrix.identity();\n\n  /**\n   * Parameter for identify whether shadow droppable light or not.\n   */\n  public isShadowDroppable = true;\n}\n\nexport = ShadowDroppableLight;\n","import LightRegister = require(\"../LightRegister\");\nimport BasicRenderer = require(\"../../Renderers/BasicRenderer\");\nimport TextureInternalFormatType = require(\"../../../Wrapper/TextureInternalFormatType\");\nimport TextureType = require(\"../../../Wrapper/TextureType\");\nimport BufferTexture = require(\"../../Resources/Texture/BufferTexture\");\nimport ShadowDroppableLight = require(\"./ShadowDroppableLight\");\nimport Matrix = require(\"../../../Math/Matrix\");\nimport RBO = require(\"../../Resources/RBO/RBO\");\nimport JThreeContext = require(\"../../../JThreeContext\");\nimport ContextComponents = require(\"../../../ContextComponents\");\nimport ResourceManager = require(\"../../ResourceManager\");\n\nclass ShadowMapResourceManager\n{\n  constructor(register:LightRegister)\n  {\n    var rm = JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager);\n    this.shadowMapTileTexture=<BufferTexture>rm.createTexture(\"shadowmap.\"+register.scene.ID,this.shadowMapTileTextureSize,this.shadowMapTileTextureSize,TextureInternalFormatType.RGB,TextureType.UnsignedByte);\n    this.shadowMatrixTextureSource = new Float32Array(this.maximumShadowMapCount * 2 * 16);\n    this.shadowMatrixTexture = <BufferTexture> rm.createTexture(\"shadowmat.\"+register.scene.ID,8,this.maximumShadowMapCount,TextureInternalFormatType.RGBA,TextureType.Float);\n    this.shadowMapRenderBuffer = rm.createRBO(\"shadowmap.\"+register.scene.ID,this.shadowMapTileTextureSize,this.shadowMapTileTextureSize);\n  }\n\n  public shadowMapTileTexture:BufferTexture;\n  /**\n   * Size of shadow map for one of shadow map.\n   * @type {number}\n   */\n  private shadowMapSizeCache:number = 512;\n\n  private shadowMatrixTextureSource:Float32Array;\n\n  public shadowMatrixTexture:BufferTexture;\n\n  public shadowMapRenderBuffer:RBO;\n\n  public get shadowMapSize()\n  {\n    return this.shadowMapSizeCache;\n  }\n\n  public set shadowMapSize(size:number)\n  {\n    this.shadowMapSizeCache = size;\n  }\n\n  public set maximumShadowMapCount(count:number)\n  {\n    this.shadowMapTileHeight = Math.ceil(Math.sqrt(count));\n  }\n\n  public get maximumShadowMapCount()\n  {\n    return this.shadowMapTileHeight*this.shadowMapTileHeight;\n  }\n\n  /**\n   * Shadow map tile size. This property contain how many shadow map is placed one of edge.\n   * @type {number}\n   */\n  private shadowMapTileHeight:number=2;\n\n  /**\n   * Shadow map tile texture size.\n   */\n  public get shadowMapTileTextureSize()\n  {\n    return this.shadowMapTileHeight * this.shadowMapSizeCache;\n  }\n\n  /**\n   * Set shadow map viewport when rendering shadow map.\n   */\n  public setShadowMapViewport(renderer:BasicRenderer,shadowMapIndex:number)\n  {\n    var x = shadowMapIndex % this.shadowMapTileHeight;\n    var y = (shadowMapIndex - x)/this.shadowMapTileHeight;\n    renderer.GL.viewport(x*this.shadowMapSizeCache,y*this.shadowMapSizeCache,this.shadowMapSizeCache,this.shadowMapSizeCache);\n  }\n\n  public updateLightMatricis(renderer:BasicRenderer,lights:ShadowDroppableLight[])\n  {\n    for (let i = 0; i < Math.min(lights.length,this.maximumShadowMapCount); i++)\n    {\n      var light = lights[i];\n      if(!light)break;\n      light.updateLightMatricis(renderer);\n      this.copyMatrixToLightMatrixTextureSource(light.matLightViewProjection,48*i);\n      this.generateTextureTransformMatrix(48*i+16,i);\n    }\n    this.shadowMatrixTexture.updateTexture(this.shadowMatrixTextureSource);\n  }\n\n  private copyMatrixToLightMatrixTextureSource(data:Matrix,offset:number)\n  {\n    for (let i = 0; i < 16; i++) {\n        this.shadowMatrixTextureSource[offset+i] = data.rawElements[i];\n    }\n  }\n\n  private generateTextureTransformMatrix(offset:number,index:number)\n  {\n    var x = index % this.shadowMapTileHeight;\n    var y = (index - x)/this.shadowMapTileHeight;\n    var sizeTransform = 1/(2*this.shadowMapTileHeight);\n\n\n    this.shadowMatrixTextureSource[offset + 0] = sizeTransform;\n    this.shadowMatrixTextureSource[offset + 1] = 0;\n    this.shadowMatrixTextureSource[offset + 2] = 0;\n    this.shadowMatrixTextureSource[offset + 3] = 0;\n\n    this.shadowMatrixTextureSource[offset + 4] = 0;\n    this.shadowMatrixTextureSource[offset + 5] = sizeTransform;\n    this.shadowMatrixTextureSource[offset + 6] = 0;\n    this.shadowMatrixTextureSource[offset + 7] = 0;\n\n    this.shadowMatrixTextureSource[offset + 8] =  0;\n    this.shadowMatrixTextureSource[offset + 9] =  0;\n    this.shadowMatrixTextureSource[offset + 10] = 1;\n    this.shadowMatrixTextureSource[offset + 11] = 0;\n\n    this.shadowMatrixTextureSource[offset + 12] = sizeTransform*(2*x+1);\n    this.shadowMatrixTextureSource[offset + 13] = sizeTransform*(2*y+1);\n    this.shadowMatrixTextureSource[offset + 14] = 0;\n    this.shadowMatrixTextureSource[offset + 15] = 1;\n\n  }\n}\n\nexport = ShadowMapResourceManager;\n","enum ListStateChangedType\n{\n  Add,\n  Delete\n}\n\nexport=ListStateChangedType;\n","import IContextComponent = require(\"../IContextComponent\");\nimport ContextComponents = require(\"../ContextComponents\");\nimport Delegate = require(\"../Base/Delegates\");\n/**\n * The set of properties for loop action which will be executed in LoopManager\n *\n * \n * @type {[type]}\n */\ninterface LoopAction\n{\n  /**\n   * Order for executing. The less this number,the more being executed in early order.\n   *\n   * \n   * @type {number}\n   */\n  order:number;\n\n  /**\n   * The function to be executed.\n   *\n   * \n   * @type {Delegate.Action0}\n   */\n  action:Delegate.Action0;\n}\n\n/**\n * The class to provide all of loop action stuff in JThree.\n *\n * JThree\n * @type {[type]}\n */\nclass LoopManager implements IContextComponent\n{\n  public getContextComponentIndex():number\n  {\n    return ContextComponents.LoopManager;\n  }\n\n  /**\n   * The function to register next loop calling in next frame.\n   *\n   * \n   * @type {[type]}\n   */\n  private _registerNextLoop;\n\n  /**\n   * The list of loop actions already registered.\n   *\n   * \n   * @type {LoopAction[]}\n   */\n  private _loopActions:LoopAction[] = [];\n\n  /**\n   * Constructor\n   */\n  constructor()\n  {\n    this._registerNextLoop=\n      window.requestAnimationFrame //if window.requestAnimationFrame is defined or undefined\n        ?\n      ()=>{//When window.requestAnimationFrame is supported\n      window.requestAnimationFrame(this._loop.bind(this));\n      }\n      :\n      ()=>{//When window.requestAnimationFrame is not supported.\n        window.setTimeout(this._loop.bind(this),1000/60);\n        };\n  }\n\n  /**\n   * Begin the loop\n   */\n  public begin():void\n  {\n    this._loop();\n  }\n\n  /**\n   * Add action to be looped.\n   *\n   * \n   * @param  {number}           order  the execution order where is criteria for priorty of loop.\n   * @param  {Delegate.Action0} action the function where will be executed in the loop\n   */\n  public addAction(order:number,action:Delegate.Action0):void\n  {\n    this._loopActions.push({\n      order:order,\n      action:action\n    });\n    this._loopActions.sort((a1,a2)=>a1.order-a2.order);\n  }\n\n  /**\n   * Execute a frame for loop\n   *\n   * 1\n   */\n  private _loop():void\n  {\n    this._loopActions.forEach(act=>\n    {\n      act.action();\n    });\n    this._registerNextLoop();\n  }\n}\n\nexport = LoopManager;\n","import IContextComponent = require(\"../../../IContextComponent\");\nimport ContextComponents = require(\"../../../ContextComponents\");\n/**\n * A ContextComponent provides the feature to manage materials.\n * @type {[type]}\n */\nclass MaterialManager implements IContextComponent\n{\n  constructor()\n  {\n    this.addShaderChunk(\"jthree.builtin.vertex\",require(\"../BuiltIn/Vertex/_BasicVertexTransform.glsl\"));\n  }\n\n  public getContextComponentIndex():number\n  {\n    return ContextComponents.MaterialManager;\n  }\n\n  /**\n   * Registered shader chunk storage\n   */\n  private _shaderChunks:{[key:string]:string} = {};\n\n  /**\n   * Add shader chunk code to be stored.\n   * @param {string} key shader chunk key\n   * @param {string} val shader chunk code\n   */\n  public addShaderChunk(key:string,val:string):void\n  {\n    this._shaderChunks[key] = val;\n  }\n\n  /**\n   * Get shader chunk code from storage\n   * @param  {string} key shader chunk key\n   * @return {string}     stored shader chunk code\n   */\n  public getShaderChunk(key:string):string\n  {\n    return this._shaderChunks[key];\n  }\n\n}\n\nexport = MaterialManager;\n","import ContextComponents = require(\"../../../ContextComponents\");\nimport JThreeContext = require(\"../../../JThreeContext\");\nimport MaterialManager = require(\"./MaterialManager\");\nclass ShaderProgramParser {\n    public static parseCombined(combined: string, vsfunc: string, fsfunc: string): string {\n        var materialManager = JThreeContext.getContextComponent<MaterialManager>(ContextComponents.MaterialManager);\n        var result = ShaderProgramParser.parseImport(combined,materialManager);\n        var flagment = ShaderProgramParser.removeOtherPartCode(result,\"vertonly\");\n        var vertex = ShaderProgramParser.removeOtherPartCode(result,\"fragonly\");\n        debugger;\n        return result;\n    }\n\n    private static parseImport(source: string,materialManager:MaterialManager): string {\n        while (true) {\n            var regexResult = /\\s*\\/\\/+\\s*@import\\s+([a-zA-Z0-9.-]+)/.exec(source);\n            if(!regexResult)break;\n            var importContent;\n            importContent = materialManager.getShaderChunk(regexResult[1]);\n            if(!importContent)\n            {\n              console.error(`Required shader chunk '${regexResult[1]}' was not found!!`);\n              importContent = \"\";\n            }\n            var source = source.replace(regexResult[0],importContent);\n        }\n        return source;\n    }\n\n    private static removeOtherPartCode(source:string,partFlag:string):string\n    {\n      var regex = new RegExp(`\\s*\\/\\/+\\s*@${partFlag}`);\n      while(true)\n      {\n        var found = regex.exec(source);\n        if(!found)break;//When there was no more found\n        var beginPoint = found.index;\n\n        var index = beginPoint;\n        while(true)//ignore next {\n        {\n          index++;\n          if(source[index]=='{')break;\n        }\n\n        var bracketCount = 1;\n        while(true)\n        {\n          index++;\n          if(index==source.length)\n          {\n            //error no bracket matching\n            console.error(\"Invalid bracket matching!\");\n            return source;\n          }\n          if(source[index]=='{')bracketCount++;\n          if(source[index]=='}')bracketCount--;\n          if(bracketCount == 0)break;\n        }\n        var endPoint = index + 1;\n        source = source.substr(0,beginPoint) + source.substring(endPoint,source.length);\n      }\n      return source;\n    }\n}\n\nexport = ShaderProgramParser;\n","import Material = require(\"./../Material\");\nimport Program = require(\"../../Resources/Program/Program\");\nimport BasicRenderer = require(\"../../Renderers/BasicRenderer\");\nimport SceneObject = require(\"../../SceneObject\");\nimport Vector3 = require(\"../../../Math/Vector3\");\nimport Matrix = require(\"../../../Math/Matrix\");\nimport Color4 = require(\"../../../Base/Color/Color4\");\nimport Color3 = require('../../../Base/Color/Color3');\nimport TextureBase = require('../../Resources/Texture/TextureBase');\nimport Scene = require('../../Scene');\nimport ResolvedChainInfo = require('../../Renderers/ResolvedChainInfo');\nimport Vector4 = require(\"../../../Math/Vector4\");\nimport PhongMaterial = require(\"./../Forward/PhongMaterial\");\nimport IMaterialConfig = require(\"./../IMaterialConfig\");\nimport RenderStageBase = require(\"../../Renderers/RenderStages/RenderStageBase\");\ndeclare function require(string): string;\n/**\n * Provides how to write g-buffers.\n * This material have 3 pass for darawing g-buffers.\n * 1-st pass Normal.XY Depth Shiningness\n * 2-nd pass Diffuse.RGBA\n * 3-rd pass Specular.RGB\n */\nclass GBufferMaterial extends Material\n{\n    public get MaterialGroup(): string\n    {\n        return \"jthree.materials.gbuffer\";\n    }\n\n    private primaryProgram: Program;\n\n    private secoundaryProgram: Program;\n\n    private thirdProgram:Program;\n\n    constructor()\n    {\n        super();\n        var vs = require('../../Shaders/GBuffer/Vertex.glsl');\n        var fs = require('../../Shaders/GBuffer/PrimaryFragment.glsl');\n        this.primaryProgram = this.loadProgram(\"jthree.shaders.gbuffer.primary.vs\", \"jthree.shaders.gbuffer.primary.fs\", \"jthree.programs.gbuffer.primary\", vs, fs);\n        var fs = require('../../Shaders/GBuffer/SecoundaryFragment.glsl');\n        this.secoundaryProgram = this.loadProgram(\"jthree.shaders.gbuffer.secoundary.vs\", \"jthree.shaders.gbuffer.secoundary.fs\", \"jthree.programs.gbuffer.secoundary\", vs, fs);\n        var fs = require('../../Shaders/GBuffer/ThirdFragment.glsl');\n        this.thirdProgram = this.loadProgram(\"jthree.shaders.gbuffer.third.vs\", \"jthree.shaders.gbuffer.third.fs\", \"jthree.programs.gbuffer.third\", vs, fs);\n        this.setLoaded();\n    }\n\n    public configureMaterial(scene: Scene, renderStage: RenderStageBase, object: SceneObject, texs: ResolvedChainInfo,techniqueIndex:number,passIndex): void\n    {\n        if (!this.primaryProgram) return;\n        var renderer = renderStage.Renderer;\n        super.configureMaterial(scene, renderStage, object, texs,techniqueIndex,passIndex);\n        switch (techniqueIndex)\n        {\n            case 0:\n                this.configurePrimaryBuffer(scene, renderer, object, texs);\n                break;\n            case 1:\n                this.configureSecoundaryBuffer(scene, renderer, object, texs);\n                break;\n            case 2:\n                this.configureThirdBuffer(scene, renderer, object, texs);\n                break;\n        }\n        object.Geometry.IndexBuffer.getForContext(renderer.ContextManager).bindBuffer();\n    }\n    /**\n     * Configure shader for 1-st pass.\n     * @return {[type]}                     [description]\n     */\n    private configurePrimaryBuffer(scene: Scene, renderer: BasicRenderer, object: SceneObject, texs: ResolvedChainInfo) {\n        var geometry = object.Geometry;\n        var pw = this.primaryProgram.getForContext(renderer.ContextManager);\n        var v = object.Transformer.calculateMVPMatrix(renderer);\n        var fm = <PhongMaterial>object.getMaterial(\"jthree.materials.forematerial\");//shiningness\n        var coefficient = 0;\n        if(fm.specularCoefficient)coefficient = fm.specularCoefficient;\n        pw.register({\n            attributes: {\n                position: geometry.PositionBuffer,\n                normal: geometry.NormalBuffer,\n                uv:geometry.UVBuffer\n            },\n            uniforms: {\n                matMVP: { type: \"matrix\", value: v },\n                matMV: { type: \"matrix\", value: Matrix.multiply(renderer.Camera.viewMatrix, object.Transformer.LocalToGlobal) },\n                specularCoefficient: {\n                    type: \"float\",\n                    value: coefficient\n                }\n            }\n        });\n\n    }\n    /**\n     * Configure shader for 2nd pass.\n     * @return {[type]}                     [description]\n     */\n    private configureSecoundaryBuffer(scene: Scene, renderer: BasicRenderer, object: SceneObject, texs: ResolvedChainInfo) {\n        var geometry = object.Geometry;\n        var programWrapper = this.secoundaryProgram.getForContext(renderer.ContextManager);\n        var fm = <PhongMaterial>object.getMaterial(\"jthree.materials.forematerial\");\n        var albedo;\n        if (fm && fm.diffuse) {//TODO there should be good implementation\n            albedo = fm.diffuse.toVector();\n        } else {\n            albedo = new Vector4(1, 0, 0, 1);\n        }\n        var v = object.Transformer.calculateMVPMatrix(renderer);\n        programWrapper.register({\n            attributes: {\n                position: geometry.PositionBuffer,\n                normal: geometry.NormalBuffer,\n                uv: geometry.UVBuffer\n            },\n            uniforms: {\n                matMVP: {\n                    type: \"matrix\",\n                    value: v\n                },\n                matMV: {\n                    type: \"matrix\",\n                    value: Matrix.multiply(renderer.Camera.viewMatrix, object.Transformer.LocalToGlobal)\n                },\n                albedo: {\n                    type: \"vector\",\n                    value: albedo\n                },\n                texture: {\n                    type: \"texture\",\n                    value: fm.texture,\n                    register: 0\n                },\n                textureUsed: {\n                    type: \"integer\",\n                    value: (fm.texture ? 1 : 0)\n                }\n            }\n        });\n    }\n\n    /**\n     * Configure shader for 3rd pass.\n     * @return {[type]}                     [description]\n     */\n    private configureThirdBuffer(scene: Scene, renderer: BasicRenderer, object: SceneObject, texs: ResolvedChainInfo)\n    {\n        var geometry = object.Geometry;\n        var programWrapper = this.thirdProgram.getForContext(renderer.ContextManager);\n        var fm = <PhongMaterial>object.getMaterial(\"jthree.materials.forematerial\");\n        var specular;\n        if (fm && fm.diffuse) {\n            specular = fm.specular.toVector();\n        } else\n        {\n            specular = new Vector3(1, 0, 0);\n        }\n        var v = object.Transformer.calculateMVPMatrix(renderer);\n        programWrapper.register({\n            attributes: {\n                position: geometry.PositionBuffer,\n                normal: geometry.NormalBuffer,\n                uv: geometry.UVBuffer\n            },\n            uniforms: {\n                matMVP: {\n                    type: \"matrix\",\n                    value: v\n                },\n                matMV: {\n                    type: \"matrix\",\n                    value: Matrix.multiply(renderer.Camera.viewMatrix, object.Transformer.LocalToGlobal)\n                },\n                specular: {\n                    type: \"vector\",\n                    value: specular\n                },\n            }\n        });\n    }\n\n    public  getMaterialConfig(pass:number,technique:number):IMaterialConfig\n    {\n      if(technique == 0)\n      {\n        return {\n          blend:false,\n          cull:\"ccw\"\n        }\n      }\n      if(technique == 1)\n      {\n        return {\n          cull:\"ccw\",\n          blend:true\n        }\n      }else\n      {\n        return {\n          cull:\"ccw\",\n          blend:false\n        }\n      }\n    }\n}\n\nexport =GBufferMaterial;\n","import IMaterialConfig = require(\"../IMaterialConfig\");\nimport Material = require(\"./../Material\");\nimport Program = require(\"../../Resources/Program/Program\");\nimport BasicRenderer = require(\"../../Renderers/BasicRenderer\");\nimport SceneObject = require(\"../../SceneObject\");\nimport Matrix = require(\"../../../Math/Matrix\");\nimport Vector4 = require(\"../../../Math/Vector4\");\nimport Scene = require('../../Scene');\nimport ResolvedChainInfo = require('../../Renderers/ResolvedChainInfo');\nimport RenderStageBase = require(\"../../Renderers/RenderStages/RenderStageBase\");\ndeclare function require(string): string;\n\nclass HitTestMaterial extends Material {\n    protected program: Program;\n    constructor() {\n        super();\n        var vs = require('../../Shaders/VertexShaders/BasicGeometries.glsl');\n        var fs = require('../../Shaders/SolidColor.glsl');\n        this.program = this.loadProgram(\"jthree.shaders.vertex.basic\", \"jthree.shaders.fragment.solidcolor\", \"jthree.programs.solidcolor\", vs, fs);\n        this.setLoaded();\n    }\n\n    public configureMaterial(scene: Scene, renderStage: RenderStageBase, object: SceneObject, texs: ResolvedChainInfo, techniqueIndex: number, passIndex: number): void {\n        var renderer = renderStage.Renderer;\n        super.configureMaterial(scene, renderStage, object, texs, techniqueIndex, passIndex);\n        var r = 0xFF00 & (renderStage as any).___objectIndex;\n        var g = 0x00FF & (renderStage as any).___objectIndex;\n        var geometry = object.Geometry;\n        var programWrapper = this.program.getForContext(renderer.ContextManager);\n        var v = object.Transformer.calculateMVPMatrix(renderer);\n        programWrapper.register({\n            attributes: {\n                position: geometry.PositionBuffer,\n                normal: geometry.NormalBuffer\n            },\n            uniforms: {\n                matMVP: { type: \"matrix\", value: v },\n                matMV: { type: \"matrix\", value: Matrix.multiply(renderer.Camera.viewMatrix, object.Transformer.LocalToGlobal) },\n                u_color: { type: \"vector\", value: new Vector4(r /0xFF,  g/0xFF, 0, 1) }\n            }\n        });\n        geometry.IndexBuffer.getForContext(renderer.ContextManager).bindBuffer();\n    }\n\n    public getMaterialConfig(pass: number, technique: number): IMaterialConfig {\n        return {\n            cull: \"ccw\",\n            blend: false\n        }\n    }\n\n    public get MaterialGroup(): string {\n        return \"jthree.materials.hitarea\";\n    }\n}\n\nexport =HitTestMaterial;\n","import Material = require(\"./../Material\");\nimport Program = require(\"../../Resources/Program/Program\");\nimport BasicRenderer = require(\"../../Renderers/BasicRenderer\");\nimport SceneObject = require(\"../../SceneObject\");\nimport Matrix = require(\"../../../Math/Matrix\");\nimport TextureBase = require('../../Resources/Texture/TextureBase');\nimport Scene = require('../../Scene');\nimport ResolvedChainInfo = require('../../Renderers/ResolvedChainInfo');\nimport IMaterialConfig = require(\"./../IMaterialConfig\");\nimport RenderStageBase = require(\"../../Renderers/RenderStages/RenderStageBase\");\ndeclare function require(string): string;\n/**\n * Provides shadow map rendering materials.\n * By this material, default meshes will be rendered as shadow map.\n * These shadow map will be used in lighting stage to drop shadow.\n */\nclass ShadowMapMaterial extends Material\n{\n  public get MaterialGroup(): string\n  {\n      return \"jthree.materials.shadowmap\";\n  }\n\n    protected program: Program;\n\n    constructor()\n    {\n        super();\n        var vs = require('../../Shaders/Shadow/ShadowMapVertex.glsl');\n        var fs = require('../../Shaders/Shadow/ShadowMapFragment.glsl');\n        this.program = this.loadProgram(\"jthree.shaders.vertex.shadowmap\", \"jthree.shaders.fragment.shadowmap\", \"jthree.programs.shadowmap\", vs, fs);\n        this.setLoaded();\n    }\n\n    public configureMaterial(scene: Scene, renderStage: RenderStageBase, object: SceneObject, texs: ResolvedChainInfo,techniqueIndex:number,passIndex:number): void\n    {\n      var renderer = renderStage.Renderer;\n        super.configureMaterial(scene, renderStage, object, texs,techniqueIndex,passIndex);\n        var light = scene.LightRegister.shadowDroppableLights[techniqueIndex];\n        var geometry = object.Geometry;\n        var matPLW = Matrix.multiply(light.matLightViewProjection,object.Transformer.LocalToGlobal);\n        this.program.getForContext(renderer.ContextManager).register({\n          attributes:\n          {\n            position:geometry.PositionBuffer\n          },\n          uniforms:\n          {\n            matPLW:{type:\"matrix\",value:matPLW}\n          }\n        });\n        geometry.bindIndexBuffer(renderer.ContextManager);\n    }\n\n    public getMaterialConfig(pass:number,technique:number):IMaterialConfig\n    {\n      return {\n        cull:\"ccw\",\n        blend:false\n      }\n    }\n}\n\nexport =ShadowMapMaterial;\n","module.exports = \"struct BasicVertexTransformOutput\\n{\\n  vec4 position;\\n  vec3 normal;\\n  vec2 uv;\\n};\\n\\nBasicVertexTransformOutput basicVertexTransform(vec3 position,vec3 normal,vec2 uv,mat4 mvp,mat4 mv){\\n  return BasicVertexTransformOutput(mvp*vec4(position,1.0),normalize((mv*vec4(normal,0)).xyz),uv);\\n}\\n\"","import Material = require(\"./../Material\");\nimport Program = require(\"../../Resources/Program/Program\");\nimport BasicRenderer = require(\"../../Renderers/BasicRenderer\");\nimport SceneObject = require(\"../../SceneObject\");\nimport Vector3 = require(\"../../../Math/Vector3\");\nimport Matrix = require(\"../../../Math/Matrix\");\nimport Color4 = require(\"../../../Base/Color/Color4\");\nimport Color3 = require('../../../Base/Color/Color3');\nimport TextureBase = require('../../Resources/Texture/TextureBase');\nimport Scene = require('../../Scene');\nimport ResolvedChainInfo = require('../../Renderers/ResolvedChainInfo');\nimport RenderStageBase = require(\"../../Renderers/RenderStages/RenderStageBase\");\ndeclare function require(string): string;\n\nclass PhongMaterial extends Material {\n  public diffuse = Color4.parseColor('#F0F');\n\n  public ambient = Color4.parseColor('#F0F');\n\n  public specular = Color3.parseColor('#F0F');\n\n  public specularCoefficient = 10;\n\n  public texture: TextureBase=null;\n\n  protected program: Program;\n  constructor() {\n    super();\n    var vs = require('../../Shaders/VertexShaders/BasicGeometries.glsl');\n    var fs = require('../../Shaders/Phong.glsl');\n    this.program = this.loadProgram(\"jthree.shaders.vertex.basic\", \"jthree.shaders.fragment.phong\", \"jthree.programs.phong\", vs, fs);\n    this.setLoaded();\n  }\n\n    public configureMaterial(scene: Scene, renderStage: RenderStageBase, object: SceneObject,texs:ResolvedChainInfo,techniqueIndex:number,passIndex:number): void {\n    if (!this.program) return;\n    super.configureMaterial(scene, renderStage, object,texs,techniqueIndex,passIndex);\n    var renderer = renderStage.Renderer;\n    var geometry = object.Geometry;\n    var pw = this.program.getForContext(renderer.ContextManager);\n    var v = object.Transformer.calculateMVPMatrix(renderer);\n        pw.register({\n            attributes: {\n                position: geometry.PositionBuffer,\n                normal: geometry.NormalBuffer,\n                uv:geometry.UVBuffer\n            },\n            uniforms: {\n                matMVP: { type: \"matrix\", value: v },\n                matV: { type: \"matrix\", value: renderer.Camera.viewMatrix },\n                matMV: { type: \"matrix\", value: Matrix.multiply(renderer.Camera.viewMatrix, object.Transformer.LocalToGlobal) },\n                texture: { type: \"texture\", register: 0, value: this.texture },\n                dlight: { type: \"texture\", register: 1, value: texs[\"DLIGHT\"] },\n                slight: { type: \"texture\", register: 2, value: texs[\"SLIGHT\"] },\n                ambient: { type: \"vector\", value: this.ambient.toVector() },\n                diffuse: { type: \"vector\", value: this.diffuse.toVector() },\n                specular: { type: \"vector\", value: this.specular.toVector4(this.specularCoefficient) },\n                textureUsed: { type: \"integer\", value: (this.texture != null) ? 1 : 0 },\n                ambientCoefficient:{type:\"vector\",value:scene.sceneAmbient.toVector()}\n            }\n        });\n    geometry.IndexBuffer.getForContext(renderer.ContextManager).bindBuffer();\n  }\n}\n\nexport =PhongMaterial;\n","import Material = require(\"./../Material\");\nimport Program = require(\"../../Resources/Program/Program\");\nimport BasicRenderer = require(\"../../Renderers/BasicRenderer\");\nimport SceneObject = require(\"../../SceneObject\");\nimport Matrix = require(\"../../../Math/Matrix\");\nimport Color4 = require(\"../../../Base/Color/Color4\");\nimport Scene = require('../../Scene');\nimport ResolvedChainInfo = require('../../Renderers/ResolvedChainInfo');\nimport RenderStageBase = require(\"../../Renderers/RenderStages/RenderStageBase\");\ndeclare function require(string): string;\n\nclass SolidColorMaterial extends Material {\n  private color: Color4 = Color4.parseColor('#F0F');\n\n    public get Color(): Color4 {\n    return this.color;\n  }\n\n    public set Color(col: Color4) {\n    this.color = col;\n  }\n  protected program: Program;\n  constructor() {\n    super();\n    var vs = require('../../Shaders/VertexShaders/BasicGeometries.glsl');\n    var fs = require('../../Shaders/SolidColor.glsl');\n    this.program = this.loadProgram(\"jthree.shaders.vertex.basic\", \"jthree.shaders.fragment.solidcolor\", \"jthree.programs.solidcolor\", vs, fs);\n    this.setLoaded();\n  }\n\n    public configureMaterial(scene: Scene, renderStage: RenderStageBase, object: SceneObject, texs: ResolvedChainInfo,techniqueIndex:number,passIndex:number): void {\n    var renderer = renderStage.Renderer;\n    super.configureMaterial(scene, renderStage, object, texs,techniqueIndex,passIndex);\n    var geometry = object.Geometry;\n    var programWrapper = this.program.getForContext(renderer.ContextManager);\n    var v = object.Transformer.calculateMVPMatrix(renderer);\n        programWrapper.register({\n            attributes: {\n                position: geometry.PositionBuffer,\n                normal: geometry.NormalBuffer\n            },\n            uniforms: {\n                matMVP: { type: \"matrix\", value: v },\n                matMV: { type: \"matrix\", value: Matrix.multiply(renderer.Camera.viewMatrix, object.Transformer.LocalToGlobal) },\n                u_color:{type:\"vector\",value:this.Color.toVector()}\n            }\n        });\n    geometry.IndexBuffer.getForContext(renderer.ContextManager).bindBuffer();\n  }\n}\n\nexport =SolidColorMaterial;\n","import Material = require(\"./../Material\");\nimport Program = require(\"../../Resources/Program/Program\");\nimport BasicRenderer = require(\"../../Renderers/BasicRenderer\");\nimport SceneObject = require(\"../../SceneObject\");\nimport Matrix = require(\"../../../Math/Matrix\");\nimport TextureBase = require('../../Resources/Texture/TextureBase');\nimport Scene = require('../../Scene');\nimport ResolvedChainInfo = require('../../Renderers/ResolvedChainInfo');\nimport RenderStageBase = require(\"../../Renderers/RenderStages/RenderStageBase\");\ndeclare function require(string): string;\n\nclass SpriteMaterial extends Material\n{\n    public texture: TextureBase;\n    public ctR: number = 0;\n    public ctG: number = 1;\n    public ctB: number = 2;\n    public ctA: number = 3;\n\n    protected program: Program;\n    constructor()\n    {\n        super();\n        var vs = require('../../Shaders/VertexShaders/BasicGeometries.glsl');\n        var fs = require('../../Shaders/Sprite.glsl');\n        this.program = this.loadProgram(\"jthree.shaders.vertex.basic\", \"jthree.shaders.fragment.sprite\", \"jthree.programs.sprite\", vs, fs);\n        this.setLoaded();\n    }\n\n    public configureMaterial(scene: Scene, renderStage: RenderStageBase, object: SceneObject, texs: ResolvedChainInfo,techniqueIndex:number,passIndex:number): void\n    {\n        var renderer = renderStage.Renderer;\n        super.configureMaterial(scene, renderStage, object, texs,techniqueIndex,passIndex);\n        var geometry = object.Geometry;\n        var programWrapper = this.program.getForContext(renderer.ContextManager);\n        var v = object.Transformer.calculateMVPMatrix(renderer);\n        //gen ct matrix\n        var ctM: Matrix = Matrix.zero();\n        if (this.ctR < 4) ctM.setAt(0,this.ctR, 1);\n        if (this.ctG < 4) ctM.setAt(1,this.ctG, 1);\n        if (this.ctB < 4) ctM.setAt(2,this.ctB, 1);\n        if (this.ctA < 4) ctM.setAt(3,this.ctA, 1);\n        programWrapper.register({\n            attributes: {\n                position: geometry.PositionBuffer,\n                normal: geometry.NormalBuffer,\n                uv: geometry.UVBuffer\n            }, uniforms: {\n                matMVP: { type: \"matrix\", value: v },\n                matV: { type: \"matrix\", value: renderer.Camera.viewMatrix },\n                matMV: { type: \"matrix\", value: Matrix.multiply(renderer.Camera.viewMatrix, object.Transformer.LocalToGlobal) },\n                u_sampler: { type: \"texture\", register: 0, value: this.texture },\n                additionA: { type: \"integer\", value: this.ctA < 4 ? 0 : 1 },\n                ctM: { type: \"matrix\", value: ctM }\n            }\n        });\n        geometry.bindIndexBuffer(renderer.ContextManager);\n    }\n}\n\nexport =SpriteMaterial;\n","import JThreeObjectWithID = require(\"../../Base/JThreeObjectWithID\");\nimport BasicRenderer = require(\"../Renderers/BasicRenderer\");\nimport SceneObject = require(\"../SceneObject\");\nimport GLCullMode = require(\"../../Wrapper/GLCullMode\");\nimport GLFeatureType = require(\"../../Wrapper/GLFeatureType\");\nimport ShaderType = require(\"../../Wrapper/ShaderType\");\nimport Program = require('../Resources/Program/Program');\nimport Scene = require('../Scene');\nimport ResolvedChainInfo = require('../Renderers/ResolvedChainInfo');\nimport Geometry = require('../Geometries/Geometry')\nimport ResourceManager = require(\"../ResourceManager\");\nimport JThreeContext = require(\"../../JThreeContext\");\nimport ContextComponents = require(\"../../ContextComponents\");\nimport IMaterialConfig = require(\"./IMaterialConfig\");\nimport RenderStageBase = require(\"../Renderers/RenderStages/RenderStageBase\");\ndeclare function require(string): string;\n/**\n* Basement class for any Materials.\n* Material is basically meaning what shader will be used or what shader variable will passed.\n* In jThree v3,these renderer are implemented with deferred rendering method.\n* That method needs to use a lot of shaders and shader variables.\n* Therefore,materials of jThree is not only visceral Materials.\n* Some of materials are intended to use in deferred rendering stage(G-buffer generation stage is one of example).\n* This is one of significant difference between jThree and the other Web3D libraries in Material.\n*/\nclass Material extends JThreeObjectWithID {\n   /**\n   * Whether this material was initialized already or not.\n   */\n    private initialized:boolean=false;\n\n    /**\n    * Set loaded status of this material.\n    * If first argument of boolean was passed,the status of loaded will be changed in that value.\n    * If first argument of boolean was not passed, the status of loaded will be changed in true.\n    */\n    protected setLoaded(flag?:boolean)\n    {\n        flag=typeof flag ==='undefined'?true:flag;\n        this.initialized=flag;\n    }\n\n    /**\n     * Provides the flag this material finished loading or not.\n     */\n    public get Initialized():boolean\n    {\n        return this.initialized;\n    }\n\n    constructor() {\n        super();\n    }\n\n    /**\n    * Rendering priorty\n    */\n    private priorty: number;\n    /**\n    * Rendering priorty of this material.\n    * If render stage request materials of an specific material group, these list is sorted in this priorty value.\n    * So any material with same group id having lower priorty will be rendered later.\n    */\n    public get Priorty(): number {\n        return this.priorty;\n    }\n\n    public getMaterialConfig(pass:number,technique:number):IMaterialConfig\n    {\n      return {\n        cull:\"ccw\",\n        blend:true\n      }\n    }\n    /**\n    * Group name of this material.\n    * This main purpose is mainly intended to be used in RenderStage for filtering materials by puropse of material.\n    */\n    public get MaterialGroup():string\n    {\n        return \"jthree.materials.forematerial\";\n    }\n    /**\n    * Should return how many times required to render this material.\n    * If you render some of model with edge,it can be 2 or greater.\n    * Because it needs rendering edge first,then rendering forward shading.\n    */\n    public getPassCount(techniqueIndex: number) {\n        return 1;\n    }\n\n    /**\n    * Initialize shader programs.\n    * @param vsid the vertex shader id\n    * @param fsid the fragment shader id\n    * @param pid the program id which is link of the vertex shader and fragment shader\n    * @param vscode the vertex shader source code\n    * @param fscode the fragment shader source code\n    */\n    protected loadProgram(vsid: string, fsid: string, pid: string,vscode:string,fscode:string): Program {\n        var rm = JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager);\n        var vShader = rm.createShader(vsid,vscode,ShaderType.VertexShader);\n        var fShader = rm.createShader(fsid,fscode,ShaderType.FragmentShader);\n        vShader.loadAll();fShader.loadAll();\n        return rm.createProgram(pid,[vShader,fShader]);\n    }\n    /**\n    * Apply configuration of program.\n    * This is used for passing variables,using programs,binding index buffer.\n    */\n    public configureMaterial(scene:Scene,renderStage: RenderStageBase, object: SceneObject,texs:ResolvedChainInfo,techniqueIndex:number,passIndex:number): void {\n        this.applyMaterialConfig(passIndex,techniqueIndex,renderStage.Renderer);\n        return;\n    }\n\n    protected applyMaterialConfig(passIndex:number,techniqueIndex:number,renderer:BasicRenderer)\n    {\n      var config = this.getMaterialConfig(passIndex,techniqueIndex);\n      if(config.cull)\n      {\n        renderer.GL.enable(renderer.GL.CULL_FACE);\n        if(config.cull == \"cw\")\n        {\n          renderer.GL.cullFace(renderer.GL.FRONT);\n        }else\n        {\n          renderer.GL.cullFace(renderer.GL.BACK);\n        }\n      }else\n      {\n        renderer.GL.disable(renderer.GL.CULL_FACE);\n      }\n      if(config.blend)\n      {\n        renderer.GL.enable(renderer.GL.BLEND);\n        if(!config.blendArg1)\n        {\n          //If blendFunc was not specified, jThree will select linear blending\n          config.blendArg1 = \"srcAlpha\"\n          config.blendArg2 = \"oneMinusSrcAlpha\"\n        }\n        renderer.GL.blendFunc(this.parseBlendVariable(config.blendArg1,renderer),this.parseBlendVariable(config.blendArg2,renderer));\n      }else\n      {\n        renderer.GL.disable(renderer.GL.BLEND);\n      }\n    }\n\n    private parseBlendVariable(blendConfig:string,renderer:BasicRenderer):number\n    {\n      if(blendConfig == \"1\")return renderer.GL.ONE;\n      if(blendConfig == \"0\")return renderer.GL.ZERO;\n      if(blendConfig == \"srcAlpha\")return renderer.GL.SRC_ALPHA;\n      if(blendConfig == \"srcColor\")return renderer.GL.SRC_COLOR;\n      if(blendConfig == \"oneMinusSrcAlpha\")return renderer.GL.ONE_MINUS_SRC_ALPHA;\n      if(blendConfig == \"oneMinusSrcColor\")return renderer.GL.ONE_MINUS_SRC_COLOR;\n      if(blendConfig == \"oneMinusDstAlpha\")return renderer.GL.ONE_MINUS_DST_ALPHA;\n      if(blendConfig == \"oneMinusDstColor\")return renderer.GL.ONE_MINUS_DST_COLOR;\n      if(blendConfig == \"destAlpha\")return renderer.GL.DST_ALPHA;\n      if(blendConfig == \"destColor\")return renderer.GL.DST_COLOR;\n      console.error(\"Unsupported blend config!\");\n    }\n\n    /**\n    * The flag whether this material should be called for rendering.\n    */\n    public get Enabled(): boolean {\n        return true;\n    }\n\n    public getDrawGeometryLength(geo:Geometry):number\n    {\n        return geo.IndexCount;\n    }\n\n    public getDrawGeometryOffset(geo:Geometry):number\n    {\n        return geo.GeometryOffset;\n    }\n}\n\nexport =Material;\n","import Delegates = require(\"../../Base/Delegates\");\nimport Exceptions = require(\"../../Exceptions\");\nimport jThreeObjectWithID = require(\"../../Base/JThreeObjectWithID\");\nimport Camera = require(\"./../Camera/Camera\");\nimport RenderPathExecutor = require('./RenderPathExecutor');\nimport JThreeEvent = require('../../Base/JThreeEvent');\nimport Rectangle = require('../../Math/Rectangle');\nimport RendererConfiguratorBase = require(\"./RendererConfigurator/RendererConfiguratorBase\");\nimport RendererConfigurator = require(\"./RendererConfigurator/BasicRendererConfigurator\");\nimport JThreeContext = require(\"../../JThreeContext\");\nimport ContextComponents = require(\"../../ContextComponents\");\nimport ResourceManager = require(\"../ResourceManager\");\nimport Scene = require(\"../Scene\");\nimport RenderPath = require(\"./RenderPath\");\nimport Canvas = require(\"../Canvas\");\nimport Debugger = require(\"../../Debug/Debugger\");\nimport CanvasRegion = require(\"../CanvasRegion\");\n /**\n * Provides base class feature for renderer classes.\n */\nclass BasicRenderer extends CanvasRegion\n{\n    /**\n     * Constructor of RenderBase\n     * @param canvas\n     * @param viewportArea\n     * @returns {}\n     */\n    constructor(canvas: Canvas, viewportArea: Rectangle, configurator?: RendererConfiguratorBase)\n    {\n        super(canvas.canvasElement);\n        configurator = configurator || new RendererConfigurator();\n        this.canvas = canvas;\n        this.renderPathExecutor =new RenderPathExecutor(this);\n        this._viewport = viewportArea;\n        var rm = JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager);\n        if (this._viewport) rm.createRBO(this.ID + \".rbo.default\", this._viewport.Width, this._viewport.Height);\n        rm.createFBO(this.ID + \".fbo.default\");\n        this.renderPath.path.push.apply(this.renderPath.path,configurator.getStageChain(this));\n        this.RenderPathExecutor.TextureBuffers = configurator.TextureBuffers;\n        this.RenderPathExecutor.generateAllTextures();\n        this.name = this.ID;\n    }\n\n    public renderPath:RenderPath = new RenderPath();\n\n    /**\n     * The camera reference this renderer using for draw.\n     */\n    private camera: Camera;\n    /**\n     * The camera reference this renderer using for draw.\n     */\n    public get Camera(): Camera\n    {\n        return this.camera;\n    }\n    /**\n     * The camera reference this renderer using for draw.\n     */\n    public set Camera(camera: Camera)\n    {\n        this.camera = camera;\n    }\n\n    public render(scene:Scene): void\n    {\n      this.renderPathExecutor.processRender(scene,this.renderPath)\n    }\n\n    /**\n     * ContextManager managing this renderer.\n     */\n    private canvas: Canvas;\n\n    /**\n     * ContextManager managing this renderer.\n     */\n    public get ContextManager(): Canvas\n    {\n        return this.canvas;\n    }\n\n    public get GL():WebGLRenderingContext\n    {\n      return this.canvas.GL;\n    }\n\n    /**\n     * It will be called before processing renderer.\n     * If you need to override this method, you need to call same method of super class first.\n     */\n    public beforeRender()\n    {\n        this.applyViewportConfigure();\n        this.ContextManager.beforeRender(this);\n    }\n\n    /**\n     * It will be called after processing renderer.\n     * If you need to override this method, you need to call same method of super class first.\n     */\n    public afterRender()\n    {\n        this.GL.flush();\n        this.ContextManager.afterRender(this);\n    }\n\n    /**\n    * Provides render stage abstraction\n    */\n    private renderPathExecutor: RenderPathExecutor;\n\n    /**\n     * Provides render stage abstraction\n     */\n    public get RenderPathExecutor(): RenderPathExecutor\n    {\n        return this.renderPathExecutor;\n    }\n\n    public viewportChanged: JThreeEvent<Rectangle> = new JThreeEvent<Rectangle>();//TODO argument should be optimized.\n\n\n    private _viewport: Rectangle = new Rectangle(0, 0, 256, 256);\n\n    /**\n     * Getter for viewport area. Viewport area is the area to render.\n     * @returns {Rectangle} the rectangle region to render.\n     */\n    public get region(): Rectangle\n    {\n        return this._viewport;\n    }\n    /**\n     * Setter for viewport area. viewport area is the area to render.\n     * @param area {Rectangle} the rectangle to render.\n     */\n    public set region(area: Rectangle)\n    {\n        if (!Rectangle.Equals(area, this._viewport) && (typeof area.Width !== 'undefined') && (typeof area.Height !== 'undefined'))\n        {\n            if (isNaN(area.Height + area.Width)) return;\n            this._viewport = area;\n            JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager).getRBO(this.ID + \".rbo.default\").resize(area.Width, area.Height);\n            this.viewportChanged.fire(this, area);\n        }\n\n    }\n\n    /**\n     * Apply viewport configuration\n     */\n    public applyViewportConfigure(): void\n    {\n        this.GL.viewport(this._viewport.Left, this._viewport.Top, this._viewport.Width, this._viewport.Height);\n    }\n}\n\n\nexport =BasicRenderer;\n","import RenderStageChain = require(\"./RenderStageChain\");\nclass RenderPath\n{\n  public path:RenderStageChain[] = [];\n\n  public pushStage(stage:RenderStageChain)\n  {\n    this.path.push(stage);\n  }\n\n  public insertWithIndex(index:number,stage:RenderStageChain)\n  {\n    if(index >= 0 && index <= this.path.length)\n    {\n    var newStageChain = new Array(this.path.length+1);\n    for (let i = 0; i < index; i++) {\n        newStageChain[i]=this.path[i];\n    }\n    newStageChain[index]=stage;\n    for(let i =index+1; i < newStageChain.length;i++)\n    {\n      newStageChain[i] = this.path[i-1];\n    }\n    this.path = newStageChain;\n  }else{\n    console.error(`Invalid render stage index : ${index}, Current length of stage chain is $${this.path.length}`);\n  }\n  }\n\n  public deleteWithIndex(index:number)\n  {\n    if(index >= 0 && index < this.path.length&& this.path.length >0)\n    {\n      var newStageChain = new Array(this.path.length -1);\n      for (let i = 0; i < index; i++) {\n          newStageChain[i]=this.path[i];\n      }\n      for (let i = index; i < newStageChain.length; i++)\n      {\n          newStageChain[i]=this.path[i+1];\n      }\n      this.path = newStageChain;\n    }else{\n      console.error(`Invalid render stage index:${index}, Current length of stage chain is ${this.path.length}`);\n    }\n  }\n\n  public deleteStage(stage:RenderStageChain)\n  {\n    for (let i = 0; i < this.path.length; i++) {\n        if(this.path[i] === stage){\n          this.deleteWithIndex(i);\n          return;\n        }\n    }\n    console.warn(\"Couldn't find specified RenderStage, any render stage was not deleted\");\n  }\n\n  public insertAfter(targetStage:RenderStageChain,stage:RenderStageChain)\n  {\n    for (let i = 0; i < this.path.length; i++) {\n        if(this.path[i] === stage){\n          this.insertWithIndex(i+1,stage);\n          return;\n        }\n    }\n    console.error(\"Invalid render stage chain.Specified targetsStage was not found.\");\n  }\n\n  public insertBefore(targetStage:RenderStageChain,stage:RenderStageChain)\n  {\n    for (let i = 0; i < this.path.length; i++) {\n        if(this.path[i] === stage){\n          this.insertWithIndex(i,stage);\n          return;\n        }\n    }\n    console.error(\"Invalid render stage chain. Specified targetStage was not found\");\n  }\n}\n\nexport = RenderPath;\n","import BasicRenderer = require('./BasicRenderer');\nimport AssociativeArray = require('../../Base/Collections/AssociativeArray');\nimport RenderStageChain = require('./RenderStageChain');\nimport SceneObject = require('../SceneObject');\nimport Mesh = require('../../Shapes/Mesh')\nimport Scene = require('../Scene');\nimport QuadGeometry = require('../Geometries/QuadGeometry');\nimport ResolvedChainInfo = require('./ResolvedChainInfo');\nimport GeneraterInfo = require('./TextureGeneraters/GeneraterInfo');\nimport GeneraterBase = require('./TextureGeneraters/GeneraterBase');\nimport CubeGeometry = require(\"../Geometries/CubeGeometry\");\nimport RenderPath = require(\"./RenderPath\");\nimport TextureGenerater = require(\"./TextureGenerater\");\nimport JThreeEvent = require(\"../../Base/JThreeEvent\");\nimport IRenderStageCompletedEventArgs = require(\"./IRenderStageCompletedEventArgs\");\nimport IRenderPathCompletedEventArgs = require(\"./IRenderPathCompletedEventArgs\");\nimport IRenderObjectCompletedEventArgs = require(\"./IRenderObjectCompletedEventArgs\");\nclass RenderPathExecutor\n{\n    public renderStageCompleted:JThreeEvent<IRenderStageCompletedEventArgs> = new JThreeEvent<IRenderStageCompletedEventArgs>();\n\n    public renderPathCompleted:JThreeEvent<IRenderPathCompletedEventArgs> = new JThreeEvent<IRenderPathCompletedEventArgs>();\n\n    public renderObjectCompleted:JThreeEvent<IRenderObjectCompletedEventArgs> = new JThreeEvent<IRenderObjectCompletedEventArgs>();\n\n    public renderer: BasicRenderer;\n    private defaultQuad: QuadGeometry;\n    private defaultCube:CubeGeometry;\n\n    constructor(parent: BasicRenderer)\n    {\n        this.renderer = parent;\n        this.defaultQuad = new QuadGeometry(\"jthree.renderstage.default.quad\");\n        this.defaultCube = new CubeGeometry(\"jthree.renderstage.default.cube\");\n    }\n\n    private textureBuffers: GeneraterInfo = {};\n\n    public get TextureBuffers()\n    {\n        return this.textureBuffers;\n    }\n\n    public set TextureBuffers(val: GeneraterInfo)\n    {\n        this.textureBuffers = val;\n    }\n\n\n\t/**\n\t * Generate all textures subscribed to TextureBuffers\n\t */\n    public generateAllTextures()\n    {\n        for (var name in this.textureBuffers)\n        {\n          TextureGenerater.generateTexture(this.renderer,name,this.textureBuffers[name]);\n        }\n    }\n\n    private genChainTexture(chain: RenderStageChain): ResolvedChainInfo\n    {\n        var texInfo: ResolvedChainInfo = {};\n        for (var targetName in chain.buffers)\n        {\n            var bufferName = chain.buffers[targetName];\n            if (bufferName == 'default')\n            {\n                texInfo[targetName] = null;//default buffer\n                continue;\n            }\n            var tex = TextureGenerater.getTexture(this.renderer,bufferName);\n            texInfo[targetName] = tex;\n        }\n        return texInfo;\n    }\n\n    public processRender(scene: Scene,renderPath:RenderPath)\n    {\n        var stageIndex = 0;\n        renderPath.path.forEach(chain=>\n        {\n            var texs = this.genChainTexture(chain);\n            var stage = chain.stage;\n            var techniqueCount = stage.getTechniqueCount(scene);\n            var targetObjects: SceneObject[];\n            switch (stage.TargetGeometry)\n            {\n                case \"quad\":\n                    targetObjects = [new Mesh(this.defaultQuad, null)];\n                    break;\n                case \"cube\":\n                    targetObjects = [new Mesh(this.defaultCube, null)];\n                    break;\n                case \"scene\":\n                default:\n                    targetObjects = scene.children;\n            }\n            stage.preStage(scene,texs);\n            stage.applyStageConfig();\n            for (var i = 0; i < techniqueCount; i++)\n            {\n                stage.preTechnique(scene, i, texs);\n                targetObjects.forEach(v=>\n                {\n                    v.callRecursive(v=>\n                    {\n                        if (v.Geometry&&stage.needRender(scene, v, i))\n                        {\n                            stage.render(scene, v, i, texs);\n                            this.renderObjectCompleted.fire(this,{\n                              owner:this,\n                              renderedObject:v,\n                              stage:stage,\n                              stageChain:chain,\n                              bufferTextures:texs,\n                              technique:i\n                            });\n                        }\n                    });\n                });\n                stage.postTechnique(scene, i, texs);\n            }\n            stage.postStage(scene,texs);\n            this.renderStageCompleted.fire(this,{\n              owner:this,\n              completedChain:chain,\n              bufferTextures:texs,\n              index:stageIndex\n            });\n            stageIndex++;\n        });\n        this.renderPathCompleted.fire(this,{\n          owner:this,\n          scene:scene\n        })\n    }\n}\n\nexport =RenderPathExecutor;\n","import BasicRenderer = require('../BasicRenderer');\nimport SceneObject = require('../../SceneObject');\nimport RenderStageBase = require('./RenderStageBase');\nimport Scene = require('../../Scene');\nimport ResolvedChainInfo = require('../ResolvedChainInfo');\nimport ClearTargetType = require(\"../../../Wrapper/ClearTargetType\");\nimport RenderStageConfig = require(\"../RenderStageConfig\");\nclass FowardShadingStage extends RenderStageBase\n{\n\n    public get RenderStageConfig(): RenderStageConfig\n    {\n        return {\n            depthTest: true\n        };\n    }\n\n\n\tconstructor(renderer: BasicRenderer) {\n\t\tsuper(renderer);\n\t}\n\n\tpublic preTechnique(scene: Scene, passCount: number, texs: ResolvedChainInfo) {\n\t\tthis.bindAsOutBuffer(this.DefaultFBO, [{\n\t\t\t\ttexture: null,\n\t\t\t\ttarget: \"depth\",\n\t\t\t\ttype: \"rbo\"\n\t\t\t},{\n\t\t\ttexture: texs[\"OUT\"],\n\t\t\ttarget: 0,\n\t\t\tisOptional: false\n\t\t}], () => {\n\t\t    this.Renderer.GL.clear(ClearTargetType.ColorBits | ClearTargetType.DepthBits);\n\t\t},()=>{\n\t\t\t\tthis.Renderer.GL.clear(ClearTargetType.DepthBits);\n\t\t\t});\n\t}\n\n\tpublic render(scene: Scene, object: SceneObject, passCount: number, texs: ResolvedChainInfo) {\n        this.drawForMaterials(scene, object, passCount, texs,\"jthree.materials.forematerial\");\n\t}\n\n\tpublic needRender(scene: Scene, object: SceneObject, passCount: number): boolean {\n\t\treturn typeof object.Geometry != \"undefined\" && object.Geometry != null;\n\t}\n}\n\nexport = FowardShadingStage;\n","import BasicRenderer = require('../../BasicRenderer');\nimport SceneObject = require('../../../SceneObject');\nimport RenderStageBase = require('../RenderStageBase');\nimport Scene = require('../../../Scene');\nimport ResolvedChainInfo = require('../../ResolvedChainInfo');\nimport ClearTargetType = require(\"../../../../Wrapper/ClearTargetType\");\nimport RenderStageConfig = require(\"../../RenderStageConfig\");\n/**\n * This stage draws 3 of G buffers.\n * Primary g-buffer Normal.X Normal.Y Depth SpecularCoefficent -> First pass\n * Secoundary g-buffer DiffuseAlbedo.RGBA -> secound pass\n * Third g-buffer SpecularAlbedo.RGB -> third pass\n */\nclass GBufferStage extends RenderStageBase\n{\n    public get RenderStageConfig(): RenderStageConfig\n    {\n        return {\n            depthTest: true\n        };\n    }\n\n    constructor(renderer: BasicRenderer)\n    {\n        super(renderer);\n    }\n\n    public preTechnique(scene: Scene, techniqueIndex: number, texs: ResolvedChainInfo) {\n        var outTexture;//switch texture by passCount\n        switch (techniqueIndex)\n        {\n            case 0:\n                outTexture = texs[\"PRIMARY\"];\n                break;\n            case 1:\n                outTexture = texs[\"SECOUNDARY\"];\n                break;\n            case 2:\n                outTexture = texs[\"THIRD\"];\n                break;\n        }\n        this.bindAsOutBuffer(this.DefaultFBO, [{\n            texture: this.DefaultRBO,\n            target: \"depth\",\n            type: \"rbo\"\n        }, {\n                texture: outTexture,\n                target: 0,\n                isOptional: false\n            }], () =>\n            {\n                this.Renderer.GL.clear(ClearTargetType.ColorBits | ClearTargetType.DepthBits);\n            }, () =>\n            {\n                this.Renderer.ContextManager.applyClearColor();\n                this.Renderer.GL.clear(ClearTargetType.DepthBits);\n            });\n    }\n\n    public render(scene: Scene, object: SceneObject, techniqueIndex: number, texs: ResolvedChainInfo) {\n        this.drawForMaterials(scene, object, techniqueIndex, texs, \"jthree.materials.gbuffer\");\n    }\n\n    public needRender(scene: Scene, object: SceneObject, techniqueIndex: number): boolean\n    {\n        return typeof object.Geometry != \"undefined\" && object.Geometry != null;\n    }\n\n    public getTechniqueCount(scene: Scene)\n    {\n        return 3;\n    }\n}\n\nexport = GBufferStage;\n","import SceneObject = require(\"../../SceneObject\");\nimport ClearTargetType = require(\"../../../Wrapper/ClearTargetType\");\nimport ResolvedChainInfo = require(\"../ResolvedChainInfo\");\nimport Scene = require(\"../../Scene\");\nimport RenderStageBase = require(\"./RenderStageBase\");\n\nclass HitAreaRenderStage extends RenderStageBase\n{\n  /**\n   * Object index for rendering hit area.\n   * (This is internal use)\n   * @type {number}\n   */\n  public ___objectIndex:number = 0;\n\n  public indexObjectPair = {};\n\n  public preTechnique(scene: Scene, passCount: number, texs: ResolvedChainInfo) {\n    this.bindAsOutBuffer(this.DefaultFBO, [\n        { texture: texs[\"OUT\"], target: 0 },\n        {texture:this.DefaultRBO,type:\"rbo\",target:\"depth\"}\n    ], () =>\n        {\n            this.GL.clearColor(1, 1, 0, 1);\n            this.GL.clear(ClearTargetType.ColorBits|ClearTargetType.DepthBits);\n        });\n    this.___objectIndex = 0;\n  }\n\n  public render(scene: Scene, object: SceneObject, techniqueIndex: number, texs: ResolvedChainInfo) {\n        this.indexObjectPair[this.___objectIndex] = object;\n        this.drawForMaterials(scene, object, techniqueIndex, texs,\"jthree.materials.hitarea\");\n        this.___objectIndex ++;\n  }\n\n  public getTechniqueCount(scene: Scene)\n  {\n      return 1;\n  }\n\n  public needRender(scene: Scene, object: SceneObject, techniqueIndex: number): boolean {\n      return true;\n  }\n}\n\nexport = HitAreaRenderStage;\n","import BasicRenderer = require('../BasicRenderer');\nimport SceneObject = require('../../SceneObject');\nimport RenderStageBase = require('./RenderStageBase');\nimport ClearTargetType = require(\"../../../Wrapper/ClearTargetType\");\nimport Scene = require('../../Scene');\nimport Program = require('../../Resources/Program/Program');\nimport Mesh = require('../../../Shapes/Mesh');\nimport Matrix = require('../../../Math/Matrix');\nimport Vector2 = require('../../../Math/Vector2');\nimport ResolvedChainInfo = require('../ResolvedChainInfo');\nclass LightAccumulationStage extends RenderStageBase\n{\n\n    private program: Program;\n\n    constructor(renderer: BasicRenderer)\n    {\n        super(renderer);\n    }\n\n\n    public preTechnique(scene: Scene, techniqueIndex: number, texs: ResolvedChainInfo) {\n        var targetTetxture;\n        switch (techniqueIndex) {\n            case 0:\n                targetTetxture = texs[\"DIFFUSE\"];\n                break;\n            case 1:\n                targetTetxture = texs[\"SPECULAR\"];\n                break;\n        }\n        this.bindAsOutBuffer(this.DefaultFBO, [\n            { texture: targetTetxture, target: 0 }\n        ], () =>\n            {\n                this.GL.clearColor(0, 0, 0, 0);\n                this.GL.clear(ClearTargetType.ColorBits);\n            });\n    }\n\n    public render(scene: Scene, object: SceneObject, techniqueIndex: number, texs: ResolvedChainInfo)\n    {\n        var geometry = object.Geometry;\n        if (!geometry) return;\n        this.configureMaterial(scene, this.Renderer, new Mesh(geometry, null), texs,techniqueIndex === 0?scene.LightRegister.DiffuseLightProgram:scene.LightRegister.SpecularLightProgram);\n        geometry.drawElements(this.Renderer.ContextManager, null);\n    }\n\n    public configureMaterial(scene: Scene, renderer: BasicRenderer, object: SceneObject, texs: ResolvedChainInfo,targetProgramWrapper:Program): void\n    {\n        var geometry = object.Geometry;\n        var programWrapper = targetProgramWrapper.getForContext(renderer.ContextManager);\n        var ip = Matrix.inverse(renderer.Camera.projectionMatrix);\n        programWrapper.register({\n            attributes: {\n                position: geometry.PositionBuffer,\n                uv: geometry.UVBuffer\n            },\n            uniforms: {\n                primary: {\n                    type: \"texture\",\n                    value: texs[\"PRIMARY\"],\n                    register: 0\n                },\n                secoundary: {\n                    type: \"texture\",\n                    value: texs[\"SECOUNDARY\"],\n                    register: 1\n                },\n                third: {\n                    type: \"texture\",\n                    value: texs[\"THIRD\"],\n                    register: 2\n                },\n                lightParam: {\n                    type: \"texture\",\n                    value: scene.LightRegister.ParameterTexture,\n                    register: 3\n                },\n                lightParamSize: {\n                    type: \"vector\",\n                    value:scene.LightRegister.TextureSize\n                },\n                matV: {\n                    type: \"matrix\",\n                    value:renderer.Camera.viewMatrix\n                },\n                matIP: {\n                    type: \"matrix\",\n                    value:ip\n                },\n                matLWs:\n                {\n                  type:\"matrixarray\",\n                  value:scene.LightRegister.lightWorldMatricis\n                },\n                matVILs:\n                {\n                  type:\"matrixarray\",\n                  value:scene.LightRegister.viewInvertedLightMatricis\n                },\n                shadowMap:\n                {\n                  type:\"texture\",\n                  value:scene.LightRegister.shadowMapResourceManager.shadowMapTileTexture,\n                  register:4\n                },\n                shadowParam:{\n                  type:\"texture\",\n                  value:scene.LightRegister.shadowMapResourceManager.shadowMatrixTexture,\n                  register:5\n                },\n                matIV:\n                {\n                  type:\"matrix\",\n                  value:Matrix.inverse(renderer.Camera.viewMatrix)\n                },\n                shadowMapMax:\n                {\n                  type:\"float\",\n                  value:scene.LightRegister.shadowMapResourceManager.maximumShadowMapCount\n                }\n            }\n        });\n        geometry.IndexBuffer.getForContext(renderer.ContextManager).bindBuffer();\n    }\n\n    public needRender(scene: Scene, object: SceneObject, passCount: number): boolean\n    {\n        return typeof object.Geometry != \"undefined\" && object.Geometry != null;\n    }\n\n    public getTechniqueCount(scene: Scene)\n    {\n        return 2;\n    }\n\n\n    public get TargetGeometry(): string\n    {\n        return \"quad\";\n    }\n\n    public get RenderStageConfig()\n    {\n        return {\n            depthTest: false\n        };\n    }\n}\nexport = LightAccumulationStage;\n","import JThreeObjectWithID = require('../../../Base/JThreeObjectWithID');\nimport BasicRenderer = require('../BasicRenderer');\nimport SceneObject = require('../../SceneObject');\nimport Scene = require('../../Scene')\nimport Program = require('../../Resources/Program/Program');\nimport ShaderType = require(\"../../../Wrapper/ShaderType\");\nimport ResolvedChainInfo = require('../ResolvedChainInfo');\nimport TextureBase = require('../../Resources/Texture/TextureBase');\nimport RBO = require('../../Resources/RBO/RBO');\nimport FBO = require('../../Resources/FBO/FBO');\nimport FBOWrapper = require('../../Resources/FBO/FBOWrapper');\nimport Delegates = require('../../../Base/Delegates');\nimport GLCullMode = require('../../../Wrapper/GLCullMode');\nimport GLFeature = require('../../../Wrapper/GLFeatureType');\nimport FrameBufferAttachmentType = require('../../../Wrapper/FrameBufferAttachmentType');\nimport FboBindData = require(\"../FBOBindData\");\nimport RenderStageConfig = require(\"../RenderStageConfig\");\nimport ContextComponents = require(\"../../../ContextComponents\");\nimport JThreeContext = require(\"../../../JThreeContext\");\nimport ResourceManager = require(\"../../ResourceManager\");\nclass RenderStageBase extends JThreeObjectWithID {\n    public ____objectIndexany\n    private renderer: BasicRenderer;\n\t/**\n\t * Getter for renderer having this renderstage\n\t */\n    public get Renderer(): BasicRenderer {\n        return this.renderer;\n    }\n\n    public get GL() {\n        return this.Renderer.GL;\n    }\n\n    private get ResourceManager() {\n        return JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager);\n    }\n\n    constructor(renderer: BasicRenderer) {\n        super();\n        this.renderer = renderer;\n    }\n\n    public preStage(scene: Scene, texs: ResolvedChainInfo) {\n\n    }\n\n    public postStage(scene: Scene, texs: ResolvedChainInfo) {\n\n    }\n\n\t/**\n\t * This method will be called before process render in each pass\n\t */\n    public preTechnique(scene: Scene, techniqueIndex: number, texs: ResolvedChainInfo) {\n\n    }\n\t/**\n\t * This method will be called after process render in each pass.\n\t */\n    public postTechnique(scene: Scene, techniqueIndex: number, texs: ResolvedChainInfo) {\n        this.Renderer.GL.flush();\n    }\n\n    public render(scene: Scene, object: SceneObject, techniqueIndex: number, texs: ResolvedChainInfo) {\n\n    }\n\n    public needRender(scene: Scene, object: SceneObject, techniqueIndex: number): boolean {\n        return false;\n    }\n\n    public getTechniqueCount(scene: Scene) {\n        return 1;\n    }\n\n    public get TargetGeometry(): string {\n        return \"scene\";\n    }\n\n    public applyStageConfig() {\n        var config = this.RenderStageConfig;\n        //cull enabled/disabled\n        this.applyStageConfigToGLFeature(config.depthTest, GLFeature.DepthTest, true);\n    }\n\n    private applyStageConfigToGLFeature(flag: boolean, target: GLFeature, def: boolean) {\n        if (typeof flag === 'undefined') {\n            flag = def;\n        }\n        if (flag) {\n            this.GL.enable(target);\n        }\n        else {\n            this.GL.disable(target);\n        }\n    }\n\n    public get RenderStageConfig(): RenderStageConfig {\n        return {\n            depthTest: true\n        };\n    }\n\n    protected loadProgram(vsid: string, fsid: string, pid: string, vscode: string, fscode: string): Program {\n        var rm = this.ResourceManager;\n        var vShader = rm.createShader(vsid, vscode, ShaderType.VertexShader);\n        var fShader = rm.createShader(fsid, fscode, ShaderType.FragmentShader);\n        vShader.loadAll(); fShader.loadAll();\n        return rm.createProgram(pid, [vShader, fShader]);\n    }\n\n    protected bindAsOutBuffer(fbo: FBO, bindInfo: FboBindData[], onBind: Delegates.Action0, onDefaultBuffer?: Delegates.Action0) {\n        var shouldBeDefault = false;\n        var targetWrapper = fbo.getForContext(this.Renderer.ContextManager);\n        bindInfo.forEach(v=> {\n            v.target = v.target.toString().toLowerCase();\n            var attachmentType;\n            //assign attachment type\n            if (v.target === \"depth\") {\n                attachmentType = FrameBufferAttachmentType.DepthAttachment;\n            } else if (v.target === \"stencil\") {\n                attachmentType = FrameBufferAttachmentType.StencilAttachment;\n            } else if (v.target === \"depthstencil\") {\n                attachmentType = FrameBufferAttachmentType.DepthStencilAttachment;\n            } else {\n                attachmentType = ((<number>FrameBufferAttachmentType.ColorAttachment0) + <number>new Number(v.target));\n            }\n            if (shouldBeDefault || (typeof v.isOptional !== 'undefined' && !v.isOptional && v.texture === null)) {//use default buffer\n                this.attachToWrapper(v, targetWrapper, attachmentType);\n                this.Renderer.GL.bindFramebuffer(this.Renderer.GL.FRAMEBUFFER, null);\n                shouldBeDefault = true;\n            } else {\n                this.attachToWrapper(v, targetWrapper, attachmentType);\n            }\n        });\n        if (shouldBeDefault) {\n            if (onDefaultBuffer) onDefaultBuffer();\n        } else {\n            onBind();\n        }\n    }\n\n    private attachToWrapper(v: FboBindData, targetWrapper: FBOWrapper, targetAttachment: FrameBufferAttachmentType) {\n        if (!v.type || v.type === \"texture\") {\n            targetWrapper.attachTexture(targetAttachment, <TextureBase>v.texture);\n        } else if (v.type === \"rbo\") {\n            targetWrapper.attachRBO(targetAttachment, <RBO>v.texture);\n        } else {\n            console.error(\"unknown bind type!\");\n        }\n    }\n\n    protected drawForMaterials(scene: Scene, object: SceneObject, techniqueIndex: number, texs: ResolvedChainInfo, materialGroup: string) {\n        var materials = object.getMaterials(materialGroup);\n        for (var i = 0; i < materials.length; i++) {\n            var material = materials[i];\n            if (!material || !material.Initialized || !material.Enabled) return;\n            for (var pass = 0; pass < material.getPassCount(techniqueIndex); pass++) {\n                material.configureMaterial(scene, this, object, texs, techniqueIndex, pass);\n                object.Geometry.drawElements(this.Renderer.ContextManager, material);\n            }\n        }\n    }\n\n\t/**\n\t * Get default fbo that is allocated for this renderer.\n\t */\n    public get DefaultFBO(): FBO {\n        return this.ResourceManager.getFBO(this.Renderer.ID + \".fbo.default\");\n    }\n\n\t/**\n\t * Get default rbo that is allocated for this renderer.\n\t */\n    public get DefaultRBO(): RBO {\n        return this.ResourceManager.getRBO(this.Renderer.ID + \".rbo.default\");\n    }\n}\n\nexport = RenderStageBase;\n","import BasicRenderer = require('../BasicRenderer');\nimport SceneObject = require('../../SceneObject');\nimport RenderStageBase = require('./RenderStageBase');\nimport ClearTargetType = require(\"../../../Wrapper/ClearTargetType\");\nimport Scene = require('../../Scene');\nimport ResolvedChainInfo = require('../ResolvedChainInfo');\nimport Program = require(\"../../Resources/Program/Program\");\nimport Matrix = require(\"../../../Math/Matrix\");\nimport CubeTexture = require(\"../../Resources/Texture/CubeTexture\");\nclass ShadowMapGenerationStage extends RenderStageBase\n{\n    constructor(renderer: BasicRenderer)\n    {\n        super(renderer);\n    }\n\n    private getShadowDroppableLight(scene:Scene,techniqueIndex:number)\n    {\n      return scene.LightRegister.shadowDroppableLights[techniqueIndex];\n    }\n\n    public preStage(scene:Scene,chainInfo:ResolvedChainInfo)\n    {\n      this.bindAsOutBuffer(\n        this.DefaultFBO,\n        [\n          {\n            texture: scene.LightRegister.shadowMapResourceManager.shadowMapTileTexture,\n            target: 0\n          }, {\n              texture: scene.LightRegister.shadowMapResourceManager.shadowMapRenderBuffer,\n              type: \"rbo\",\n              target: \"depth\"\n            }\n        ],()=>{\n          this.Renderer.GL.clearColor(0, 0, 0, 0);\n          this.Renderer.GL.clear(ClearTargetType.ColorBits|ClearTargetType.DepthBits);\n        },()=>{}\n      );\n    }\n\n    public postStage(scene:Scene,chainInfo:ResolvedChainInfo)\n    {\n      this.Renderer.applyViewportConfigure();\n    }\n\n\n    public preTechnique(scene: Scene, techniqueCount: number, chainInfo: ResolvedChainInfo) {\n\n    }\n\n    public render(scene: Scene, object: SceneObject, techniqueCount: number,texs) {\n        var geometry = object.Geometry;\n        var targetLight = this.getShadowDroppableLight(scene,techniqueCount);\n        scene.LightRegister.shadowMapResourceManager.setShadowMapViewport(this.Renderer,techniqueCount);\n        this.drawForMaterials(scene,object,techniqueCount,texs,\"jthree.materials.shadowmap\");\n    }\n\n\n    public needRender(scene: Scene, object: SceneObject, techniqueCount: number): boolean {\n        return true;\n    }\n\n    public getTechniqueCount(scene: Scene)\n    {\n        return scene.LightRegister.ShadowDroppableLightCount;\n    }\n\n    public get TargetGeometry(): string\n    {\n        return \"scene\";\n    }\n\n    public get RenderStageConfig()\n    {\n        return {\n            depthTest: true\n        };\n    }\n}\nexport = ShadowMapGenerationStage;\n","import BasicRenderer = require('../BasicRenderer');\nimport SceneObject = require('../../SceneObject');\nimport RenderStageBase = require('./RenderStageBase');\nimport ClearTargetType = require(\"../../../Wrapper/ClearTargetType\");\nimport Scene = require('../../Scene');\nimport ResolvedChainInfo = require('../ResolvedChainInfo');\nimport Program = require(\"../../Resources/Program/Program\");\nimport Matrix = require(\"../../../Math/Matrix\");\nimport CubeTexture = require(\"../../Resources/Texture/CubeTexture\");\nclass SkyBoxStage extends RenderStageBase\n{\n    public skyBoxTexture:CubeTexture;\n\n    private program:Program;\n    constructor(renderer: BasicRenderer)\n    {\n        super(renderer);\n        var vs = require(\"../../Shaders/VertexShaders/SkyboxGeometries.glsl\");\n        var fs = require(\"../../Shaders/SkyBox.glsl\");\n        this.program = this.loadProgram(\"jthree.shaders.vertex.skybox\", \"jthree.shaders.fragment.skybox\", \"jthree.programs.skybox\", vs, fs);\n    }\n\n\n    public preTechnique(scene: Scene, passCount: number, chainInfo: ResolvedChainInfo) {\n        this.Renderer.GL.bindFramebuffer(this.Renderer.GL.FRAMEBUFFER,null);\n\n      /*  this.bindAsOutBuffer(this.DefaultFBO, [\n            {\n                texture: chainInfo[\"OUT\"],\n                target: 0\n            }\n        ], () =>\n            {\n                this.Renderer.GLContext.ClearColor(0, 0, 0, 0);\n                this.Renderer.GLContext.Clear(ClearTargetType.ColorBits | ClearTargetType.DepthBits);\n            });*/\n    }\n\n    public render(scene: Scene, object: SceneObject, passCount: number) {\n        var geometry = object.Geometry;\n        var pw = this.program.getForContext(this.Renderer.ContextManager);\n        pw.register({\n            attributes: {\n                position: geometry.PositionBuffer,\n                uv:geometry.UVBuffer\n            },\n            uniforms: {\n                skyTex: { type: \"texture\", register: 0, value: this.skyBoxTexture},\n                matVP:{type:\"matrix\",value:this.Renderer.Camera.viewMatrix}\n            }\n        });\n        geometry.IndexBuffer.getForContext(this.Renderer.ContextManager).bindBuffer();\n        geometry.drawElements(this.Renderer.ContextManager,null);\n    }\n\n\n    public needRender(scene: Scene, object: SceneObject, passCount: number): boolean {\n        return !!this.skyBoxTexture;\n    }\n\n    public getTechniqueCount(scene: Scene)\n    {\n        return 1;\n    }\n\n    public get TargetGeometry(): string\n    {\n        return \"cube\";\n    }\n\n    public get RenderStageConfig()\n    {\n        return {\n            depthTest: false\n        };\n    }\n}\nexport = SkyBoxStage;\n","import GeneraterInfo = require(\"../TextureGeneraters/GeneraterInfo\");\nimport RenderStageChain = require(\"../RenderStageChain\");\nimport BasicRenderer = require(\"../BasicRenderer\");\nimport AccumulationStage = require(\"../RenderStages/LightAccumulationStage\");\nimport ShadingStage = require(\"../RenderStages/FowardShadingStage\");\nimport ConfiguratorBase = require(\"./RendererConfiguratorBase\");\nimport SkyBoxStage = require(\"../RenderStages/SkyBoxStage\");\nimport GBufferStage = require(\"../RenderStages/GBuffer/GBufferStage\");\nimport ShadowMapGenerationStage = require(\"../RenderStages/ShadowMapGenerationStage\");\nimport HitAreaRenderStage = require(\"../RenderStages/HitAreaRenderStage\");\nclass BasicRendererConfigurator extends ConfiguratorBase {\n    public get TextureBuffers(): GeneraterInfo {\n        return {\n            /*            \"deffered.rb1\": {\n                            generater: \"rendererfit\",\n                            internalFormat: \"RGBA\",\n                            element: \"UBYTE\"\n                        },\n                        \"deffered.rb2\": {\n                            generater: \"rendererfit\",\n                            internalFormat: \"RGBA\",\n                            element: \"UBYTE\"\n                        }, \"deffered.depth\": {\n                            generater: \"rendererfit\",\n                            internalFormat: \"RGBA\",\n                            element: \"UBYTE\"\n                        }\n                        , \"deffered.light\": {\n                            generater: \"rendererfit\",\n                            internalFormat: \"RGBA\",\n                            element: \"UBYTE\"\n                        },*/\n            \"gbuffer.primary\":\n            {\n                generater: \"rendererfit\",\n                internalFormat: \"RGBA\",\n                element: \"FLOAT\"\n            }\n            ,\n            \"gbuffer.secoundary\":\n            {\n                generater: \"rendererfit\",\n                internalFormat: \"RGBA\",\n                element: \"UBYTE\"\n            }\n            ,\n            \"gbuffer.third\":\n            {\n                generater: \"rendererfit\",\n                internalFormat: \"RGB\",\n                element: \"UBYTE\"\n            },\n            \"light.diffuse\": {\n                generater: \"rendererfit\",\n                internalFormat: \"RGB\",\n                element: \"UBYTE\"\n            }\n            ,\n            \"light.specular\": {\n                generater: \"rendererfit\",\n                internalFormat: \"RGB\",\n                element: \"UBYTE\"\n            },\n            \"hitarea\":\n            {\n                generater: \"rendererfit\",\n                internalFormat: \"RGBA\",\n                element: \"UBYTE\"\n            }\n        };\n    }\n\n    public getStageChain(target: BasicRenderer): RenderStageChain[] {\n        return [\n            {\n                buffers:\n                {\n\n                },\n                stage: new ShadowMapGenerationStage(target)\n            },\n            {\n                buffers:\n                {\n                    OUT: \"hitarea\"\n                },\n                stage: new HitAreaRenderStage(target)\n            },\n            {\n                buffers: {\n                    PRIMARY: \"gbuffer.primary\",\n                    SECOUNDARY: \"gbuffer.secoundary\",\n                    THIRD: \"gbuffer.third\"\n                },\n                stage: new GBufferStage(target)\n            },\n            {\n                buffers: {\n                    PRIMARY: \"gbuffer.primary\",\n                    SECOUNDARY: \"gbuffer.secoundary\",\n                    THIRD: \"gbuffer.third\",\n                    DIFFUSE: \"light.diffuse\",\n                    SPECULAR: \"light.specular\"\n                },\n                stage: new AccumulationStage(target)\n            },\n            {\n                buffers: {\n                    DLIGHT: \"light.diffuse\",\n                    SLIGHT: \"light.specular\",\n                    OUT: \"default\"\n                },\n                stage: new ShadingStage(target)\n            }];\n    }\n}\n\nexport = BasicRendererConfigurator;\n","import GeneraterInfo = require(\"../TextureGeneraters/GeneraterInfo\");\nimport RenderStageChain = require(\"../RenderStageChain\");\nimport BasicRenderer = require(\"../BasicRenderer\");\n\nclass RendererConfiguratorBase\n{\n    public get TextureBuffers():GeneraterInfo {\n        return null;\n    }\n\n    public getStageChain(target:BasicRenderer):RenderStageChain[] {\n        return null;\n    }\n}\n\nexport = RendererConfiguratorBase;","import GeneraterInfo = require(\"../TextureGeneraters/GeneraterInfo\");\nimport RenderStageChain = require(\"../RenderStageChain\");\nimport BasicRenderer = require(\"../BasicRenderer\");\nimport AccumulationStage = require(\"../RenderStages/LightAccumulationStage\");\nimport ShadingStage = require(\"../RenderStages/FowardShadingStage\");\nimport ConfiguratorBase = require(\"./RendererConfiguratorBase\");\nimport SkyBoxStage = require(\"../RenderStages/SkyBoxStage\");\nimport GBufferStage = require(\"../RenderStages/GBuffer/GBufferStage\");\nimport ShadowMapGenerationStage = require(\"../RenderStages/ShadowMapGenerationStage\");\nclass BasicRendererConfigurator extends ConfiguratorBase\n{\n    public get TextureBuffers(): GeneraterInfo\n    {\n        return {\n        };\n    }\n\n    public getStageChain(target: BasicRenderer): RenderStageChain[]\n    {\n        return [\n            {\n                buffers: {\n                    DLIGHT: \"light.diffuse\",\n                    SLIGHT:\"light.specular\",\n                    OUT: \"default\"\n                },\n                stage: new ShadingStage(target)\n            }];\n    }\n}\n\nexport = BasicRendererConfigurator;\n","import Canvas = require(\"../Canvas\");\nimport Rectangle = require(\"../../Math/Rectangle\");\nimport BasicRenderer = require(\"./BasicRenderer\");\nclass RendererFactory\n{\n  public static rendererConfigurations={\n    \"default\":require(\"./RendererConfigurator/BasicRendererConfigurator\"),\n    \"sprite\":require(\"./RendererConfigurator/SpriteRendererConfigurator\")\n  };\n\n  public static generateRenderer(canvas:Canvas,drawRect:Rectangle,configureName:string)\n  {\n    configureName = configureName || \"default\";\n    return new BasicRenderer(canvas,drawRect,new RendererFactory.rendererConfigurations[configureName]());\n  }\n}\n\nexport = RendererFactory;\n","import GeneraterInfoChunk = require(\"./TextureGeneraters/GeneraterInfoChunk\");\nimport BasicRenderer = require(\"./BasicRenderer\");\nimport AssociativeArray = require(\"../../Base/Collections/AssociativeArray\");\nimport GeneraterBase = require(\"./TextureGeneraters/GeneraterBase\");\nimport JThreeContext = require(\"../../JThreeContext\");\nimport ContextComponents = require(\"../../ContextComponents\");\nimport ResourceManager = require(\"../ResourceManager\");\n\nclass TextureGenerater{\n\n  private static generaters:{[key:string]:AssociativeArray<GeneraterBase>}={};\n\n  public static generateTexture(renderer:BasicRenderer,name:string,generaterInfo:GeneraterInfoChunk)\n  {\n    var generaters = TextureGenerater.getGeneraters(renderer);\n    var generater = generaters.get(generaterInfo.generater);\n    generater.generate(name, generaterInfo);\n    return TextureGenerater.getTexture(renderer,name);\n  }\n\n  private static getGeneraters(renderer:BasicRenderer)\n  {\n    if(TextureGenerater.generaters[renderer.ID])return TextureGenerater.generaters[renderer.ID];\n    return TextureGenerater.initializeGeneraters(renderer);\n  }\n\n  private static initializeGeneraters(renderer:BasicRenderer)\n  {\n        var targetArray = new AssociativeArray<GeneraterBase>();\n        var generaters = require('./TextureGeneraters/GeneraterList');\n        for (var key in generaters)\n        {\n            if (generaters.hasOwnProperty(key))\n            {\n                var element = generaters[key];\n                targetArray.set(key, new element(renderer));\n            }\n        }\n        TextureGenerater.generaters[renderer.ID]=targetArray;\n        return targetArray;\n  }\n\n  public static getTexture(renderer:BasicRenderer,bufferName:string)\n  {\n    return JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager).getTexture(renderer.ID + \".\" + bufferName);;\n  }\n}\n\nexport = TextureGenerater;\n","import GeneraterInfoChunk = require(\"./GeneraterInfoChunk\");\nimport BasicRenderer = require(\"../BasicRenderer\");\n/**\n * Provides abstraction for texture generation.\n * By overriding, it is able to manage texture buffer in your way.\n */\nclass GeneraterBase {\n\tprotected parentRenderer: BasicRenderer;\n\n\tconstructor(parent: BasicRenderer) {\n\t\tthis.parentRenderer = parent;\n\t}\n\n\t/**\n\t * Generate texture with provided arguments.\n\t * This method is intended for being overriden.\n\t */\n\tpublic generate(name:string,texInfo: GeneraterInfoChunk) {\n\n\t}\n}\n\nexport = GeneraterBase;\n","declare function require(name:string):any;\n\nvar generatorList = {\n\t\"rendererfit\":require(\"./RendererFit\")\n};\n\nexport = generatorList;\n","import GeneraterInfoChunk = require(\"./GeneraterInfoChunk\");\nimport BasicRenderer = require(\"../BasicRenderer\");\nimport GeneraterBase = require(\"./GeneraterBase\");\nimport TextureInternalFormatType = require(\"../../../Wrapper/TextureInternalFormatType\");\nimport TextureType = require(\"../../../Wrapper/TextureType\");\nimport Rectangle = require(\"../../../Math/Rectangle\");\nimport BufferTexture = require(\"../../Resources/Texture/BufferTexture\");\nimport ContextComponents = require(\"../../../ContextComponents\");\nimport ResourceManager = require(\"../../ResourceManager\");\nimport JThreeContext = require(\"../../../JThreeContext\");\nclass RendererFit extends GeneraterBase {\n\tconstructor(parent: BasicRenderer) {\n\t\tsuper(parent);\n\t}\n\n\tprivate get ParentRenderRectangle(): Rectangle {\n\t\tif (this.parentRenderer[\"ViewPortArea\"]) {\n\t\t\treturn this.parentRenderer[\"ViewPortArea\"];\n\t\t} else {\n\t\t\treturn new Rectangle(0, 0, 512, 512);\n\t\t}\n\t}\n\n\tpublic generate(name: string, texInfo: GeneraterInfoChunk) {\n\t\tvar rect=this.ParentRenderRectangle;\n\t\tvar width = rect.Width, height = rect.Height;\n\t\tvar internalFormat: TextureInternalFormatType;\n\t\ttexInfo[\"internalFormat\"] = texInfo[\"internalFormat\"] || \"RGBA\";\n\t\tswitch ((new String(texInfo[\"internalFormat\"])).toUpperCase()) {\n\t\t\tcase \"ALPHA\":\n\t\t\t\tinternalFormat = TextureInternalFormatType.Alpha;\n\t\t\t\tbreak;\n\t\t\tcase \"RGB\":\n\t\t\t\tinternalFormat = TextureInternalFormatType.RGB;\n\t\t\t\tbreak;\n\t\t\tcase \"DEPTH\":\n\t\t\t\tinternalFormat = TextureInternalFormatType.DEPTH_COMPONENT;\n\t\t\t\tbreak;\n\t\t\tcase \"LUMINANCE\":\n\t\t\t\tinternalFormat = TextureInternalFormatType.Luminance;\n\t\t\t\tbreak;\n\t\t\tcase \"LUMINANCE_ALPHA\":\n\t\t\t\tinternalFormat = TextureInternalFormatType.LuminanceAlpha;\n\t\t\t\tbreak;\n\t\t\tcase \"DEPTH_STENCIL\":\n\t\t\t\tinternalFormat = TextureInternalFormatType.DEPTH_STENCIL;\n\t\t\t\tbreak;\n\t\t\tcase \"RGBA\":\n\t\t\t\tinternalFormat = TextureInternalFormatType.RGBA;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.error(\"the given parameter was invalid : texture format \" + texInfo[\"internalFormat\"]);\n\t\t}\n\t\tvar elementFormat: TextureType;\n\t\ttexInfo[\"element\"] = texInfo[\"element\"] || \"UBYTE\";\n\t\tswitch ((new String(texInfo[\"element\"])).toUpperCase()) {\n\t\t\tcase \"UBYTE\":\n\t\t\t\telementFormat = TextureType.UnsignedByte;\n\t\t\t\tbreak;\n\t\t\tcase \"FLOAT\":\n\t\t\t\telementFormat = TextureType.Float;\n\t\t\t\tbreak;\n\t\t\tcase \"USHORT565\":\n\t\t\t\telementFormat = TextureType.UnsignedShort565;\n\t\t\t\tbreak;\n\t\t\tcase \"USHORT4444\":\n\t\t\t\telementFormat = TextureType.UnsignedShort4444;\n\t\t\t\tbreak;\n\t\t\tcase \"USHORT5551\":\n\t\t\t\telementFormat = TextureType.UnsignedShort5551;\n\t\t\t\tbreak;\n\t\t\tcase \"UINT\":\n\t\t\t\telementFormat = TextureType.UnsignedInt;\n\t\t\t\tbreak;\n\t\t\tcase \"USHORT\":\n\t\t\t\telementFormat = TextureType.UnsignedShort;\n\t\t\t\tbreak;\n\t\t\tcase \"UINT24_8\":\n\t\t\t\telementFormat = TextureType.UnsignedInt24_8WebGL;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.error(\"the given parameter was invalid : element format \" + texInfo[\"element\"]);\n\t\t}\n\t\tvar rm = JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager);\n\t\tvar resource=rm.createTexture(this.parentRenderer.ID + \".\" + name, width, height, internalFormat, elementFormat);\n\t\t\tthis.parentRenderer.viewportChanged.addListener((r,s:Rectangle)=> {\n                var bufTex = <BufferTexture>resource;\n\t\t\t    if (s.Width!==bufTex.Width||s.Height!==bufTex.Height) {\n\t\t\t        (<BufferTexture>resource).resize(s.Width, s.Height);\n\t\t\t    }\n\t\t\t});\n\t\treturn resource;\n\t}\n}\n\nexport = RendererFit;\n","import ContextComponents = require(\"../ContextComponents\");\nimport IContextComponent = require(\"../IContextComponent\");\nimport IResourceLoaderEventArgs = require(\"./IResourceLoaderEventArgs\");\nimport Q = require(\"q\");\n\nclass ResourceLoader implements IContextComponent {\n    public getContextComponentIndex() {\n        return ContextComponents.ResourceLoader;\n    }\n\n    public resourceCount: number = 0;\n\n    public loadedResourceCount: number = 0;\n\n    public completedResourceCount: number = 0;\n\n    public erroredResourceCount: number = 0;\n\n    public currentLoadingMessage: string = \"\";\n\n    private resourceLoadingDeferred: Q.Deferred<IResourceLoaderEventArgs>;\n\n    public get isLoading(): boolean {\n        return !!this.resourceLoadingDeferred;\n    }\n\n    public get promise(): Q.Promise<IResourceLoaderEventArgs> {\n        return this.resourceLoadingDeferred.promise;\n    }\n\n    public getResourceLoadingDeffered(): Q.Deferred<void> {\n        if(!this.isLoading)\n        {\n          this.resourceLoadingDeferred = Q.defer<IResourceLoaderEventArgs>();\n        }\n        this.resourceCount++;\n        var d = Q.defer<void>();\n        this.registerForResourceLoaded(d.promise);\n        return d;\n    }\n\n    /**\n     * INTERNAL USE\n     * Register promise to be able to check status when the promise notify state.\n     * @param {Q.Promise<void>} promise [description]\n     */\n    private registerForResourceLoaded(promise: Q.Promise<void>): void {\n        promise.then(\n            () => {//On fullfilled\n                this.loadedResourceCount++;\n                this.completedResourceCount++;\n                this.checkResourceLoaded();\n            },\n            () => {//On rejected\n                this.completedResourceCount++;\n                this.erroredResourceCount++;\n                this.checkResourceLoaded();\n            },\n            (s) => {//On progress\n                this.currentLoadingMessage = s;\n            }\n        );\n    }\n\n    /**\n     * Check whether all resources was loaded after fulfilled or errored subscribed deffereds.\n     */\n    private checkResourceLoaded(): void {\n        if (this.completedResourceCount == this.resourceCount) {\n            this.resourceLoadingDeferred.resolve({\n                hasNoError: this.erroredResourceCount > 0,\n                erroredResource: this.erroredResourceCount,\n                loadedResource: this.loadedResourceCount,\n                completedResource: this.completedResourceCount,\n                lastLoadMessage:this.currentLoadingMessage,\n                resourceCount:this.resourceCount\n            });\n            this.resourceLoadingDeferred = null;\n        }else{\n          this.resourceLoadingDeferred.notify(\n            {\n              hasNoError: this.erroredResourceCount > 0,\n              erroredResource: this.erroredResourceCount,\n              loadedResource: this.loadedResourceCount,\n              completedResource: this.completedResourceCount,\n              lastLoadMessage:this.currentLoadingMessage,\n              resourceCount:this.resourceCount\n            }\n          );\n        }\n    }\n}\nexport = ResourceLoader;\n","import BufferTargetType = require(\"../Wrapper/BufferTargetType\");\nimport BufferUsageType = require(\"../Wrapper/BufferUsageType\");\nimport ElementType = require(\"../Wrapper/ElementType\");\nimport ShaderType = require(\"../Wrapper/ShaderType\");\nimport Delegates = require('../Base/Delegates');\nimport jThreeObject = require(\"../Base/JThreeObject\");\nimport Buffer = require(\"./Resources/Buffer/Buffer\");\nimport Shader = require(\"./Resources/Shader/Shader\");\nimport Program = require(\"./Resources/Program/Program\");\nimport Texture = require('./Resources/Texture/Texture');\nimport RBO = require('./Resources/RBO/RBO');\nimport ResourceArray = require('./Resources/ResourceArray');\nimport FBO = require('./Resources/FBO/FBO');\nimport BufferTexture = require('./Resources/Texture/BufferTexture');\nimport TextureFormat = require('../Wrapper/TextureInternalFormatType');\nimport ElementFormat = require('../Wrapper/TextureType');\nimport TextureBase = require('./Resources/Texture/TextureBase');\nimport CubeTexture = require(\"./Resources/Texture/CubeTexture\");\nimport IContextComponent = require(\"../IContextComponent\");\nimport ContextComponents = require(\"../ContextComponents\");\ntype ImageSource = HTMLCanvasElement|HTMLImageElement|ImageData|ArrayBufferView;\n\n/**\n * \n */\nclass ResourceManager extends jThreeObject implements IContextComponent\n{\n    public getContextComponentIndex():number\n    {\n      return ContextComponents.ResourceManager;\n    }\n\n    constructor()\n    {\n        super();\n    }\n\n    private buffers: ResourceArray<Buffer> = new ResourceArray<Buffer>();\n\n    public createBuffer(id: string, target: BufferTargetType, usage: BufferUsageType, unitCount: number, elementType: ElementType): Buffer\n    {\n        return this.buffers.create(id, () =>\n        {\n            return new Buffer(target, usage, unitCount, elementType);\n        });\n    }\n\n    public getBuffer(id: string): Buffer\n    {\n        return this.buffers.get(id);\n    }\n\n    private shaders: ResourceArray<Shader> = new ResourceArray<Shader>();\n\n    public createShader(id: string, source: string, shaderType: ShaderType): Shader\n    {\n        return this.shaders.create(id, () =>\n        {\n            return Shader.CreateShader(source, shaderType);\n        });\n    }\n\n    public getShader(id: string): Shader\n    {\n        return this.shaders.get(id);\n    }\n\n    public hasShader(id: string): boolean\n    {\n        return this.shaders.has(id);\n    }\n\n    private programs: ResourceArray<Program> = new ResourceArray<Program>();\n\n    public createProgram(id: string, shaders: Shader[]): Program\n    {\n        return this.programs.create(id, () =>\n        {\n            return Program.CreateProgram(shaders);\n        });\n    }\n\n    public getProgram(id: string): Program\n    {\n        return this.programs.get(id);\n    }\n\n    private textures: ResourceArray<TextureBase> = new ResourceArray<TextureBase>();\n\n    public createTextureWithSource(id: string, source: ImageSource): Texture\n    {\n        return <Texture>this.textures.create(id, () =>\n        {\n            var tex = new Texture(source, id);\n            //tex.each(v=> v.init());//TODO no need?\n            return tex;\n        });\n    }\n\n\n    public getTexture(id: string): Texture\n    {\n        return <Texture>this.textures.get(id);\n    }\n\n    public createCubeTextureWithSource(id: string, sources: ImageSource[], flipY: boolean = false): CubeTexture\n    {\n        return <CubeTexture>this.textures.create(id, () =>\n        {\n            var cubeTexture = new CubeTexture(sources, id, flipY);\n            //cubeTexture.each(v => v.init());\n            return cubeTexture;\n        });\n    }\n\n    public getTextureHandler(id: string, handler: Delegates.Action1<Texture>)\n    {\n        this.textures.getHandler(id, handler);\n    }\n\n    private rbos: ResourceArray<RBO> = new ResourceArray<RBO>(\n        );\n\n    public createRBO(id: string, width: number, height: number): RBO\n    {\n        return this.rbos.create(id, () =>\n        {\n            var r = new RBO(width, height);\n            r.each(v=> v.init());\n            return r;\n        });\n    }\n\n    public getRBO(id: string): RBO\n    {\n        return this.rbos.get(id);\n    }\n\n    private fbos: ResourceArray<FBO> = new ResourceArray<FBO>();\n\n    public createFBO(id: string): FBO\n    {\n        return this.fbos.create(id, () =>\n        {\n            var fbo = new FBO();\n            fbo.each(v=> v.init());\n            return fbo;\n        });\n    }\n\n    public getFBO(id: string): FBO\n    {\n        return this.fbos.get(id);\n    }\n\n    public createTexture(id: string, width: number, height: number, texType: TextureFormat = TextureFormat.RGBA, elemType: ElementFormat = ElementFormat.UnsignedByte)\n    {\n        return this.textures.create(id, () =>\n        {\n            var bt = new BufferTexture(width, height, texType, elemType, id);\n            bt.each(v=> v.init());\n            return bt;\n        });\n    }\n\n    public toString()\n    {\n        return `buffer:${this.buffers.toString() }\\nshader:${this.shaders.toString() }\\nprograms:${this.programs.toString() }\\ntexture:${this.textures.toString() }`;\n    }\n}\nexport =ResourceManager;\n","import BufferTargetType = require(\"../../../Wrapper/BufferTargetType\");\nimport BufferUsageType = require(\"../../../Wrapper/BufferUsageType\");\nimport Canvas = require(\"../../Canvas\");\nimport ElementType = require(\"../../../Wrapper/ElementType\");\nimport ContextSafeResourceContainer = require(\"../ContextSafeResourceContainer\")\nimport BufferWrapper = require(\"./BufferWrapper\");\n/**\n * Provides buffer resource without considering context.\n */\nclass Buffer extends ContextSafeResourceContainer<BufferWrapper>\n{\n\n    constructor(target: BufferTargetType, usage: BufferUsageType, unitCount: number, elementType: ElementType)\n    {\n        super();\n        this.target = target;\n        this.usage = usage;\n        this.unitCount = unitCount;\n        this.elementType = elementType;\n        this.initializeForFirst();\n\n    }\n    /**\n     * Buffer target.\n     * ArrayBuffer => VertexBuffer, ArrayElementBuffer => IndexBuffer\n     */\n    private target: BufferTargetType;\n    /**\n    * Buffer target.\n    * ArrayBuffer => VertexBuffer, ArrayElementBuffer => IndexBuffer\n    */\n    public get Target(): BufferTargetType\n    {\n        return this.target;\n    }\n    /**\n     * Buffer usage.\n     * StaticDraw,DynamicDraw,StreamDraw\n     */\n    private usage: BufferUsageType;\n    /**\n    * Buffer usage.\n    * StaticDraw,DynamicDraw,StreamDraw\n    */\n    public get Usage(): BufferUsageType\n    {\n        return this.usage;\n    }\n\n    private elementType: ElementType;\n\n    public get ElementType(): ElementType\n    {\n        return this.elementType;\n    }\n\n    /**\n     * This elements are normalized or not.\n     * It must be false in WebGL1.0.\n     */\n    private normalized: boolean = false;\n\n    /**\n    * This elements are normalized or not.\n    * It must be false in WebGL1.0.\n    */\n    public get Normalized(): boolean\n    {\n        return this.normalized;\n    }\n\n    /**\n    * This elements are normalized or not.\n    * It must be false in WebGL1.0.\n    */\n    public set Normalized(normalized: boolean)\n    {\n        this.normalized = normalized;\n    }\n\n    private stride: number = 0;\n\n    private offset: number = 0;\n\n    public get Stride(): number\n    {\n        return this.stride;\n    }\n\n    public set Stride(stride: number)\n    {\n        this.stride = stride;\n    }\n\n    public get Offset(): number\n    {\n        return this.offset;\n    }\n\n    public set Offset(offset: number)\n    {\n        this.offset = offset;\n    }\n\n    /**\n     * Element count per 1 vertex.\n     */\n    private unitCount: number;\n    /**\n * Element count per 1 vertex.\n * This accessor is readonly.\n */\n    public get UnitCount(): number\n    {\n        return this.unitCount;\n    }\n\n    /**\n     * Cached source for buffer.\n     */\n    private elementCache: Float32Array;\n\n    public get ElementCache(): Float32Array {\n        return this.elementCache;\n    }\n    /**\n * Length of this buffer.\n */\n    private length: number = 0;\n    /**\n     * Length of this buffer.\n     */\n    public get Length(): number\n    {\n        return this.length;\n    }\n\n    public update(array: Float32Array, length: number): void\n    {\n        this.elementCache = array;\n        this.length = length;\n        this.each((a) => a.update(array, length));\n    }\n\n    protected getInstanceForRenderer(renderer: Canvas): BufferWrapper\n    {\n        return new BufferWrapper(this, renderer);\n    }\n}\n\n\nexport =Buffer;\n","import Buffer = require(\"./Buffer\");\nimport ElementType = require(\"../../../Wrapper/ElementType\");\nimport ResourceWrapper = require(\"../ResourceWrapper\");\nimport Canvas = require(\"../../Canvas\");\n/**\n * Buffer wrapper based on context.\n */\nclass BufferWrapper extends ResourceWrapper\n{\n    private targetBuffer: WebGLBuffer = null;\n\n    private length: number = 0;\n\n    private parentBuffer:Buffer;\n\n    constructor(parentBuffer: Buffer,canvas:Canvas)\n    {\n        super(canvas);\n        this.parentBuffer = parentBuffer;\n\n    }\n\n    public get Length(): number {\n        return this.length;\n    }\n\n    public get UnitCount(): number {\n        return this.parentBuffer.UnitCount;\n    }\n\n    public get ElementType():ElementType\n    {\n      return this.parentBuffer.ElementType;\n    }\n\n    public get Normalized():boolean\n    {\n      return this.parentBuffer.Normalized;\n    }\n\n    public get Stride():number\n    {\n      return this.parentBuffer.Stride;\n    }\n\n    public get Offset():number\n    {\n      return this.parentBuffer.Offset;\n    }\n\n    public update(array: Float32Array, length: number): void\n    {\n        if (!this.Initialized)\n        {\n            this.init();\n        }\n        this.bindBuffer();\n        this.GL.bufferData(this.parentBuffer.Target, array.buffer, this.parentBuffer.Usage);\n        this.unbindBuffer();\n        this.length = length;\n    }\n\n    public init(): void\n    {\n        if (this.targetBuffer == null)\n        {\n            this.targetBuffer = this.GL.createBuffer();\n            this.setInitialized();\n        }\n    }\n\n    public bindBuffer(): void\n    {\n        if (this.Initialized)\n        {\n            this.GL.bindBuffer(this.parentBuffer.Target, this.targetBuffer);\n        } else {\n            this.init();\n            this.GL.bindBuffer(this.parentBuffer.Target, this.targetBuffer);\n            this.update(this.parentBuffer.ElementCache,this.parentBuffer.Length);\n        }\n    }\n\n    public unbindBuffer(): void\n    {\n        if (this.Initialized)\n        {\n            this.GL.bindBuffer(this.parentBuffer.Target,null);\n        }\n    }\n}\nexport=BufferWrapper;\n","import JThreeObjectWithID = require(\"../../Base/JThreeObjectWithID\");\nimport Canvas = require(\"../Canvas\");\nimport Delegates = require(\"../../Base/Delegates\");\nimport Exceptions = require(\"../../Exceptions\");\nimport CanvasListChangedEventArgs = require(\"../CanvasListChangedEventArgs\");\nimport ListStateChangedType = require(\"../ListStateChangedType\");\nimport AssociativeArray = require('../../Base/Collections/AssociativeArray');\nimport ResourceWrapper = require('./ResourceWrapper');\nimport JThreeContext = require(\"../../JThreeContext\");\nimport CanvasManager = require(\"../CanvasManager\");\nimport ContextComponents = require(\"../../ContextComponents\");\n/**\n * Provides context difference abstraction.\n */\nclass ContextSafeResourceContainer<T extends ResourceWrapper> extends JThreeObjectWithID\n{\n    public name:string;\n\n    constructor() {\n        super();\n        var canvasManager = JThreeContext.getContextComponent<CanvasManager>(ContextComponents.CanvasManager);\n        //Initialize resources for the renderers already subscribed.\n        canvasManager.canvasListChanged.addListener(this.rendererChanged.bind(this));\n    }\n\n    protected initializeForFirst() {\n      var canvasManager = JThreeContext.getContextComponent<CanvasManager>(ContextComponents.CanvasManager);\n        canvasManager.canvases.forEach((v) => {\n            this.childWrapper.set(v.ID, this.getInstanceForRenderer(v));\n        });\n    }\n\n    public get wrappers():T[]\n    {\n      return this.childWrapper.asArray;\n    }\n\n    private childWrapper: AssociativeArray<T> = new AssociativeArray<T>();\n\n    public getForContext(canvas: Canvas): T {\n        return this.getForContextID(canvas.ID);\n    }\n\n    public getForContextID(id: string): T {\n        if (!this.childWrapper.has(id)) console.log(\"There is no matching object with the ID:\" + id);\n        return this.childWrapper.get(id);\n    }\n\n    public each(act: Delegates.Action1<T>): void {\n        this.childWrapper.forEach(((v, i, a) => {\n            act(v);\n        }));\n    }\n\n    private rendererChanged(object: any, arg: CanvasListChangedEventArgs): void {\n        switch (arg.ChangeType) {\n            case ListStateChangedType.Add:\n                this.childWrapper.set(arg.AffectedRenderer.ID, this.getInstanceForRenderer(arg.AffectedRenderer));\n                break;\n            case ListStateChangedType.Delete:\n                var delTarget: T = this.childWrapper.get(arg.AffectedRenderer.ID);\n                this.childWrapper.delete(arg.AffectedRenderer.ID);\n                this.disposeResource(delTarget);\n                break;\n        }\n    }\n\n    protected getInstanceForRenderer(renderer: Canvas): T {\n        throw new Exceptions.AbstractClassMethodCalledException();\n    }\n\n    protected disposeResource(resource: T): void {\n        throw new Exceptions.AbstractClassMethodCalledException();\n    }\n}\n\nexport =ContextSafeResourceContainer;\n","import FBOWrapper = require(\"./FBOWrapper\");\nimport ContextSafeResourceContainer = require(\"./../ContextSafeResourceContainer\");\nimport Canvas = require(\"../../Canvas\");\nclass FBO extends ContextSafeResourceContainer<FBOWrapper>\n{\n\tconstructor() {\n\t\tsuper();\n\t\tthis.initializeForFirst();\n\t}\n\n\tprotected getInstanceForRenderer(renderer: Canvas): FBOWrapper {\n\t\treturn new FBOWrapper(renderer);\n    }\n\n    protected disposeResource(resource: FBOWrapper): void {\n\n    }\n}\n\nexport =FBO;\n","import Canvas = require(\"../../Canvas\");\nimport ResourceWrapper = require('../ResourceWrapper');\nimport FrameBufferAttachmentType = require('../../../Wrapper/FrameBufferAttachmentType');\nimport ClearTargetType = require('../../../Wrapper/ClearTargetType');\nimport TextureBase = require('../Texture/TextureBase')\nimport RBO = require('../RBO/RBO');\nclass FBOWrapper extends ResourceWrapper {\n\n    constructor(renderer: Canvas) {\n        super(renderer);\n    }\n    private targetFBO: WebGLFramebuffer;\n\n    private textures: TextureBase[] = [];\n\n    public get TargetShader(): WebGLShader {\n        if (!this.Initialized) this.init();\n        return this.targetFBO;\n    }\n\n    public init(): void {\n        if (!this.Initialized) {\n            this.targetFBO = this.GL.createFramebuffer();\n            this.GL.bindFramebuffer(this.GL.FRAMEBUFFER,this.targetFBO);\n            this.setInitialized();\n        }\n    }\n\n    public bind() {\n        if (!this.Initialized) this.init();\n        this.GL.bindFramebuffer(this.GL.FRAMEBUFFER,this.targetFBO);\n    }\n\n    public unbind() {\n        this.GL.bindFramebuffer(this.GL.FRAMEBUFFER,null);\n/*        this.textures.forEach(tex=> {\n            tex.getForContext(this.OwnerCanvas).bind();\n            tex.generateMipmapIfNeed();\n        });*/\n    }\n\n    public attachTexture(attachmentType: FrameBufferAttachmentType, tex: TextureBase) {\n        if (!this.Initialized) this.init();\n        this.bind();\n        if (tex == null) {\n            this.GL.framebufferTexture2D(this.GL.FRAMEBUFFER,attachmentType,this.GL.TEXTURE_2D, null,0);\n            return;\n        }\n        var wt = tex.getForContext(this.OwnerCanvas);\n        wt.preTextureUpload();\n        this.GL.framebufferTexture2D(this.GL.FRAMEBUFFER,attachmentType,this.GL.TEXTURE_2D,wt.TargetTexture,0);\n        tex.getForContext(this.OwnerCanvas).bind();\n        tex.generateMipmapIfNeed();\n        if (this.textures.indexOf(tex) !== -1) this.textures.push(tex);\n        this.GL.bindTexture(tex.TargetTextureType,null);\n    }\n\n    public attachRBO(attachmentType: FrameBufferAttachmentType, rbo: RBO) {\n        if (!this.Initialized) this.init();\n        this.bind();\n        if(rbo==null)\n        {\n            this.GL.framebufferRenderbuffer(this.GL.FRAMEBUFFER,attachmentType,this.GL.RENDERBUFFER,null);\n            return;\n        }\n        var wrapper = rbo.getForContext(this.OwnerCanvas);\n        this.GL.framebufferRenderbuffer(this.GL.FRAMEBUFFER,attachmentType,this.GL.RENDERBUFFER, wrapper.Target);\n    }\n\n    public dispose() {\n        if (this.Initialized) {\n            //TODO Dispose frame buffer\n            this.targetFBO = null;\n            this.setInitialized(false);\n        }\n    }\n\n    public clear(r: number, g: number, b: number, a: number, d?: number, s?: number) {\n        this.bind();\n        var clearFlag = 0;\n        if (typeof r !== 'undefined' && typeof g !== 'undefined' && typeof b !== 'undefined' && typeof a !== 'undefined') {\n            clearFlag = clearFlag | ClearTargetType.ColorBits;\n            this.GL.clearColor(r, g, b, a);\n        }\n        if (typeof d !== 'undefined') {\n            clearFlag = clearFlag | ClearTargetType.DepthBits;\n            this.GL.clearDepth(d);\n        }\n        //TODO add stencil\n        this.GL.clear(clearFlag);\n    }\n}\n\nexport =FBOWrapper;\n","import ContextSafeContainer = require(\"../ContextSafeResourceContainer\");\nimport Shader = require(\"../Shader/Shader\");\nimport Canvas = require(\"../../Canvas\");\nimport ProgramWrapper = require(\"./ProgramWrapper\");\n\nclass Program extends ContextSafeContainer<ProgramWrapper>{\n    constructor() {\n        super();\n        this.initializeForFirst();\n    }\n\n\n    private attachedShaders: Shader[] = [];\n\n    public get AttachedShaders():Shader[] {\n        return this.attachedShaders;\n    }\n\n    public attachShader(shader: Shader) {\n        this.attachedShaders.push(shader);\n        shader.onUpdate(() => {\n            this.relinkShader();\n        });\n\n    }\n\n    public static CreateProgram(attachShaders:Shader[]): Program {\n        var program: Program = new Program();\n        program.attachedShaders = attachShaders;\n        return program;\n    }\n\n    protected disposeResource(resource: ProgramWrapper): void {\n        resource.dispose();\n    }\n\n    protected getInstanceForRenderer(renderer: Canvas): ProgramWrapper {\n        return new ProgramWrapper(this, renderer);\n    }\n\n    private relinkShader() {\n        this.each((v) => {\n            v.relink();\n        });\n    }\n}\n\nexport=Program;\n","import Program = require(\"./Program\");\nimport Canvas = require(\"../../Canvas\");\nimport ResourceWrapper = require('../ResourceWrapper');\nimport AssociativeArray = require('../../../Base/Collections/AssociativeArray');\nimport VariableRegisteringArgument = require(\"./VariableRegister/VariableRegisteringArgument\");\nimport VariableRegisterBase = require(\"./VariableRegister/Uniforms/UniformVariableRegisterBase\");\n\nclass ProgramWrapper extends ResourceWrapper {\n    constructor(parent: Program, canvas: Canvas) {\n        super(canvas);\n        this.parentProgram = parent;\n    }\n\n    private isLinked: boolean = false;\n\n    private targetProgram: WebGLProgram = null;\n\n    private parentProgram: Program = null;\n\n    private attributeLocations: AssociativeArray<number> = new AssociativeArray<number>();\n\n    private uniformLocations: AssociativeArray<WebGLUniformLocation> = new AssociativeArray<WebGLUniformLocation>();\n\n    public get TargetProgram(): WebGLProgram {\n        return this.targetProgram;\n    }\n\n    public init(): void {\n        if (!this.Initialized) {\n            this.targetProgram = this.GL.createProgram();\n            this.parentProgram.AttachedShaders.forEach((v, i, a) => {\n                this.GL.attachShader(this.targetProgram, v.getForContextID(this.OwnerID).TargetShader);\n            });\n            this.setInitialized();\n        }\n    }\n\n    public dispose() {\n        if (this.Initialized) {\n            this.GL.deleteProgram(this.targetProgram);\n            this.setInitialized(false);\n            this.targetProgram = null;\n            this.isLinked = false;\n        }\n    }\n\n    public linkProgram(): void {\n        if (!this.isLinked) {\n            this.GL.linkProgram(this.targetProgram);\n            this.isLinked = true;\n        }\n    }\n\n    public useProgram(): void {\n        if (!this.Initialized) {\n            this.init();\n        }\n        if (!this.isLinked) {\n            this.linkProgram();\n        }\n        this.GL.useProgram(this.targetProgram);\n    }\n\n    private fetchUniformLocation(valName:string):WebGLUniformLocation\n    {\n        if(!this.uniformLocations.has(valName))\n        {\n            this.uniformLocations.set(valName,this.GL.getUniformLocation(this.TargetProgram,valName));\n        }\n        return this.uniformLocations.get(valName);\n    }\n\n    /**\n     * Relink shader for shader source changing\n     */\n    public relink() {\n        this.GL.deleteProgram(this.TargetProgram);\n        this.targetProgram = this.GL.createProgram();\n        this.parentProgram.AttachedShaders.forEach((v, i, a) =>\n        {\n            this.GL.attachShader(this.targetProgram, v.getForContextID(this.OwnerID).TargetShader);\n        });\n    }\n\n    /**\n     * Pass the variables into shader\n     * @param variables\n     * @returns {}\n     */\n    public register(variables: VariableRegisteringArgument) {\n        this.useProgram();\n        //this.unregister();\n        var uniformRegisterTypeList: { [name: string]: VariableRegisterBase } = require(\"./VariableRegister/Uniforms/UniformTypeList\");\n        //register uniform variables\n        if (typeof variables.uniforms !== \"undefined\") {\n            for (var uniformKey in variables.uniforms) {\n                var uniform = variables.uniforms[uniformKey];\n                uniform['context'] = this.OwnerCanvas;\n                var index = this.fetchUniformLocation(uniformKey);\n                var registerer = uniformRegisterTypeList[uniform.type];\n                registerer.registerVariable(this.GL, index, uniform.value,uniform);\n            }\n        }\n        //register attribute variables\n        if (typeof variables.attributes !== \"undefined\") {\n            for (var attributeKey in variables.attributes) {\n                var attribute = variables.attributes[attributeKey];\n                var buffer = attribute.getForContext(this.OwnerCanvas);\n                buffer.bindBuffer();\n                if (!this.attributeLocations.has(attributeKey))\n                {\n                    this.attributeLocations.set(attributeKey, this.GL.getAttribLocation(this.TargetProgram, attributeKey));\n                }\n                var attribIndex: number = this.attributeLocations.get(attributeKey);\n                this.GL.enableVertexAttribArray(attribIndex);\n                this.GL.vertexAttribPointer(attribIndex, buffer.UnitCount, buffer.ElementType, buffer.Normalized, buffer.Stride, buffer.Offset);\n\n            }\n        }\n    }\n}\n\nexport =ProgramWrapper;\n","import UniformVariableRegisterBase = require(\"./UniformVariableRegisterBase\");\nimport Matrix = require(\"../../../../../Math/Matrix\");\nclass MatrixFloatArrayRegister extends UniformVariableRegisterBase\n{\n  public registerVariable(gl: WebGLRenderingContext, index: WebGLUniformLocation, value: any, configure: any)\n  {\n    var matrix = <number[]>value;\n    gl.uniform4fv(index,matrix);\n  }\n}\nexport = MatrixFloatArrayRegister;\n","import ProgramWrapper = require(\"../../ProgramWrapper\");\nimport Matrix = require(\"../../../../../Math/Matrix\");\nclass MatrixFloatRegister\n{\n    public registerVariable(gl: WebGLRenderingContext, index: WebGLUniformLocation, value: any, configure: any) {\n        if (!value)throw new Error(\"matrix can not be undefined!\");\n        gl.uniformMatrix4fv(index,false, (<Matrix>value).rawElements);\n    }\n}\n\nexport = MatrixFloatRegister;\n","import ProgramWrapper = require(\"../../ProgramWrapper\");\n\nclass ScalarFloatRegister\n{\n    public registerVariable(gl: WebGLRenderingContext, index: WebGLUniformLocation, value: any, configure: any) {\n        gl.uniform1f(index, <number>value);\n    }\n}\n\nexport = ScalarFloatRegister;\n","import ProgramWrapper = require(\"../../ProgramWrapper\");\n\nclass ScalarIntegerRegister\n{\n    public registerVariable(gl: WebGLRenderingContext, index: WebGLUniformLocation, value: any, configure: any) {\n        gl.uniform1i(index, <number>value);\n    }\n}\n\nexport = ScalarIntegerRegister;\n","import ProgramWrapper = require(\"../../ProgramWrapper\");\nimport TextureRegister = require(\"../../../../../Wrapper/Texture/TextureRegister\");\nimport TextureBase = require(\"../../../Texture/TextureBase\");\nimport TargetTextureType = require(\"../../../../../Wrapper/TargetTextureType\");\nclass Texture2DRegister\n{\n    public registerVariable(gl: WebGLRenderingContext, index: WebGLUniformLocation, value: any, configure: any)\n    {\n        var texNumber = configure.register;\n        if (value != null)\n        {\n            var tex = (<TextureBase>value).getForContext(configure.context);\n            if (tex.Initialized) {\n                if(tex.registerTexture(texNumber))\n                    gl.uniform1i(index, texNumber);\n                return;\n            }\n        }\n    }\n}\n\nexport = Texture2DRegister;\n","import ProgramWrapper = require(\"../../ProgramWrapper\");\nimport TextureRegister = require(\"../../../../../Wrapper/Texture/TextureRegister\");\nimport TextureBase = require(\"../../../Texture/TextureBase\");\nimport TargetTextureType = require(\"../../../../../Wrapper/TargetTextureType\");\nclass TextureArrayRegister\n{\n    public registerVariable(gl: WebGLRenderingContext, index: WebGLUniformLocation, value: any, configure: any)\n    {\n        if (value != null)\n        {\n          var textures:TextureBase[] = value;\n          var texBegin = configure.registerBegin;\n          var texEnd = configure.registerEnd || texBegin+textures.length;\n          var texIndicies = new Int32Array(texEnd-texBegin);\n          for (let i = texBegin; i < texEnd; i++) {\n\n            if(textures[i-texBegin])\n            {\n                var tex = (<TextureBase[]>value)[i-texBegin].getForContext(configure.context);\n              if(tex.Initialized&&tex.registerTexture(i))\n              {\n                texIndicies[i-texBegin]=i;\n                continue;\n              }\n            }\n            texIndicies[i-texBegin]=0;\n          }\n          gl.uniform1iv(index,texIndicies);\n        }\n    }\n}\n\nexport = TextureArrayRegister;\n","import VariableRegisterBase = require(\"./UniformVariableRegisterBase\");\nvar UniformTypeList:{[name:string]:VariableRegisterBase}=\n{\n    \"float\":new (require(\"./ScalarFloatRegister\"))(),\n    \"integer\":new (require(\"./ScalarIntegerRegister\"))(),\n    \"matrix\":new (require(\"./MatrixFloatRegister\"))(),\n    \"vector\": new (require(\"./VectorFloatRegister\"))(),\n    \"texture\": new (require(\"./Texture2DRegister\"))(),\n    \"vectorarray\":new (require(\"./VectorFloatArrayRegister\"))(),\n    \"matrixarray\":new (require(\"./MatrixFloatArrayRegister\"))(),\n    \"texturearray\":new(require(\"./TextureArrayRegister\"))()\n};\n\nexport = UniformTypeList;\n","class UniformVariableRegisterBase {\n    public registerVariable(gl: WebGLRenderingContext, index: WebGLUniformLocation, value: any, configure: any) {\n\n    }\n}\n\nexport = UniformVariableRegisterBase;\n/*\n * Overridden registers\n *\n * * float vector X\n * * float X\n * * integer X\n * * integer vector\n * * texture\n * * array of float vector\n * * float matrix X\n */\n","import UniformVariableRegisterBase = require(\"./UniformVariableRegisterBase\");\nimport Vector2 = require(\"../../../../../Math/Vector2\");\nimport Vector3 = require(\"../../../../../Math/Vector3\");\nimport Vector4 = require(\"../../../../../Math/Vector4\");\nimport VectorBase = require(\"../../../../../Math/VectorBase\");\n\nclass VectorFloatArrayRegister extends UniformVariableRegisterBase\n{\n    public registerVariable(gl: WebGLRenderingContext, index: WebGLUniformLocation, value: any, configure: any)\n    {\n        var vec = <VectorBase[]>value;\n        if (vec.length > 0) {\n            switch (vec[0].ElementCount) {\n            case 2:\n              var arr=new Array(vec.length*2);\n              for(var i=0;i<vec.length;i++)\n              {\n                arr[i*2]=(<Vector2>vec[i]).X;\n                arr[i*2+1]=(<Vector2>vec[i]).Y;\n              }\n              gl.uniform2fv(index,new Float32Array(arr));\n              break;\n            case 3:\n            var arr=new Array(vec.length*3);\n            for(var i=0;i<vec.length;i++)\n            {\n              arr[i*3]=(<Vector3>vec[i]).X;\n              arr[i*3+1]=(<Vector3>vec[i]).Y;\n              arr[i*3+2]=(<Vector3>vec[i]).Z;\n            }\n            gl.uniform3fv(index,new Float32Array(arr));\n            break;\n            case 4:\n            var arr=new Array(vec.length*4);\n            for(var i=0;i<vec.length;i++)\n            {\n              arr[i*4]=(<Vector4>vec[i]).X;\n              arr[i*4+1]=(<Vector4>vec[i]).Y;\n              arr[i*4+2]=(<Vector4>vec[i]).Z;\n              arr[i*4+3]=(<Vector4>vec[i]).W;\n            }\n            gl.uniform4fv(index,new Float32Array(arr));\n            break;\n            }\n        }\n    }\n}\n\nexport = VectorFloatArrayRegister;\n","import UniformVariableRegisterBase = require(\"./UniformVariableRegisterBase\");\nimport Vector2 = require(\"../../../../../Math/Vector2\");\nimport Vector3 = require(\"../../../../../Math/Vector3\");\nimport Vector4 = require(\"../../../../../Math/Vector4\");\nimport VectorBase = require(\"../../../../../Math/VectorBase\");\n\nclass VectorFloatRegister extends UniformVariableRegisterBase {\n    public registerVariable(gl: WebGLRenderingContext, index: WebGLUniformLocation, value: any, configure: any) {\n        var vec = <VectorBase>value;\n        switch (vec.ElementCount)\n        {\n            case 2:\n              var vec2 = (<Vector2>vec);\n                gl.uniform2f(index, vec2.X,vec2.Y);\n                break;\n            case 3:\n            var vec3 = (<Vector3>vec);\n                gl.uniform3f(index, vec3.X,vec3.Y,vec3.Z);\n                break;\n            case 4:\n              var vec4 =(<Vector4>vec);\n                gl.uniform4f(index, vec4.X,vec4.Y,vec4.Z,vec4.W);\n                break;\n        }\n    }\n}\n\nexport = VectorFloatRegister;\n","import ContextSafeResourceContainer = require(\"./../ContextSafeResourceContainer\");\nimport RBOWrapper = require(\"./RBOWrapper\");\nimport RBOInternalFormatType = require(\"../../../Wrapper/RBO/RBOInternalFormat\");\nimport Canvas = require(\"../../../Core/Canvas\");\nclass RBO extends ContextSafeResourceContainer<RBOWrapper>\n{\n\tconstructor(width:number,height:number,format:RBOInternalFormatType=RBOInternalFormatType.DepthComponent16)\n\t{\n\t\tsuper();\n\t\tthis.width=width;\n\t\tthis.height=height;\n\t\tthis.format=format;\n\t\tthis.initializeForFirst();\n\t}\n\n\tprivate width:number;\n\tprivate height:number;\n\tprivate format:RBOInternalFormatType;\n\tpublic get Width():number\n\t{\n\t\treturn this.width;\n\t}\n\n\tpublic get Height():number\n\t{\n\t\treturn this.height;\n\t}\n\n\tpublic get Format():RBOInternalFormatType\n\t{\n\t\treturn this.format;\n\t}\n\n\tprotected getInstanceForRenderer(renderer:Canvas): RBOWrapper {\n\t\treturn new RBOWrapper(renderer,this);\n    }\n\n    protected disposeResource(resource: RBOWrapper): void {\n\n    }\n\n    public resize(width:number,height:number)\n\t{\n\t\tif(this.width!==width||this.height!==height)\n\t\t{\n\t\t\tthis.width=width;\n\t\t\tthis.height=height;\n\t\t\tthis.each(v=>(<RBOWrapper>v).resize(width,height));\n\t\t}\n\t}\n}\n\nexport = RBO;\n","import ResourceWrapper = require(\"../ResourceWrapper\");\nimport Canvas = require(\"../../Canvas\");\nimport RBO = require(\"./RBO\");\n/**\n * Provides wrapper class for Render Buffer Object depending on particular WebGLRenderingContext.\n * Most of user may have no reason to modify by themselves.\n */\nclass RBOWrapper extends ResourceWrapper\n{\n\t/**\n\t *\tReference to the WebGLRenderbuffer this class managing.\n\t  */\n\tprivate targetRBO:WebGLRenderbuffer;\n\n\tpublic get Target():WebGLRenderbuffer\n\t{\n\t\treturn this.targetRBO;\n\t}\n\t/**\n\t * The parent RBOWrapper container class.\n\t */\n\tprivate parent:RBO;\n\n\tconstructor(canvas:Canvas,parentRBO:RBO)\n\t{\n\t\tsuper(canvas);\n\t\tthis.parent=parentRBO;\n\t}\n\n    public init()\n\t{\n\t\tif(this.Initialized)return;\n\t\tthis.targetRBO=this.GL.createRenderbuffer();\n\t\tthis.bind();\n\t\tthis.GL.renderbufferStorage(this.GL.RENDERBUFFER,this.parent.Format,this.parent.Width,this.parent.Height);\n\t\tthis.setInitialized();\n\t}\n\n\tpublic bind()\n\t{\n\t\tthis.GL.bindRenderbuffer(this.GL.RENDERBUFFER,this.targetRBO);\n\t}\n\n\tpublic resize(width: number, height: number) {\n\t\tif (this.Initialized) {\n\t\t\tthis.bind();\n\t\t\tthis.GL.renderbufferStorage(this.GL.RENDERBUFFER,this.parent.Format,this.parent.Width,this.parent.Height);\n\t\t}\n\t}\n}\nexport = RBOWrapper;\n","\nimport AssociativeArray = require(\"../../Base/Collections/AssociativeArray\");\nimport JThreeObject = require(\"../../Base/JThreeObject\");\nimport Delegates = require(\"./../../Base/Delegates\")\nclass ResourceArray<T> extends JThreeObject\n{\t\n\tprivate resourceArray:AssociativeArray<T>=new AssociativeArray<T>();\n\t\n\tprivate handlerArray:AssociativeArray<Delegates.Action1<T>[]>=new AssociativeArray<Delegates.Action1<T>[]>();\n\t\n\tconstructor()\n\t{\n\t\tsuper();\n\t}\n\t\n\t\n\tpublic create(id:string,creationFunc:Delegates.Func0<T>){\n\t\tif(this.resourceArray.has(id))\n\t\t{\n\t\t\tvar resource=this.resourceArray.get(id);\n\t\t\treturn resource;\n\t\t}else{\n\t\t\tresource=creationFunc();\n\t\t\tthis.resourceArray.set(id,resource);\n\t\t\tvar handlers=this.handlerArray.get(id);\n\t\t\tif(handlers)handlers.forEach(v=>v(resource));\n\t\t\treturn resource;\n\t\t}\n\t}\n\t\n\tpublic get(id:string):T\n\t{\n\t\treturn this.resourceArray.get(id);\n\t}\n\t\n\tpublic has(id:string):boolean\n\t{\n\t\treturn this.resourceArray.has(id);\n\t}\n\t\n\tpublic getHandler(id:string,handler:Delegates.Action1<T>)\n\t{\n\t\tif(this.has(id))\n\t\t\thandler(this.get(id));\n\t\telse\n\t\t{\n\t\t\tif(this.handlerArray.has(id))\n\t\t\t\tthis.handlerArray.get(id).push(handler);\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.handlerArray.set(id,[handler]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tpublic toString():string\n\t{\n\t\tvar logInfo:string =\"\";\n\t\tthis.resourceArray.forEach((v,k,m)=>{\n\t\t\tlogInfo=logInfo+k+\"\\n\";\n\t\t});\n\t\treturn logInfo;\n\t}\n}\n\nexport = ResourceArray;","import JThreeObject = require('../../Base/JThreeObject');\nimport ContextManager = require('../Canvas');\nimport JThreeEvent = require('../../Base/JThreeEvent');\nimport Delegates = require('../../Base/Delegates');\nclass ResourceWrapper extends JThreeObject\n{\n  constructor(ownerCanvas:ContextManager)\n  {\n    super();\n    this.ownerCanvas=ownerCanvas;\n  }\n\n  private ownerCanvas:ContextManager;\n\n  /**\n  * The canvas hold this resource.\n  */\n  public get OwnerCanvas():ContextManager\n  {\n    return this.ownerCanvas;\n  }\n\n  /**\n  * The ID string for identify which canvas manager holds this resource.\n  */\n  public get OwnerID():string\n  {\n    return this.ownerCanvas.ID;\n  }\n\n  public get GL()\n  {\n    return this.ownerCanvas.GL;\n  }\n\n  /**\n   * Whether this resource was initialized for this context or not.\n   */\n  private initialized:boolean;\n\n  protected onInitializeChangedEvent:JThreeEvent<boolean> = new JThreeEvent<boolean>();\n\n  /**\n   * add event handler for changing initialized state changed.\n   */\n  public onInitializeChanged(handler:Delegates.Action2<ResourceWrapper,boolean>)\n  {\n    this.onInitializeChangedEvent.addListener(handler);\n  }\n\n   /**\n   * Getter for whether this resource was initialized for this context or not.\n   */\n  public get Initialized():boolean\n  {\n    return this.initialized;\n  }\n\n  protected setInitialized(initialized?:boolean):void\n  {\n    if(typeof initialized === \"undefined\")initialized=true;\n    if(initialized===this.initialized)return;\n    this.initialized=initialized;\n    this.onInitializeChangedEvent.fire(this,initialized);\n  }\n\n  public init() {\n\n  }\n}\n\nexport = ResourceWrapper;\n","import ContextSafeContainer = require(\"../ContextSafeResourceContainer\");\nimport ShaderType = require(\"../../../Wrapper/ShaderType\");\nimport Canvas = require(\"../../Canvas\");\nimport ShaderWrapper = require(\"./ShaderWrapper\");\nimport Delegates = require(\"../../../Base/Delegates\");\nimport JThreeEvent = require(\"../../../Base/JThreeEvent\");\nclass Shader extends ContextSafeContainer<ShaderWrapper>\n{\n    /**\n     * \n     */\n    public static CreateShader(source:string,shaderType:ShaderType) :Shader {\n        var shader: Shader = new Shader();\n        shader.shaderSource = source;\n        shader.shaderType = shaderType;\n        return shader;\n    }\n    /**\n     * \n     * (Should not be called by new,You should use CreateShader static method instead.)\n     */\n    constructor() {\n        super();\n        this.initializeForFirst();\n    }\n\n    private shaderType: ShaderType;\n    /**\n     * Shader Type\n     * (VertexShader or FragmentShader)\n     */\n    public get ShaderType(): ShaderType {\n        return this.shaderType;\n    }\n\n    private shaderSource: string;\n    /**\n     * Shader Source in text\n     */\n    public get ShaderSource(): string {\n        return this.shaderSource;\n    }\n\n    /**\n     * Load all shaderWrappers\n     */\n    public loadAll() {\n        this.each((v)=> {\n            v.init();\n        });\n    }\n\n    protected getInstanceForRenderer(renderer:Canvas): ShaderWrapper {\n        return new ShaderWrapper(this, renderer);\n    }\n\n    private onUpdateEvent:JThreeEvent<string>=new JThreeEvent<string>();\n\n    /**\n     * Update shader source code.\n     * @param shaderSource new shader source code.\n     */\n    public update(shaderSource: string) {\n        this.shaderSource = shaderSource;\n        this.each((v)=> {\n            v.update();\n        });\n        this.onUpdateEvent.fire(this, shaderSource);\n    }\n\n    /**\n     * Register the handler to handle when shader source code is changed.\n     * @param handler the handler for shader changing\n     */\n    public onUpdate(handler: Delegates.Action2<Shader, string>) {\n        this.onUpdateEvent.addListener(handler);\n    }\n\n    protected disposeResource(resource: ShaderWrapper): void {\n        resource.dispose();\n    }\n}\n\nexport=Shader;\n","import Shader = require(\"./Shader\");\nimport Canvas = require(\"../../Canvas\");\nimport ResourceWrapper = require('../ResourceWrapper');\nclass ShaderWrapper extends ResourceWrapper\n{\n\n    constructor(parent: Shader,canvas:Canvas) {\n        super(canvas);\n        this.parentShader = parent;\n    }\n\n    private targetShader: WebGLShader = null;\n\n    private parentShader: Shader;\n\n    public get TargetShader(): WebGLShader {\n        if (!this.Initialized) this.init();\n        return this.targetShader;\n    }\n\n    public init(): void {\n        if (!this.Initialized) {\n            this.targetShader = this.GL.createShader(this.parentShader.ShaderType);\n            this.GL.shaderSource(this.targetShader, this.parentShader.ShaderSource);\n            this.GL.compileShader(this.targetShader);\n            this.setInitialized(true);\n        }\n    }\n\n    public dispose() {\n        if (this.Initialized) {\n            this.GL.deleteShader(this.targetShader);\n            this.targetShader = null;\n            this.setInitialized(false);\n        }\n    }\n\n    /**\n     * Update shader source from Shader class.\n     */\n    public update() {\n        this.GL.deleteShader(this.targetShader);\n        this.targetShader = this.GL.createShader(this.parentShader.ShaderType);\n        this.GL.shaderSource(this.TargetShader, this.parentShader.ShaderSource);\n        this.GL.compileShader(this.TargetShader);\n    }\n}\n\nexport=ShaderWrapper;\n","import BufferTextureWrapper = require('./BufferTextureWrapper');\nimport TextureFormat = require('../../../Wrapper/TextureInternalFormatType');\nimport ElementFormat = require('../../../Wrapper/TextureType');\nimport TextureMinFilterType = require('../../../Wrapper/Texture/TextureMinFilterType');\nimport TextureMagFilterType = require('../../../Wrapper/Texture/TextureMagFilterType');\nimport Canvas = require('../../Canvas');\nimport TextureBase = require('./TextureBase');\n/**\n * Buffer texture is a texture created from array programatically.\n */\nclass BufferTexture extends TextureBase {\n\tprivate width: number;\n\n    public get Width(): number {\n\t\treturn this.width;\n\t}\n\n\tprivate height: number;\n\n    public get Height(): number {\n\t\treturn this.height;\n\t}\n\n\tconstructor(width: number, height: number, textureFormat: TextureFormat, elementFormat: ElementFormat,textureName:string) {\n\t\tsuper(textureName);\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.textureFormat = textureFormat;\n\t\tthis.elementFormat = elementFormat;\n\t\tif(this.elementFormat==ElementFormat.Float)\n\t\t{\n\t\t\tthis.MinFilter = TextureMinFilterType.Nearest;\n\t\t\tthis.MagFilter = TextureMagFilterType.Nearest;\n\t\t}\n\t}\n\n\tprotected getInstanceForRenderer(canvas: Canvas): BufferTextureWrapper {\n\t\tvar textureWrapper = new BufferTextureWrapper(canvas, this);\n\t\treturn textureWrapper;\n\t}\n\n\tpublic resize(width:number,height:number)\n\t{\n\t\tif(this.width!==width||this.height!==height)\n\t\t{\n\t\t\tthis.width=width;\n\t\t\tthis.height=height;\n\t\t\tthis.each(v=>(<BufferTextureWrapper>v).resize(width,height));\n\t\t}\n\t}\n\n\tpublic updateTexture(buffer:ArrayBufferView)\n\t{\n\t\tthis.each(t=> {\n\t\t\t(<BufferTextureWrapper>t).updateTexture(buffer);\n\t\t});\n\t}\n\n}\n\nexport = BufferTexture;\n","import Canvas = require('../../Canvas')\nimport TargetTextureType = require('../../../Wrapper/TargetTextureType')\nimport BufferTexture = require('./BufferTexture')\nimport TextureWrapperBase = require('./TextureWrapperBase');\nimport TexImage2DTargetType = require(\"../../../Wrapper/Texture/TexImageTargetType\");\nimport FramebufferAttachmentType = require(\"../../../Wrapper/FrameBufferAttachmentType\");\nimport ElementType = require(\"../../../Wrapper/ElementType\");\nimport Delegates = require(\"../../../Base/Delegates\");\nclass BufferTextureWrapper extends TextureWrapperBase {\n    constructor(ownerCanvas: Canvas, parent: BufferTexture) {\n        super(ownerCanvas, parent);\n    }\n\n    public init() {\n        if (this.Initialized) return;\n        var parent = <BufferTexture>this.Parent;\n        this.setTargetTexture(this.GL.createTexture());\n        this.bind();\n        this.GL.texImage2D(TexImage2DTargetType.Texture2D, 0, parent.TextureFormat, parent.Width, parent.Height, 0,parent.TextureFormat, parent.ElementFormat, null);\n        this.setInitialized();\n    }\n\n    public unbind() {\n        //TODO consider is it really need to implement unbind\n        this.GL.bindTexture(TargetTextureType.Texture2D, null);\n    }\n\n    public resize(width: number, height: number) {\n        this.bind();\n        if (this.Initialized) {\n            var parent = <BufferTexture>this.Parent;\n            this.preTextureUpload();\n            this.GL.texImage2D(TexImage2DTargetType.Texture2D, 0, parent.TextureFormat, parent.Width, parent.Height, 0,parent.TextureFormat, parent.ElementFormat, null);\n        }\n    }\n\n    public updateTexture(buffer: ArrayBufferView) {\n        this.bind();\n        if (this.Initialized) {\n            var parent = <BufferTexture>this.Parent;\n            this.preTextureUpload();\n            this.GL.texImage2D(TexImage2DTargetType.Texture2D, 0, parent.TextureFormat, parent.Width, parent.Height, 0,parent.TextureFormat, parent.ElementFormat, buffer);\n        }\n        this.unbind();\n    }\n\n    public generateHtmlImage(encoder?:Delegates.Func3<number,number,ArrayBufferView,Uint8Array>):HTMLImageElement\n    {\n      var parent = <BufferTexture>this.Parent;\n      return this.encodeHtmlImage(parent.Width,parent.Height,encoder);\n    }\n}\n\nexport = BufferTextureWrapper;\n","import TextureBase = require(\"./TextureBase\");\nimport CubeTextureWrapper = require(\"./CubeTextureWrapper\");\nimport Canvas = require(\"../../Canvas\");\ntype ImageSource = HTMLCanvasElement|HTMLImageElement|ImageData|ArrayBufferView;\nclass CubeTexture extends TextureBase\n{\n    constructor(source: ImageSource[],textureName:string,flipY:boolean)\n    {\n        super(textureName,flipY,true);\n        this.ImageSource = source;\n    }\n\n    private imageSource: ImageSource[] = null;\n\n    public get ImageSource(): ImageSource[]\n    {\n        return this.imageSource;\n    }\n\n    public set ImageSource(img: ImageSource[])\n    {\n        this.imageSource = img;\n        this.each((v) => (<CubeTextureWrapper>v).init(true));\n        this.generateMipmapIfNeed();\n    }\n\n    protected getInstanceForRenderer(canvas: Canvas): CubeTextureWrapper\n    {\n        var textureWrapper = new CubeTextureWrapper(canvas, this);\n        return textureWrapper;\n    }\n}\n\nexport =CubeTexture;","import TextureWrapperBase = require(\"./TextureWrapperBase\");\nimport Canvas = require(\"../../Canvas\");\nimport CubeTexture = require(\"./CubeTexture\");\nimport TextureTargetType = require(\"../../../Wrapper/TargetTextureType\");\nimport TexImageTargetType = require(\"../../../Wrapper/Texture/TexImageTargetType\");\nimport TextureInternalFormat = require(\"../../../Wrapper/TextureInternalFormatType\");\nimport TextureType = require(\"../../../Wrapper/TextureType\");\n\nclass CubeTextureWrapper extends TextureWrapperBase {\n    constructor(canvas: Canvas, parent: CubeTexture) {\n        super(canvas, parent);\n    }\n\n    public init(isChanged?: boolean) {\n        var parent = <CubeTexture>this.Parent;\n        if (this.Initialized && !isChanged) return;\n        if (this.TargetTexture == null) this.setTargetTexture(this.GL.createTexture());\n        this.GL.bindTexture(TextureTargetType.CubeTexture, this.TargetTexture);\n        if (parent.ImageSource == null) {\n            for (var i = 0; i < 6; i++) {\n                this.GL.texImage2D(TexImageTargetType.CubePositiveX + i, 0, TextureInternalFormat.RGBA, 1, 1, 0,TextureInternalFormat.RGBA, TextureType.UnsignedByte, TextureWrapperBase.altTextureBuffer);\n            }\n        } else\n        {\n            this.preTextureUpload();\n            for (var i = 0; i < 6; i++) {\n                if (parent.ImageSource[i])\n                    this.GL.texImage2D(TexImageTargetType.CubePositiveX + i, 0, TextureInternalFormat.RGBA, TextureInternalFormat.RGBA, TextureType.UnsignedByte, <ImageData>parent.ImageSource[i]);\n            }\n        }\n        this.GL.bindTexture(TextureTargetType.CubeTexture, null);\n        this.setInitialized();\n    }\n\n}\n\nexport= CubeTextureWrapper;\n","import TextureWrapper = require('./TextureWrapper');\nimport Canvas = require('../../Canvas');\nimport TextureBase =require('./TextureBase');\ntype ImageSource = HTMLCanvasElement|HTMLImageElement|ImageData|ArrayBufferView;\n\nclass Texture extends TextureBase\n{\n  constructor(source:ImageSource,textureName:string)\n  {\n    super(textureName);\n    this.imageSource=source;\n  }\n  \n  private imageSource:ImageSource=null;\n\n  public get ImageSource():ImageSource\n  {\n    return this.imageSource;\n  }\n\n  public set ImageSource(img:ImageSource)\n  {\n    this.imageSource=img;\n    this.each((v)=>(<TextureWrapper>v).init(true));\n    this.generateMipmapIfNeed();\n  }\n\n  protected getInstanceForRenderer(canvas: Canvas):TextureWrapper {\n      var textureWrapper=new TextureWrapper(canvas,this);\n      return textureWrapper;\n  }\n  \n}\n\nexport = Texture;\n","import ContextSafeResourceContainer = require(\"../ContextSafeResourceContainer\");\nimport TextureWrapperBase = require(\"./TextureWrapperBase\");\nimport TextureParameterType = require(\"../../../Wrapper/Texture/TextureParameterType\");\nimport TextureMinFilterType = require(\"../../../Wrapper/Texture/TextureMinFilterType\");\nimport TextureMagFilterType = require(\"../../../Wrapper/Texture/TextureMagFilterType\");\nimport TextureWrapType = require(\"../../../Wrapper/Texture/TextureWrapType\");\nimport JThreeEvent = require(\"../../../Base/JThreeEvent\");\nimport Delegates = require(\"../../../Base/Delegates\");\nimport TextureTargetType = require(\"../../../Wrapper/TargetTextureType\");\nimport ElementFormat = require(\"../../../Wrapper/TextureType\");\nimport TextureFormat = require(\"../../../Wrapper/TextureInternalFormatType\");\n/**\n *\n */\nclass TextureBase extends ContextSafeResourceContainer<TextureWrapperBase>\n{\n    private targetTextureType: TextureTargetType = TextureTargetType.Texture2D;\n\n    public get TargetTextureType() {\n        return this.targetTextureType;\n    }\n\n    protected textureFormat: TextureFormat = TextureFormat.RGBA;\n\n    public get TextureFormat(): TextureFormat {\n        return this.textureFormat;\n    }\n\n    protected elementFormat: ElementFormat = ElementFormat.UnsignedByte;\n\n    public get ElementFormat(): ElementFormat {\n        return this.elementFormat;\n    }\n\n    private onFilterParameterChangedHandler: JThreeEvent<TextureParameterType> = new JThreeEvent<TextureParameterType>();\n    private minFilter: TextureMinFilterType = TextureMinFilterType.Nearest;\n    private magFilter: TextureMagFilterType = TextureMagFilterType.Nearest;\n    private tWrap: TextureWrapType = TextureWrapType.ClampToEdge;\n    private sWrap: TextureWrapType = TextureWrapType.ClampToEdge;\n    private flipY: boolean = false;\n\n    constructor(textureName: string);\n    constructor(textureName: string, flipY: boolean, isCubeTexture: boolean);\n    constructor(textureName: string, flipY?: boolean, isCubeTexture?: boolean) {\n        super();\n        if (typeof flipY === \"undefined\") flipY = false;\n        if (typeof isCubeTexture === \"undefined\") isCubeTexture = false;\n        this.flipY = flipY;\n        this.targetTextureType = isCubeTexture ? TextureTargetType.CubeTexture : TextureTargetType.Texture2D;\n        this.initializeForFirst();\n    }\n\n\n    public get FlipY(): boolean {\n        return this.flipY;\n    }\n\n    public set FlipY(val: boolean) {\n        this.flipY = val;\n    }\n\n    public get MinFilter(): TextureMinFilterType {\n        return this.minFilter;\n    }\n    public set MinFilter(value: TextureMinFilterType) {\n        if (value === this.minFilter) return;\n        this.minFilter = value;\n        this.onFilterParameterChangedHandler.fire(this, TextureParameterType.MinFilter);\n    }\n\n    public get MagFilter(): TextureMagFilterType {\n        return this.magFilter;\n    }\n    public set MagFilter(value: TextureMagFilterType) {\n        if (value === this.magFilter) return;\n        this.magFilter = value;\n        this.onFilterParameterChangedHandler.fire(this, TextureParameterType.MagFilter);\n    }\n\n    public get SWrap(): TextureWrapType {\n        return this.sWrap;\n    }\n\n    public set SWrap(value: TextureWrapType) {\n        if (this.sWrap === value) return;\n        this.sWrap = value;\n        this.onFilterParameterChangedHandler.fire(this, TextureParameterType.WrapS);\n    }\n\n    public get TWrap(): TextureWrapType {\n        return this.tWrap;\n    }\n\n    public set TWrap(value: TextureWrapType) {\n        if (this.tWrap === value) return;\n        this.tWrap = value;\n        this.onFilterParameterChangedHandler.fire(this, TextureParameterType.WrapT);\n    }\n\n    public onFilterParameterChanged(handler: Delegates.Action2<TextureBase, TextureParameterType>): void {\n        this.onFilterParameterChangedHandler.addListener(handler);\n    }\n\n    public generateMipmapIfNeed() {\n        switch (this.MinFilter) {\n            case TextureMinFilterType.LinearMipmapLinear:\n            case TextureMinFilterType.LinearMipmapNearest:\n            case TextureMinFilterType.NearestMipmapLinear:\n            case TextureMinFilterType.NearestMipmapNearest:\n                this.each((v) => {\n                    v.bind();\n                    v.GL.generateMipmap(this.TargetTextureType);\n                });\n            default:\n        }\n    }\n\n    private textureName: string;\n\n    public get TextureName(): string {\n        return this.textureName;\n    }\n}\n\nexport = TextureBase;\n","import TextureWrapperBase = require('./TextureWrapperBase');\nimport Canvas = require('../../Canvas');\nimport TextureTargetType = require('../../../Wrapper/TargetTextureType');\nimport TextureInternalFormat = require('../../../Wrapper/TextureInternalFormatType');\nimport Texture = require('./Texture');\nimport TextureType = require('../../../Wrapper/TextureType');\nimport TexImage2DTargetType = require(\"../../../Wrapper/Texture/TexImageTargetType\");\nclass TextureWrapper extends TextureWrapperBase\n{\n  constructor(canvas:Canvas,parent:Texture)\n  {\n    super(canvas,parent);\n  }\n\n\n  public init(isChanged?:boolean)\n  {\n    var parent=<Texture>this.Parent;\n    if(this.Initialized&&!isChanged)return;\n    if(this.TargetTexture==null)this.setTargetTexture(this.GL.createTexture());\n    this.GL.bindTexture(TextureTargetType.Texture2D,this.TargetTexture);\n    if(parent.ImageSource==null) {\n        this.GL.texImage2D(TexImage2DTargetType.Texture2D, 0, TextureInternalFormat.RGBA, 1, 1, 0,TextureInternalFormat.RGBA, TextureType.UnsignedByte,TextureWrapperBase.altTextureBuffer);\n    } else\n    {\n        this.preTextureUpload();\n      this.GL.texImage2D(TexImage2DTargetType.Texture2D,0,TextureInternalFormat.RGBA,TextureInternalFormat.RGBA,TextureType.UnsignedByte,<ImageData>parent.ImageSource);\n    }\n    this.GL.bindTexture(TextureTargetType.Texture2D,null);\n    this.setInitialized();}\n\n  }\n\n\nexport = TextureWrapper;\n","import ResourceWrapper = require('../ResourceWrapper');\nimport TextureParameterType = require('../../../Wrapper/Texture/TextureParameterType');\nimport TextureBase = require('./TextureBase');\nimport Canvas = require('../../Canvas');\nimport TextureRegister = require(\"../../../Wrapper/Texture/TextureRegister\");\nimport PixelStoreParamType = require(\"../../../Wrapper/Texture/PixelStoreParamType\");\nimport Delegates = require(\"../../../Base/Delegates\");\nimport TextureFormat = require(\"../../../Wrapper/TextureInternalFormatType\");\nimport ElementType = require(\"../../../Wrapper/TextureType\");\nclass TextureWrapperBase extends ResourceWrapper\n{\n\n    protected static altTextureBuffer: Float32Array = new Uint8Array([255, 0, 255, 255]);\n\n  constructor(owner:Canvas,parent:TextureBase)\n  {\n    super(owner);\n    this.parent=parent;\n    this.parent.onFilterParameterChanged(this.applyTextureParameter.bind(this));\n  }\n  private parent:TextureBase;\n\n  public get Parent():TextureBase\n  {\n    return this.parent;\n  }\n\n  private targetTexture:WebGLTexture=null;\n\n  protected setTargetTexture(texture:WebGLTexture)\n  {\n    this.targetTexture=texture;\n  }\n\n  public get TargetTexture():WebGLTexture\n  {\n    return this.targetTexture;\n  }\n\n  /**\n   * apply texture parameters\n   */\n  private applyTextureParameter() {\n      if (this.targetTexture == null) return;\n      this.bind();\n    this.GL.texParameteri(this.Parent.TargetTextureType,TextureParameterType.MinFilter,this.parent.MinFilter);\n    this.GL.texParameteri(this.Parent.TargetTextureType,TextureParameterType.MagFilter,this.parent.MagFilter);\n    this.GL.texParameteri(this.Parent.TargetTextureType,TextureParameterType.WrapS,this.parent.SWrap);\n    this.GL.texParameteri(this.Parent.TargetTextureType,TextureParameterType.WrapT,this.parent.TWrap);\n  }\n\n    public bind() {\n        if (this.targetTexture!=null) this.GL.bindTexture(this.Parent.TargetTextureType, this.targetTexture);\n        else {\n            this.GL.bindTexture(this.Parent.TargetTextureType, null);\n        }\n  }\n\n    public registerTexture(registerIndex: number):boolean {\n        if (this.TargetTexture== null) {\n            this.GL.activeTexture(TextureRegister.Texture0+registerIndex);\n            this.GL.bindTexture(this.parent.TargetTextureType, null);\n            return false;\n        }\n        this.GL.activeTexture(TextureRegister.Texture0 +registerIndex);\n        this.applyTextureParameter();\n        return true;\n    }\n\n  public init()\n  {\n\n  }\n\n  public preTextureUpload() {\n      if (this.parent.FlipY) {\n          this.GL.pixelStorei(PixelStoreParamType.UnpackFlipYWebGL, 1);\n      } else {\n          this.GL.pixelStorei(PixelStoreParamType.UnpackFlipYWebGL,0);\n      }\n  }\n\n  public generateHtmlImage(encoder?:Delegates.Func3<number,number,ArrayBufferView,Uint8Array>):HTMLImageElement\n  {\n    return null;\n  }\n\n  protected encodeHtmlImage(width:number,height:number,encode?:Delegates.Func3<number,number,ArrayBufferView,Uint8Array>)\n  {\n    var lastFBO = this.GL.getParameter(this.GL.FRAMEBUFFER_BINDING);\n    //Create framebuffer to transfer texture data\n    var framebuffer = this.GL.createFramebuffer();\n    this.GL.bindFramebuffer(this.GL.FRAMEBUFFER,framebuffer);\n    this.GL.framebufferTexture2D(this.GL.FRAMEBUFFER,this.GL.COLOR_ATTACHMENT0,this.GL.TEXTURE_2D,this.targetTexture,0);\n    var data:ArrayBufferView;\n    var dataArrayConstructor:any;\n    var transformFunc;\n    switch(this.Parent.ElementFormat)\n    {\n      case ElementType.Float:\n        dataArrayConstructor = Float32Array;\n      break;\n\n      case ElementType.UnsignedByte:\n        dataArrayConstructor = Uint8Array;\n      break;\n\n      case ElementType.UnsignedShort:\n      case ElementType.UnsignedShort565:\n      case ElementType.UnsignedShort4444:\n      case ElementType.UnsignedShort5551:\n        dataArrayConstructor = Uint16Array;\n      break;\n      default:\n        console.error(\"Element format is not supported!\");\n        return\n    }\n    switch(this.Parent.TextureFormat)\n    {\n      case TextureFormat.RGB:\n        data = new dataArrayConstructor(width * height * 4);\n        transformFunc = (width,height,arr)=>\n        {\n          var ret = new Uint8Array(width * height * 4);\n          for(var x = 0; x < width; x++)\n            for(var y = 0; y < height; y++)\n            {\n              ret[4*(y * width + x) + 0] = arr[4 * ((height-y)  * width + x) + 0];\n              ret[4*(y * width + x) + 1] = arr[4 * ((height-y)  * width + x) + 1];\n              ret[4*(y * width + x) + 2] = arr[4 * ((height-y)  * width + x) + 2];\n              ret[4*(y * width + x) + 3] = 255;\n            }\n          return ret;\n        }\n      break;\n      case TextureFormat.RGBA:\n        data = new dataArrayConstructor(width * height * 4);\n        transformFunc = (width,height,arr)=>\n        {\n          var ret = new Uint8Array(width * height * 4);\n          for(var x = 0; x < width; x++)\n            for(var y = 0; y < height; y++)\n            {\n              ret[4*(y * width + x) + 0] = arr[4 * ((height-y) * width + x) + 0];\n              ret[4*(y * width + x) + 1] = arr[4 * ((height-y)  * width + x) + 1];\n              ret[4*(y * width + x) + 2] = arr[4 * ((height-y)  * width + x) + 2];\n              ret[4*(y * width + x) + 3] = arr[4 * ((height-y) * width + x) + 3];\n            }\n          return ret;\n        };\n      break;\n      case TextureFormat.Alpha:\n        data = new dataArrayConstructor(width * height * 4);\n        transformFunc = (width,height,arr)=>\n        {\n          var ret = new Uint8Array(width * height * 4);\n          for(var x = 0; x < width; x++)\n            for(var y = 0; y < height; y++)\n            {\n              ret[4*(y * width + x) + 0] = arr[4*(y * width + x)];\n              ret[4*(y * width + x) + 1] = 0;\n              ret[4*(y * width + x) + 2] = 0;\n              ret[4*(y * width + x) + 3] = 255;\n            }\n          return ret;\n        }\n\n      break;\n      default:\n        console.error(\"TextureFormat is unsupported!\");\n        return\n    }\n    transformFunc = encode || transformFunc;\n    //read pixels from framebuffer\n    this.GL.readPixels(0,0,width,height,TextureFormat.RGBA,this.Parent.ElementFormat,data);\n    this.GL.deleteFramebuffer(framebuffer);\n    this.GL.bindFramebuffer(this.GL.FRAMEBUFFER,lastFBO);\n    //generate canvas for result\n    var canvas = document.createElement('canvas');\n    canvas.width = width;\n    canvas.height = height;\n    var context = canvas.getContext('2d');\n\n    // Copy the pixels to a 2D canvas\n    var imageData = context.createImageData(width, height);\n    (<any>imageData.data).set(<any>transformFunc(width,height,data));\n    context.putImageData(imageData, 0, 0);\n    var img = new Image();\n    img.src = canvas.toDataURL();\n    return img;\n  }\n}\nexport = TextureWrapperBase;\n","import jThreeObjectWithID = require(\"../Base/JThreeObjectWithID\");\nimport JThreeEvent = require('../Base/JThreeEvent');\nimport BasicRenderer = require(\"./Renderers/BasicRenderer\");\nimport SceneObject = require(\"./SceneObject\");\nimport Camera = require(\"./Camera/Camera\");\nimport AssociativeArray = require('../Base/Collections/AssociativeArray');\nimport LightBase = require('./Light/LightBase')\nimport Delegates =require('../Base/Delegates')\nimport LightRegister = require('./Light/LightRegister');\nimport PointLight = require(\"./Light/Impl/PointLight\");\nimport DirectionalLight = require(\"./Light/Impl/DirectionalLight\");\nimport Color3 = require(\"../Base/Color/Color3\");\nimport AreaLight = require(\"./Light/Impl/AreaLight\");\nimport SpotLight = require(\"./Light/Impl/SpotLight\");\nimport ISceneObjectChangedEventArgs = require(\"./ISceneObjectChangedEventArgs\");\nimport RendererListChangedEventArgs = require(\"./RendererListChangedEventArgs\");\n\n/**\n * Provides scene feature.\n */\nclass Scene extends jThreeObjectWithID {\n    constructor(id?:string) {\n        super(id);\n        this.enabled = true;\n        this.lightRegister = new LightRegister(this);\n    }\n\n    public sceneObjectStructureChanged:JThreeEvent<ISceneObjectChangedEventArgs> = new JThreeEvent<ISceneObjectChangedEventArgs>();\n\n    /**\n     * Whether this scene needs update or not.\n     * @type {boolean}\n     */\n    public enabled: boolean;\n\n    /**\n     * The class managing lights of this scene.\n     * @type {LightRegister}\n     */\n    private lightRegister: LightRegister;\n\n    /**\n     * The class managing lights of this scene.\n     */\n    public get LightRegister() {\n        return this.lightRegister;\n    }\n\n    /**\n     * Scene will be updated by this method.\n     * This method is intended to be called by jThree system.\n     * You don't need to call this method manually in most of use case.\n     */\n    public update(): void {\n        if (!this.enabled) return;\n        this.children.forEach(v=> v.update());\n    }\n\n    /**\n     * Scene will be rendererd by this method.\n     * This method is intended to be called by jThree system.\n     * You don't need to call this method manually in most of use case.\n     */\n    public render(): void {\n        this.renderers.forEach((r) => {\n            r.beforeRender();\n            this.lightRegister.updateLightForRenderer(r);\n            r.render(this);\n            r.afterRender();\n        });\n    }\n\n    public rendererListChanged:JThreeEvent<RendererListChangedEventArgs>=new JThreeEvent<RendererListChangedEventArgs>();\n\n    private renderers: BasicRenderer[] = [];\n\n    public addRenderer(renderer: BasicRenderer): void {\n        this.renderers.push(renderer);\n        this.rendererListChanged.fire(this,{\n          owner:this,\n          renderer:renderer,\n          isAdditionalChange:true\n        });\n    }\n\n    public get Renderers():BasicRenderer[]\n    {\n        return this.renderers;\n    }\n\n    public children: SceneObject[] = [];\n\n\n    public addLight(light:LightBase):void\n    {\n        this.lightRegister.addLight(light);\n    }\n\n    public addObject(targetObject: SceneObject): void {\n        this.children.push(targetObject);\n        targetObject.ParentScene = this;\n        this.notifySceneObjectChanged({\n          owner:null,\n          scene:this,\n          isAdditionalChange:true,\n          changedSceneObject:targetObject,\n          changedSceneObjectID:targetObject.ID\n        });\n    }\n\n    private cameras: AssociativeArray<Camera>=new AssociativeArray<Camera>();\n\n    /**\n     * Append the camera to this scene as managed\n     */\n    public addCamera(camera: Camera) {\n        this.cameras.set(camera.ID, camera);\n    }\n\n    /**\n     * Get the camera managed in this scene.\n     */\n    public getCamera(id: string): Camera {\n        return this.cameras.get(id);\n    }\n\n    public toString(): string {\n        console.log(this);\n        return `Scene\\nRenderers:\\nRendererCount:${this.renderers.length}\\nCamera Count:${this.cameras.size}\\nSceneObjects:\\nSceneObjectCount:${this.children.length}\\n`;\n    }\n\n    /**\n     * Scene ambient coefficients\n     */\n    public sceneAmbient:Color3 = new Color3(0.1,0.1,0.1);\n\n    public notifySceneObjectChanged(eventArg:ISceneObjectChangedEventArgs)\n    {\n      this.sceneObjectStructureChanged.fire(this,eventArg);\n    }\n}\n\nexport =Scene;\n","import jThreeObject = require(\"../Base/JThreeObject\");\nimport Scene = require(\"./Scene\");\nimport AssociativeArray = require('../Base/Collections/AssociativeArray')\nimport IContextComponent = require(\"../IContextComponent\");\nimport ContextComponents = require(\"../ContextComponents\");\nimport CanvasManager = require(\"./CanvasManager\");\nimport JThreeEvent = require(\"../Base/JThreeEvent\");\nimport ISceneListChangedEventArgs = require(\"./ISceneListChangedEventArgs\");\n\n/**\n* The class for managing entire scenes.\n*/\nclass SceneManager extends jThreeObject implements IContextComponent\n{\n    constructor() {\n        super();\n    }\n\n    public getContextComponentIndex():number\n    {\n      return ContextComponents.SceneManager;\n    }\n\n    /**\n     * All scene map. Hold by Scene.ID.\n     */\n    private scenes:AssociativeArray<Scene> = new AssociativeArray<Scene>();\n\n    /**\n     * Event object notifying when scene list was changed.\n     * @type {JThreeEvent<ISceneListChangedEventArgs>}\n     */\n    public sceneListChanged:JThreeEvent<ISceneListChangedEventArgs> = new JThreeEvent<ISceneListChangedEventArgs>();\n\n    /**\n    * Add new scene to be managed.\n    */\n    public addScene(scene: Scene): void {\n        if (!this.scenes.has(scene.ID)) {\n            this.scenes.set(scene.ID, scene);\n            this.sceneListChanged.fire(this,{\n              owner:this,\n              isAdditionalChange:true,\n              changedScene:scene\n            });\n        }\n    }\n\n    /**\n     * All scene list this class is managing.\n     */\n    public get Scenes()\n    {\n        return this.scenes.asArray;\n    }\n\n    /**\n    * Remove exisiting scene from managed.\n    */\n    public removeScene(scene: Scene): void {\n        if (this.scenes.has(scene.ID)) {\n            this.scenes.delete(scene.ID);\n            this.sceneListChanged.fire(this,{\n              owner:this,\n              isAdditionalChange:false,\n              changedScene:scene\n            });\n        }\n    }\n\n    /**\n     * Process render for all scenes\n     * This method is intended to be called by jThree system.\n     * You don't need to call this method maually in most case.\n     */\n    public renderAll(): void {\n        this.scenes.forEach((v) => {\n            v.update();\n            v.render();\n        });\n    }\n\n    public toString():string\n    {\n      console.log(this.scenes);\n        var sceneInfo:string=\"\";\n        this.scenes.forEach((scene:Scene,id:string)=>\n        {\n          sceneInfo+=`ID:${id}\\nScene:\\n${scene.toString()}\\n`;\n        });\n        return `Scene Informations:\\n\n        Scene Count:${this.scenes.size}\\n\n        Scenes:${sceneInfo}`;\n    }\n\n}\n\nexport=SceneManager;\n","import JThreeObjectWithID = require(\"../Base/JThreeObjectWithID\");\nimport Material = require(\"./Materials/Material\");\nimport Delegates = require(\"../Base/Delegates\");\nimport Geometry = require(\"./Geometries/Geometry\");\nimport Scene=require('./Scene');\nimport JThreeCollection = require(\"../Base/JThreeCollection\");\nimport Transformer = require(\"./Transform/Transformer\");\nimport AssociativeArray = require('../Base/Collections/AssociativeArray');\nimport JThreeEvent = require(\"../Base/JThreeEvent\");\nimport ISceneObjectStructureChangedEventArgs = require(\"./ISceneObjectChangedEventArgs\");\n/**\n * This is most base class for SceneObject.\n * SceneObject is same as GameObject in Unity.\n */\nclass SceneObject extends JThreeObjectWithID\n{\n\n  constructor(transformer?:Transformer)\n  {\n    super();\n    this.transformer=transformer||new Transformer(this);\n    this.name = this.ID;\n  }\n\n    private onStructureChangedEvent:JThreeEvent<ISceneObjectStructureChangedEventArgs> = new JThreeEvent<ISceneObjectStructureChangedEventArgs>();\n\n    public name:string;\n\n    private materialChanagedHandler:Delegates.Action2<Material,SceneObject>[]=[];\n\n    private materials:AssociativeArray<JThreeCollection<Material>>=new AssociativeArray<JThreeCollection<Material>>();\n\n    /**\n     * Contains the children.\n     */\n    private children:SceneObject[] =[];\n\n    /**\n    * Getter for children\n    */\n    public get Children():SceneObject[]{\n      return this.children;\n    }\n\n    public addChild(obj:SceneObject):void\n    {\n      this.children.push(obj);\n      obj.parent=this;\n      obj.Transformer.updateTransform();\n      var eventArg = {\n        owner:this,\n        scene:this.ParentScene,\n        isAdditionalChange:true,\n        changedSceneObject:obj,\n        changedSceneObjectID:obj.ID\n      };\n      this.onStructureChangedEvent.fire(this,eventArg);\n      this.onChildrenChanged();\n      obj.onParentChanged();\n      if(this.ParentScene)this.ParentScene.notifySceneObjectChanged(eventArg);\n    }\n\n    /**\n     * Parent of this SceneObject.\n     */\n    private parent:SceneObject;\n\n    public get Parent():SceneObject\n    {\n      return this.parent;\n    }\n\n    /**\n     * Contains the parent scene containing this SceneObject.\n     */\n    private parentScene:Scene;\n\n     /**\n     * The Getter for the parent scene containing this SceneObject.\n     */\n    public get ParentScene():Scene\n    {\n        if(!this.parentScene)\n        {\n            if(!this.parent)\n            {\n                return null;\n            }else{\n                this.ParentScene=this.parent.ParentScene;//Retrieve and cache parent scene\n                return this.parentScene;\n            }\n        }else{\n            //The parent scene was already cached.\n            return this.parentScene;\n        }\n    }\n\n     /**\n     * The Getter for the parent scene containing this SceneObject.\n     */\n\n    public set ParentScene(scene:Scene)\n    {\n        this.parentScene=scene;\n        // if(!this.parent||this.parent.ParentScene.ID!=scene.ID)\n        //     console.error(\"There is something wrong in Scene structure.\");\n        //insert recursively to the children this SceneObject contains.\n        this.children.forEach((v)=>{\n            v.ParentScene=scene;\n        });\n        this.onParentSceneChanged();\n    }\n\n    public onMaterialChanged(func:Delegates.Action2<Material,SceneObject>): void {\n        this.materialChanagedHandler.push(func);\n    }\n    /**\n     * \n     */\n    public eachMaterial(func:Delegates.Action1<Material>): void {\n        this.materials.forEach((v) =>v.each(e=>func(e)));\n    }\n\n    public addMaterial(mat: Material): void\n    {\n        if(!this.materials.has(mat.MaterialGroup))\n        {\n            this.materials.set(mat.MaterialGroup,new JThreeCollection<Material>());\n        }\n        this.materials.get(mat.MaterialGroup).insert(mat);\n    }\n\n    public getMaterial(matGroup:string):Material\n    {\n        if(this.materials.has(matGroup))\n        {\n            var a=this.materials.get(matGroup);\n            var ret=null;\n            a.each((e)=>{\n                ret=e;\n                return;\n            });\n            return ret;\n        }\n        return null;\n    }\n\n    public getMaterials(matAlias:string):Material[]\n    {\n      if(this.materials.has(matAlias))\n      {\n        return this.materials.get(matAlias).asArray();\n      }\n      return [];\n    }\n\n\n    protected geometry:Geometry;\n\n    public get Geometry():Geometry\n    {\n      return this.geometry;\n    }\n\n    public set Geometry(geo:Geometry)\n    {\n        this.geometry=geo;\n    }\n\n    protected transformer:Transformer;\n\n    public get Transformer():Transformer\n    {\n      return this.transformer;\n    }\n\n    public callRecursive(action:Delegates.Action1<SceneObject>)\n    {\n      if(this.children)\n      {\n      this.children.forEach(t=> t.callRecursive(action));\n      }\n      action(this);\n    }\n\n    public onChildrenChanged()\n    {\n\n    }\n\n    public onParentChanged()\n    {\n\n    }\n\n    public onParentSceneChanged()\n    {\n\n    }\n\n    public update() {\n\n    }\n}\n\nexport=SceneObject;\n","module.exports = \"precision mediump float;\\n\\n//UNIFORM VARIABLES\\nuniform float specularCoefficient;\\n\\n//VARYING VARIABLES\\nvarying vec3 vNormal;\\nvarying vec4 vPosition;\\nvarying vec2 vUV;\\n\\nvec2 compressNormal()\\n{\\n\\tfloat p = sqrt(vNormal.z * 8. + 8.);\\n\\treturn vNormal.xy/p + 0.5;\\n}\\n\\nfloat calcDepth()\\n{\\n\\treturn vPosition.z/vPosition.w;\\n}\\n\\nvoid main(void)\\n{\\n\\tgl_FragColor = vec4(compressNormal(),calcDepth(),specularCoefficient);\\n}\\n\"","module.exports = \"precision mediump float;\\n\\nvarying vec3 vNormal;\\nvarying vec2 vUV;\\nvarying vec4 vPos;\\n\\nuniform sampler2D texture;\\nuniform vec4 albedo;\\nuniform int textureUsed;\\n\\nvoid main()\\n{\\n\\tif(textureUsed == 1)\\n\\t{\\n\\t\\tgl_FragColor = texture2D(texture,vUV) * albedo;\\n\\t}else\\n\\t{\\n\\t\\tgl_FragColor = albedo;\\n\\t}\\n}\"","module.exports = \"precision mediump float;\\n\\nvarying vec3 vNormal;\\nvarying vec2 vUV;\\nvarying vec4 vPos;\\n\\nuniform vec3 specular;\\n\\nvoid main()\\n{\\n\\tgl_FragColor.rgb = specular;\\n}\"","module.exports = \"precision highp float;\\n\\n//Uniform variables\\nuniform mat4 matMV;\\nuniform mat4 matMVP;\\n\\n//attribute variables\\nattribute vec4 position;\\nattribute vec3 normal;\\nattribute vec2 uv;\\n//varying varibales\\nvarying vec3 vNormal;\\nvarying vec4 vPosition;\\nvarying vec2 vUV;\\n\\nvoid main(void)\\n{\\n\\tgl_Position = vPosition =matMVP * position;\\n\\tvNormal =normalize(( matMV * vec4(normal,0)).xyz);\\n\\tvUV = uv;\\n}\\n\"","module.exports = \"vec3 calcAreaLight(vec3 position,vec3 normal,int i,vec4 diffuse)\\n{\\n  vec3 accum=vec3(0,0,0);\\n  vec3 color = getLightParameter(i,0).yzw*diffuse.rgb*diffuse.a;\\n  vec3 base = getLightParameter(i,1).xyz;\\n  mat3 factor=mat3(getLightParameter(i,2).xyz,getLightParameter(i,3).xyz,getLightParameter(i,4));\\n  vec3 vRelative = position - base;\\n  vec3 e= factor * vRelative;\\n  if(e.x < 1. && e.x >0. && e.y <1. && e.y >0. && e.z < 1. && e.z >0.)\\n  {\\n    accum += color;\\n  }\\n  // }else\\n  // {\\n  //   if(e.x <0.)accum+=vec3(1,0,0);\\n  //   if(e.y <0.)accum+=vec3(0,1,0);\\n  //   if(e.z <0.)accum+=vec3(0,0,1);\\n  // }\\n  return accum;\\n}\\n\"","module.exports = \"vec3 calcAreaLight(vec3 position,vec3 normal,int i,vec3 specular,float specularCoefficient)\\n{\\n  return vec3(0,0,0);\\n}\\n\"","module.exports = \"//Header should be inserted above like below\\n//precision mediump float\\n//#define SHADOW_MAP_LENGTH <<Max count of shadow map>>\\n//uniform variables\\nuniform highp   sampler2D primary;\\nuniform lowp sampler2D secoundary;\\nuniform lowp sampler2D third;\\nuniform highp   sampler2D lightParam;\\n\\nuniform vec2 lightParamSize;\\n\\nuniform mat4 matIP;\\nuniform mat4 matV;\\nuniform mat4 matIV;\\n\\nuniform highp sampler2D shadowParam;\\nuniform lowp sampler2D shadowMap;\\nuniform float shadowMapMax; //sqrt(maximum shadow map count)<- because this is count of edge for shadow matrix texture\\n\\n//varying variables\\nvarying vec2 vUV;\\n\\n//Get depth from texture\\nfloat getDepth()\\n{\\n\\treturn texture2D(primary,vUV).z;\\n}\\n//Get normal from texture\\nvec3 getNormal()\\n{\\n\\thighp vec2 compressed = texture2D(primary,vUV).xy * 4. - vec2(2.,2.);\\n\\thighp vec3 result;\\n\\tfloat f = dot(compressed,compressed);\\n\\tfloat g = sqrt(1. - f/4.);\\n\\tresult.z = 1. - f/2.;\\n\\tresult.xy = compressed * g;\\n\\treturn normalize(result);\\n}\\n//Reconstruct position\\nvec3 getPosition(float depth)\\n{\\n\\tvec4 reconstructed = matIP*vec4(vUV * 2. - vec2(1.,1.),depth,1.);\\n\\treturn reconstructed.xyz / reconstructed.w;\\n}\\n//Get light parameter from uv\\nvec2 getLightParameterUV(int lightIndex,int parameterIndex)\\n{\\n\\tfloat xStep = 1./lightParamSize.x;\\n\\tfloat yStep = 1./lightParamSize.y;\\n\\treturn vec2(xStep / 2. + float(parameterIndex) * xStep,1.-( yStep / 2. + float(lightIndex) * yStep));\\n}\\n//Get light parameter from light index and prameter index\\nvec4 getLightParameter(int lightIndex,int parameterIndex)\\n{\\n   return texture2D(lightParam,getLightParameterUV(lightIndex,parameterIndex));\\n}\\n//Get light type\\nfloat getLightType(int lightIndex)\\n{\\n\\treturn getLightParameter(lightIndex,0).r;\\n}\\n\\nvec4 getDiffuseAlbedo()\\n{\\n\\treturn texture2D(secoundary,vUV);\\n}\\n\\nvec3 getSpecularAlbedo()\\n{\\n\\treturn texture2D(third,vUV).rgb;\\n}\\n\\nfloat getSpecularCoefficient()\\n{\\n\\treturn texture2D(primary,vUV).a;\\n}\\n\\nhighp float unpackFloat(vec3 rgb){\\n       const vec3 bit_shift = vec3( 1.0/(256.0*256.0), 1.0/256.0, 1.0);\\n       highp float res = dot(rgb, bit_shift);\\n       return res*2.0 -1.0;\\n}\\n\\nmat4 getShadowMatrix(float shadowIndex,float paramIndex)\\n{\\n\\tconst float matrixCount = 2.;\\n\\tconst float textureWidth = matrixCount * 8.;\\n\\tfloat y = 1./(2.*shadowMapMax) + 1./shadowMapMax*shadowIndex;\\n\\treturn mat4(\\n\\ttexture2D(shadowParam,vec2(1./textureWidth+1./matrixCount*paramIndex,y)),\\n\\ttexture2D(shadowParam,vec2(3./textureWidth+1./matrixCount*paramIndex,y)),\\n\\ttexture2D(shadowParam,vec2(5./textureWidth+1./matrixCount*paramIndex,y)),\\n\\ttexture2D(shadowParam,vec2(7./textureWidth+1./matrixCount*paramIndex,y)));\\n}\\n\\nbool isInTextureUVRange(vec2 uv)\\n{\\n\\treturn uv.x >= 0. && uv.x <= 1. && uv.y >= 0. && uv.y <=1.;\\n}\\n\\n///<<< LIGHT FUNCTION DEFINITIONS\\n\\nvoid main(void)\\n{\\n\\tfloat depth = getDepth();\\n\\tif(depth== -1.)discard;\\n\\tvec3 position = getPosition(depth);\\n\\tvec3 normal = getNormal();\\n\\tvec4 diffuse = getDiffuseAlbedo();\\n\\tgl_FragColor.rgb = vec3(0,0,0);\\n\\tfor(float i = 0.;i>-1.; i++)\\n\\t{\\n\\t\\tif(lightParamSize.y == i)break;\\n\\t\\t///<<< LIGHT FUNCTION CALLS\\n\\t}\\n}\\n\"","module.exports = \"vec3 calcDirectionalLight(vec3 position,vec3 normal,int i,vec4 diffuse)\\n{\\n  vec3 color = getLightParameter(i,0).yzw;\\n  vec3 dir = getLightParameter(i,1).xyz;\\n  highp vec3 shadowParamVec= getLightParameter(i,2).xyz;//x:shadow flag,y:shadow map index,z:shadow bias\\n  vec3 accum = max(0.,min(1.,dot(-dir,normal))) * color * diffuse.rgb;\\n  if(shadowParamVec.x < 0.5)return accum; // check this light needs to project shadows\\n  vec4 wPosition = matIV * vec4(position,1.0);\\n   vec4 shadowMapCoord = getShadowMatrix(shadowParamVec.y,0.) * wPosition;\\n   highp vec4 shadowMapTextureCoord = getShadowMatrix(shadowParamVec.y,1.)*shadowMapCoord;\\n   if(!isInTextureUVRange(shadowMapTextureCoord.xy/shadowMapTextureCoord.w))return accum;//If this point was out of range in shadow map, this code will not care about shadow in this point\\n   vec3 lightSpaceRawDepthShadowMap = texture2DProj(shadowMap,shadowMapTextureCoord).rgb;\\n  highp float lightSpaceDepth = unpackFloat(lightSpaceRawDepthShadowMap);\\n  if(lightSpaceDepth < shadowMapCoord.z/shadowMapCoord.w - shadowParamVec.z)\\n  {\\n    return vec3(0,0,0);\\n  }else\\n  {\\n    return accum;\\n  }\\n}\\n\"","module.exports = \"vec3 calcDirectionalLight(vec3 position,vec3 normal,int i,vec3 specular,float specularCoefficient)\\n{\\n  vec3 l = normalize((vec4(-getLightParameter(i,1).xyz,0)).xyz);\\n  vec3 e = normalize(-position);\\n  vec3 accum = getLightParameter(i,0).yzw*specular*max(0.,pow(dot(normal,normalize(l+e)),specularCoefficient));\\n  vec3 shadowParamVec = getLightParameter(i,2).xyz;\\n  if(shadowParamVec.x < 0.5)return accum; // check this light needs to project shadows\\n  vec4 wPosition = matIV * vec4(position,1.0);\\n   vec4 shadowMapCoord = getShadowMatrix(shadowParamVec.y,0.) * wPosition;\\n   vec4 shadowMapTextureCoord = getShadowMatrix(shadowParamVec.y,1.)*shadowMapCoord;\\n   if(!isInTextureUVRange(shadowMapTextureCoord.xy/shadowMapTextureCoord.w))return accum;//If this point was out of range in shadow map, this code will not care about shadow in this point\\n   vec3 lightSpaceRawDepthShadowMap = texture2DProj(shadowMap,shadowMapTextureCoord).rgb;\\n   highp float lightSpaceDepth = unpackFloat(lightSpaceRawDepthShadowMap);\\n   if(lightSpaceDepth < shadowMapCoord.z/shadowMapCoord.w - shadowParamVec.z)\\n   {\\n     return vec3(0,0,0);\\n   }else\\n   {\\n     return accum;\\n   }\\n}\\n\"","module.exports = \"//attribute variables\\nattribute vec4 position;\\nattribute vec2 uv;\\n\\nvarying vec2 vUV;\\n\\nvoid main(void)\\n{\\n\\tgl_Position = position;\\n\\tvUV=uv;\\n}\\n\"","module.exports = \"vec3 calcPointLight(vec3 position,vec3 normal,int i,vec4 diffuse)\\n{\\n  vec3 accum=vec3(0,0,0);\\n  vec3 color = getLightParameter(i,0).yzw;\\n  vec3 lpos = getLightParameter(i,1).xyz;\\n  vec2 param = getLightParameter(i,2).xy;\\n    float l=distance(lpos,position);//calc distance between light and fragment in view space\\n    vec3 p2l=normalize(lpos-position);//calc direction vector from fragment to light in view space\\n    accum+=max(dot(normal,p2l),0.)*pow(max(0.,1.-l/param.x),param.y)*color;\\n  return accum;\\n}\\n\"","module.exports = \"vec3 calcPointLight(vec3 position,vec3 normal,int i,vec3 specular,float specularCoefficient)\\n{\\n  vec3 accum=vec3(0,0,0);\\n  vec3 color = getLightParameter(i,0).yzw;\\n  vec3 lpos = getLightParameter(i,1).xyz;\\n  vec2 param = getLightParameter(i,2).xy;\\n  vec3 hv = normalize(normalize(lpos-position)+normalize(-position));\\n  float l = distance(position,lpos);\\n  accum += pow(max(0.,dot(hv,normal)),specularCoefficient)*pow(max(0.,1.-l/param.x),param.y)*color*specular;\\n  return accum;\\n}\\n\"","module.exports = \"vec3 calcSceneLight(vec3 position,vec3 normal,int i,vec4 diffuse)\\n{\\n  return getLightParameter(i,0).yzw*diffuse.rgb*diffuse.a;\\n}\\n\"","module.exports = \"vec3 calcSceneLight(vec3 position,vec3 normal,int i,vec3 specular,float specularCoefficient)\\n{\\n  return vec3(0,0,0);\\n}\\n\"","module.exports = \"//Header should be inserted above like below\\n//precision mediump float\\n//#define SHADOW_MAP_LENGTH <<Max count of shadow map>>\\nuniform highp   sampler2D primary;\\nuniform lowp sampler2D secoundary;\\nuniform lowp sampler2D third;\\nuniform highp   sampler2D lightParam;\\n\\nuniform vec2 lightParamSize;\\n\\nuniform mat4 matIP;\\nuniform mat4 matV;\\nuniform mat4 matIV;\\n\\nuniform highp sampler2D shadowParam;\\nuniform lowp sampler2D shadowMap;\\nuniform float shadowMapMax;\\n\\n\\n//varying variables\\nvarying vec2 vUV;\\n\\n//Get depth from texture\\nfloat getDepth()\\n{\\n\\treturn texture2D(primary,vUV).z;\\n}\\n//Get normal from texture\\nvec3 getNormal()\\n{\\n\\thighp vec2 compressed = texture2D(primary,vUV).xy;\\n\\thighp vec3 result;\\n\\tif(length(compressed)==0.)return vec3(0,0,-1);\\n\\tresult.z = 2. * (length(compressed)*length(compressed)-0.5);\\n\\tresult.xy = compressed * sqrt(1./(result.z*result.z)-1.);\\n\\treturn normalize(result);\\n}\\n//Reconstruct position\\nvec3 getPosition(float depth)\\n{\\n\\tvec4 reconstructed = matIP*vec4(vUV * 2. - vec2(1.,1.),depth,1.);\\n\\treturn reconstructed.xyz / reconstructed.w;\\n}\\n//Get light parameter from uv\\nvec2 getLightParameterUV(int lightIndex,int parameterIndex)\\n{\\n\\tfloat xStep = 1./lightParamSize.x;\\n\\tfloat yStep = 1./lightParamSize.y;\\n\\treturn vec2(xStep / 2. + float(parameterIndex) * xStep,1.-( yStep / 2. + float(lightIndex) * yStep));\\n}\\n//Get light parameter from light index and prameter index\\nvec4 getLightParameter(int lightIndex,int parameterIndex)\\n{\\n   return texture2D(lightParam,getLightParameterUV(lightIndex,parameterIndex));\\n}\\n//Get light type\\nfloat getLightType(int lightIndex)\\n{\\n\\treturn getLightParameter(lightIndex,0).r;\\n}\\n\\nvec4 getDiffuseAlbedo()\\n{\\n\\treturn texture2D(secoundary,vUV);\\n}\\n\\nvec3 getSpecularAlbedo()\\n{\\n\\treturn texture2D(third,vUV).rgb;\\n}\\n\\nfloat getSpecularCoefficient()\\n{\\n\\treturn texture2D(primary,vUV).a;\\n}\\n\\nbool isInTextureUVRange(vec2 uv)\\n{\\n\\treturn uv.x >= 0. && uv.x <= 1. && uv.y >= 0. && uv.y <=1.;\\n}\\n\\nfloat unpackFloat(vec3 rgb){\\n  const vec3 bit_shift = vec3( 1.0/(256.0*256.0), 1.0/256.0, 1.0);\\n  float res = dot(rgb, bit_shift);\\n  return res;\\n}\\n\\nmat4 getShadowMatrix(float shadowIndex,float paramIndex)\\n{\\n\\tconst float matrixCount = 2.;\\n\\tconst float textureWidth = matrixCount * 8.;\\n\\tfloat y = 1./(2.*shadowMapMax) + 1./shadowMapMax*shadowIndex;\\n\\treturn mat4(\\n\\ttexture2D(shadowParam,vec2(1./textureWidth+1./matrixCount*paramIndex,y)),\\n\\ttexture2D(shadowParam,vec2(3./textureWidth+1./matrixCount*paramIndex,y)),\\n\\ttexture2D(shadowParam,vec2(5./textureWidth+1./matrixCount*paramIndex,y)),\\n\\ttexture2D(shadowParam,vec2(7./textureWidth+1./matrixCount*paramIndex,y)));\\n}\\n\\n///<<< LIGHT FUNCTION DEFINITIONS\\n\\nvoid main(void)\\n{\\n\\tfloat depth = getDepth();\\n\\tif(abs(depth+1.0)<1.0E-3)discard;//Is this work correctly?\\n\\tvec3 position = getPosition(depth);\\n\\tvec3 normal = getNormal();\\n\\tvec3 specular =getSpecularAlbedo();\\n\\tfloat specularCoefficient = getSpecularCoefficient();\\n\\tgl_FragColor.rgb = vec3(0,0,0);\\n\\tfor(float i = 0.;i>-1.; i++)\\n\\t{\\n\\t\\tif(lightParamSize.y == i)break;\\n\\t\\t///<<< LIGHT FUNCTION CALLS\\n\\t}\\n}\\n\"","module.exports = \"vec3 calcSpotLight(vec3 position,vec3 normal,int i,vec4 diffuse)\\n{\\n  vec3 accum=vec3(0,0,0);\\n  vec3 color = getLightParameter(i,0).yzw;\\n  vec3 lpos = getLightParameter(i,1).xyz;\\n  vec3 ldir = getLightParameter(i,2).xyz;\\n  vec3 params = getLightParameter(i,3).xyz;\\n  vec3 l2p = normalize(position-lpos);\\n  accum += color * diffuse.xyz\\n    * max(0.,dot(-l2p,normal)) //Normal attenuation\\n   * pow(max(0.,min(1.,dot(l2p,ldir)/(params.x-params.y) - params.y/(params.x - params.y))),params.z); // spot light range attenuation\\n  return accum;\\n}\\n\"","module.exports = \"vec3 calcSpotLight(vec3 position,vec3 normal,int i,vec3 specular,float specularCoefficient)\\n{\\n  vec3 accum=vec3(0,0,0);\\n  vec3 color = getLightParameter(i,0).yzw;\\n  vec3 lpos = getLightParameter(i,1).xyz;\\n  vec3 ldir = getLightParameter(i,2).xyz;\\n  vec3 params = getLightParameter(i,3).xyz;\\n  vec3 hv = normalize(normalize(lpos-position)+normalize(-position));\\n  vec3 l2p = normalize(position - lpos);\\n  accum += color \\n    * pow(max(0.,dot(hv,normal)),specularCoefficient) //Normal attenuation\\n   * pow(max(0.,min(1.,dot(l2p,ldir)/(params.x-params.y) - params.y/(params.x - params.y))),params.z); // spot light range attenuation\\n  return accum;\\n}\\n\"","module.exports = \"precision mediump float;\\nvarying vec3 vNormal;\\nvarying  vec2 vUv;\\nvarying vec4 vPosition;\\n\\nuniform vec4 diffuse;\\nuniform vec4 specular;\\nuniform vec4 ambient;\\nuniform vec3 ambientCoefficient;\\nuniform mat4 matMVP;\\nuniform mat4 matMV;\\nuniform mat4 matV;\\nuniform int textureUsed;\\nuniform sampler2D texture;\\nuniform sampler2D dlight;\\nuniform sampler2D slight;\\n\\nvec2 calcLightUV(vec4 projectionSpacePos)\\n{\\n   return (projectionSpacePos.xy/projectionSpacePos.w+vec2(1,1))/2.;\\n}\\n\\nvoid main(void){\\n  vec2 adjuv=vUv;\\n  gl_FragColor=vec4(0,0,0,1);\\n  //gl_FragColor.rgb+=ambient.rgb;\\n  ////calculate light uv\\n  vec2 lightUV=calcLightUV(vPosition);\\n  gl_FragColor.rgb+=texture2D(dlight,lightUV).rgb+texture2D(slight,lightUV).rgb;\\n  gl_FragColor.rgb +=ambient.rgb;\\n}\\n\"","module.exports = \"precision mediump float;\\n\\n//varying variables\\nvarying vec4 vPosition;\\n\\nvec3 pack_float(float f){\\n   const vec3 bit_shift = vec3( 256.0*256.0, 256.0, 1.0);\\n   const vec3 bit_mask = vec3(0.0, 1.0/256.0, 1.0/256.0);\\n   vec3 res = fract(f * bit_shift);\\n   res -= res.xxy * bit_mask;\\n   return res;\\n}\\n\\nvoid main(void)\\n{\\n  gl_FragColor.rgb = pack_float(vPosition.z/vPosition.w/2. + 0.5);\\n}\\n\"","module.exports = \"//attribute variables\\n\\nattribute vec4 position;\\n\\n//varying variables\\n\\nvarying vec4 vPosition;\\n\\n//uniform variables\\nuniform mat4 matPLW;//(light-space-projection)*(light-space-view)*(world)\\n\\nvoid main(void)\\n{\\n  vPosition = gl_Position = matPLW * position;\\n}\\n\"","module.exports = \"precision mediump float;\\nuniform samplerCube skyTex;\\nvarying vec2 v_uv;\\nvarying vec3 v_position;\\n\\nvoid main()\\n{\\n\\tvec3 dir = v_position;\\n\\tgl_FragColor=vec4(textureCube(skyTex,dir));\\n}\"","module.exports = \"precision mediump float;\\nvarying vec3 v_normal;\\nvarying  vec2 v_uv;\\n\\nuniform vec4 u_color;\\nuniform mat4 matMVP;\\nuniform mat4 matMV;\\nvoid main(void){\\n  gl_FragColor = u_color;\\n}\\n\"","module.exports = \"precision mediump float;\\nvarying vec3 vNormal;\\nvarying  vec2 vUv;\\n\\nuniform mat4 matMVP;\\nuniform mat4 matMV;\\nuniform mat4 matV;\\nuniform mat4 ctM;\\nuniform float additonA;\\nuniform sampler2D u_sampler;\\n\\nvoid main(void){\\n  gl_FragColor = ctM*texture2D(u_sampler,vUv);\\n  gl_FragColor.a += additonA;\\n  //if(gl_FragColor.a==0.0)discard;\\n}\\n\"","module.exports = \"precision mediump float;\\nattribute vec3 position;\\nattribute vec3 normal;\\nattribute vec2 uv;\\n\\nuniform mat4 matMVP;\\nuniform mat4 matMV;\\n\\n\\nvarying vec3 vNormal;\\nvarying vec2 vUv;\\nvarying vec4 vPosition;\\n\\nvoid main(void){\\nvPosition=gl_Position = matMVP*vec4(position,1.0);\\nvNormal=normalize((matMV*vec4(normal,0)).xyz);\\nvUv=uv;\\n}\\n\"","module.exports = \"attribute vec3 position;\\nattribute vec2 uv;\\n\\nvarying vec2 v_uv;\\nvarying vec3 v_position;\\n\\nuniform mat4 matVP;\\n\\nvoid main(void){\\nv_position = (vec4(position,1.0)*matVP).xyz;\\ngl_Position =vec4(position,1.0);\\nv_uv=uv;\\n}\\n\"","import JThreeObject = require(\"../Base/JThreeObject\");\nimport IContextComponent = require(\"../IContextComponent\");\nimport ContextComponent = require(\"../ContextComponents\");\nclass Timer extends JThreeObject implements IContextComponent\n{\n    public getContextComponentIndex()\n    {\n      return ContextComponent.Timer;\n    }\n\n    public updateTimer(): void {\n        this.currentFrame++;\n        var date: number = Date.now();\n        this.TimeFromLast = date - this.Time;\n        this.time = date;\n    }\n    \n    constructor()\n    {\n        super();\n    }\n\n    protected currentFrame: number = 0;\n\n    protected time: number = 0;\n\n    protected timeFromLast: number = 0;\n\n    public get CurrentFrame(): number\n    {\n        return this.currentFrame;\n    }\n\n    public get Time(): number\n    {\n        return this.time;\n    }\n\n    public get TimeFromLast(): number\n    {\n        return this.timeFromLast;\n    }\n}\n\nexport=Timer;\n","import Quaternion = require(\"../../Math/Quaternion\");\nimport Vector3 = require(\"../../Math/Vector3\");\nimport Matrix = require(\"../../Math/Matrix\");\nimport SceneObject = require(\"../SceneObject\");\nimport JThreeObject = require(\"../../Base/JThreeObject\");\nimport Delegates = require(\"../../Base/Delegates\");\nimport glm = require(\"gl-matrix\");\nimport BasicRenderer = require(\"./../Renderers/BasicRenderer\");\nimport JThreeEvent = require(\"./../../Base/JThreeEvent\");\nimport Vector4 = require(\"../../Math/Vector4\");\n/**\n * Position,rotation and scale of scene object.\n * Every scene object in a scene has Toransformer.It's used to store and manipulate the position,rotation and scale ob the object.\n * Every Transformer can have a parent, each parent Transformer affect children's Transformer hierachically.\n */\nclass Transformer extends JThreeObject\n{\n    /**\n     * Constructor of Transformer\n     * @param sceneObj the scene object this transformer attached to.\n     */\n    constructor(sceneObj: SceneObject)\n    {\n        super();\n        this.linkedObject = sceneObj;\n        this.position = Vector3.Zero;\n        this.rotation = Quaternion.Identity;\n        this.scale = new Vector3(1, 1, 1);\n        this.localOrigin = new Vector3(0, 0, 0);\n        this.updateTransform();\n    }\n\n    public get hasParent()\n    {\n      return !!this.linkedObject.Parent;\n    }\n\n    public get parent()\n    {\n      return this.hasParent?this.linkedObject.Parent.Transformer:null;\n    }\n\n    public get childrenCount()\n    {\n      return this.linkedObject.Children.length;\n    }\n\n    public hasChanged:boolean=false;\n\n    /**\n     * Scene oject reference this transformer related to.\n     */\n    public linkedObject: SceneObject;\n\n    /**\n     * backing field of Rotation.\n     */\n    private rotation: Quaternion;\n\n    /**\n     * backing field of Position.\n     */\n    private position: Vector3;\n\n    private localOrigin: Vector3;\n\n    /**\n     * backing field of Scale.\n     */\n    private scale: Vector3;\n\n    /**\n     * forward direction of transform in world space\n     */\n     public forward: Vector3=Vector3.ZUnit.negateThis();\n\n     /**\n     * up direction of transform in world space\n     */\n     public up:Vector3=Vector3.YUnit;\n\n     /**\n     * right direction of transform in world space\n     */\n     public right:Vector3=Vector3.XUnit;\n\n    /**\n     * calculation cache\n     */\n    private localTransformMatrix:Matrix = Matrix.identity();\n\n    private localToGlobalMatrix:Matrix = Matrix.identity();\n\n    private modelViewProjectionCaluculationCache = glm.mat4.create();\n\n    private globalToLocalCache:Matrix = Matrix.identity();\n\n    private g2lupdated:boolean =false;\n\n    public get NeedUpdateChildren():boolean\n    {\n      return true;\n    }\n\n    public get globalToLocal()\n    {\n      if(this.g2lupdated)\n      {\n        return this.globalToLocalCache;\n      }\n      glm.mat4.invert(this.globalToLocalCache.rawElements,this.localToGlobalMatrix.rawElements);\n      this.g2lupdated = true;\n    }\n\n    /**\n     * properties for storeing event handlers\n     */\n    private onUpdateTransformHandler: JThreeEvent<SceneObject> = new JThreeEvent<SceneObject>();\n\n    /**\n     * Subscribe event handlers it will be called when this transformer's transform was changed.\n     * @param action the event handler for this event.\n     */\n    public onUpdateTransform(action: Delegates.Action2<Transformer, SceneObject>): void\n    {\n        this.onUpdateTransformHandler.addListener(action);\n    }\n\n    /**\n     * update all transform\n     * You no need to call this method manually if you access all of properties in this transformer by accessor.\n     */\n    public updateTransform(): void\n    {\n        this.hasChanged =true;\n        this.updateTransformMatricies();\n        //notify update to childrens\n        if (this.linkedObject.Children&&this.NeedUpdateChildren) this.linkedObject.Children.forEach((v) =>\n        {\n            v.Transformer.updateTransform();\n        });\n        this.g2lupdated = false;\n        //fire updated event\n        this.onUpdateTransformHandler.fire(this, this.linkedObject);\n    }\n\n    /**\n     * Update transform matricies\n     * @return {[type]} [description]\n     */\n    protected updateTransformMatricies()\n    {\n      //initialize localTransformCache & localToGlobalMatrix.rawElements\n      glm.mat4.identity(this.localTransformMatrix.rawElements);\n      glm.mat4.identity(this.localToGlobalMatrix.rawElements);\n      //generate local transofrm matrix\n      glm.mat4.fromRotationTranslationScaleOrigin(this.localTransformMatrix.rawElements, this.rotation.rawElements, this.position.rawElements, this.scale.rawElements, this.localOrigin.rawElements);//substitute Rotation*Translation*Scale matrix (around local origin) for localTransformMatrix.rawElements\n      if (this.linkedObject != null && this.linkedObject.Parent != null) {\n          //Use LocalToGlobal matrix of parents to multiply with localTransformCache\n          glm.mat4.copy(this.localToGlobalMatrix.rawElements, this.linkedObject.Parent.Transformer.LocalToGlobal.rawElements);\n      } else\n      {\n          //If this transformer have no parent transformer,localToGlobalMatrix.rawElements,GlobalTransform will be same as localTransformCache\n          glm.mat4.identity(this.localToGlobalMatrix.rawElements);\n      }\n      //Multiply parent transform\n      glm.mat4.multiply(this.localToGlobalMatrix.rawElements, this.localToGlobalMatrix.rawElements, this.localTransformMatrix.rawElements);\n      this.updateDirections();\n    }\n\n    /**\n     * Update directions by this transform\n     */\n    protected updateDirections()\n    {\n      //Calculate direction vectors\n      this.updateDirection(this.right,[1,0,0,0]);//need to reduce memory allocation\n      this.updateDirection(this.up,[0,1,0,0]);\n      this.updateDirection(this.forward,[0,0,-1,0]);\n    }\n\n    private updateDirection(rawElements:Vector3,sourceVector4:number[])\n    {\n      glm.vec4.transformMat4(rawElements.rawElements,sourceVector4,this.localToGlobalMatrix.rawElements);\n      glm.vec3.normalize(rawElements.rawElements,rawElements.rawElements)\n    }\n\n    /**\n     * Calculate Projection-View-Model matrix with renderer camera.\n     */\n    public calculateMVPMatrix(renderer: BasicRenderer): Matrix\n    {\n        glm.mat4.mul(this.modelViewProjectionCaluculationCache, renderer.Camera.viewMatrix.rawElements, this.LocalToGlobal.rawElements);\n        glm.mat4.mul(this.modelViewProjectionCaluculationCache, renderer.Camera.projectionMatrix.rawElements, this.modelViewProjectionCaluculationCache);\n        return new Matrix(this.modelViewProjectionCaluculationCache);\n    }\n\n    public get GlobalPosition()\n    {\n      return Matrix.transformPoint(this.localToGlobalMatrix,Vector3.Zero);\n    }\n\n    /**\n     * Get accessor for the matrix providing the transform Local space into Global space.\n     */\n    public get LocalToGlobal(): Matrix\n    {\n        return this.localToGlobalMatrix;\n    }\n\n    public get LocalTransform(): Matrix {\n        return this.localTransformMatrix;\n    }\n    /**\n     * Get accessor for model rotation.\n     */\n    public get Rotation(): Quaternion\n    {\n        return this.rotation;\n    }\n    /**\n     * Set accessor for model rotation.\n     */\n    public set Rotation(quat: Quaternion)\n    {\n        this.rotation = quat;\n        this.updateTransform();\n    }\n    /**\n     * Get Accessor for model position.\n     */\n    public get Position(): Vector3\n    {\n        return this.position;\n    }\n    /**\n     * Set Accessor for model position.\n     */\n    public set Position(vec: Vector3)\n    {\n        this.position = vec;\n        this.updateTransform();\n    }\n\n    /**\n     * Get Accessor for model scale.\n     */\n    public get Scale(): Vector3\n    {\n        return this.scale;\n    }\n\n    /**\n     * Set Accessor for model scale.\n     */\n    public set Scale(vec: Vector3)\n    {\n        this.scale = vec;\n        this.updateTransform();\n    }\n\n    public get LocalOrigin(): Vector3\n    {\n        return this.localOrigin;\n    }\n\n    public set LocalOrigin(origin: Vector3)\n    {\n        this.localOrigin = origin;\n        this.updateTransform();\n    }\n\n    public transformDirection(direction:Vector3)\n    {\n      return Matrix.transformNormal(this.LocalToGlobal,direction);\n    }\n\n    public transformPoint(point:Vector3)\n    {\n      return Matrix.transformPoint(this.localToGlobalMatrix,point);\n    }\n\n    public transformVector(vector:Vector4)\n    {\n      return Matrix.transform(this.localToGlobalMatrix,vector);\n    }\n\n    public inverseTransformDirection(direction:Vector3)\n    {\n      return Matrix.transformNormal(this.globalToLocal,direction);\n    }\n\n    public inverseTransformPoint(point:Vector3)\n    {\n      return Matrix.transformPoint(this.globalToLocal,point);\n    }\n\n    public inverseTransformVector(vector:Vector4)\n    {\n      return Matrix.transform(this.globalToLocal,vector);\n    }\n}\n\nexport =Transformer;\n","import IContextComponent = require(\"../IContextComponent\");\nimport ContextComponents = require(\"../ContextComponents\");\nimport DebuggerModuleBase = require(\"./Modules/DebuggerModuleBase\");\nimport SceneStructureDebugger = require(\"./Modules/SceneStructureDebugger\");\nimport GLSpecDebugger = require(\"./Modules/GLSpecDebugger\");\nimport RendererDebugger = require(\"./Modules/RendererDebugger\");\nimport DebuggerAPI = require(\"./DebuggerAPI\");\nclass Debugger implements IContextComponent\n{\n  public getContextComponentIndex()\n  {\n    return ContextComponents.Debugger;\n  }\n\n  private debuggerModules:DebuggerModuleBase[] = [new SceneStructureDebugger(),new GLSpecDebugger(),new RendererDebugger()];\n\n  public debuggerAPI:DebuggerAPI;\n\n  constructor()\n  {\n    this.debuggerAPI = (<any>window).j3d;\n    if(!this.debuggerAPI)\n    {\n      console.warn(\"Debugger API was not found! Did you surely import j3d.js?\\nDebugger will not be attached.\")\n    }\n  }\n\n  public attach():void\n  {\n    if(this.debuggerAPI)\n    {\n      this.debuggerModules.forEach(m=>m.attach(this))\n      console.warn(\"Debugger API was attached.\");\n    };\n  }\n\n  public setInfo(key:string,val:any)\n  {\n    if(typeof val === 'object')\n    {\n      var stringfied = \"\";\n      for(var k in val)\n      {\n        var v = val[k];\n        stringfied += `${k}:${v}<br/>`;\n      }\n      val = stringfied;\n    }\n    this.debuggerAPI.info.setInfo(key,val);\n  }\n}\n\nexport = Debugger;\n","import Debugger = require(\"../Debugger\");\nclass DebuggerModuleBase\n{\n  public attach(debug:Debugger):void\n  {\n\n  }\n}\n\nexport = DebuggerModuleBase;\n","import DebuggerModuleBase = require(\"./DebuggerModuleBase\");\nimport Debugger = require(\"../Debugger\");\nimport GLSpecManager = require(\"../../Core/GLSpecManager\");\nimport CanvasManager = require(\"../../Core/CanvasManager\");\nimport JThreeContext = require(\"../../JThreeContext\");\nimport ContextComponents = require(\"../../ContextComponents\");\nclass GLSpecDebugger extends DebuggerModuleBase\n{\n  public attach(debug:Debugger)\n  {\n    JThreeContext.getContextComponent<CanvasManager>(ContextComponents.CanvasManager).canvasListChanged.addListener(()=>{\n    debug.setInfo(\"GLSPEC : Maximum combined texture unit\",GLSpecManager.MaxCombinedTextureUnits);\n\t\tdebug.setInfo(\"GLSPEC : Maximum cubemap texture size\",GLSpecManager.MaxCubeMapTextureSize)\n\t\tdebug.setInfo(\"GLSPEC : Maximum fragment uniform vectors\",GLSpecManager.MaxFragmentUniformVectors);\n\t\tdebug.setInfo(\"GLSPEC : Maximum rederbuffer size\",GLSpecManager.MaxRenderbufferSize);\n\t\tdebug.setInfo(\"GLSPEC : Maximum texture image units\",GLSpecManager.MaxTextureImageUnits);\n\t\tdebug.setInfo(\"GLSPEC : Maximum texture size\",GLSpecManager.MaxTextureSize);\n\t\tdebug.setInfo(\"GLSPEC : Maximum varying vectors\",GLSpecManager.MaxVaryingVectors);\n\t\tdebug.setInfo(\"GLSPEC : Maximum vertex attribute\",GLSpecManager.MaxVertexAttribs);\n\t\tdebug.setInfo(\"GLSPEC : Maximum VTF units\",GLSpecManager.MaxVertexTextureImageUnits);\n\t\tdebug.setInfo(\"GLSPEC : Maximum vertex uniform vectors\",GLSpecManager.MaxVertexUniformVectors);\n\t\tdebug.setInfo(\"GLSPEC : Maximum viewport dimension\",GLSpecManager.MaxViewportDims);\n  });\n  }\n}\n\nexport = GLSpecDebugger;\n","import DebuggerModuleBase = require(\"./DebuggerModuleBase\");\nimport Debugger = require(\"../Debugger\");\nimport SceneManager = require(\"../../Core/SceneManager\");\nimport JThreeContext = require(\"../../JThreeContext\");\nimport ContextComponents = require(\"../../ContextComponents\");\nimport Scene = require(\"../../Core/Scene\");\nimport BasicRenderer = require(\"../../Core/Renderers/BasicRenderer\");\nimport Q = require('q');\nimport Delegate = require('../../Base/Delegates');\nimport Canvas = require(\"../../Core/Canvas\");\nimport IRequestBufferTexture = require(\"./Renderer/IRequestBufferTexture\");\nimport IRequestShadowMapTexture = require('./Renderer/IRequestShadowMapTexture');\nimport IRequestBufferTextureProgress = require(\"./Renderer/IRequestBufferTextureProgress\");\nimport IRequestShadowMapProgress = require(\"./Renderer/IRequestShadowMapProgress\");\nclass RendererDebugger extends DebuggerModuleBase\n{\n  private bufferTextureRequest:IRequestBufferTexture;\n\n  private shadowMapRequest:IRequestShadowMapTexture;\n\n  private bufferTextureProgressRequest:IRequestBufferTextureProgress;\n\n  private shadowMapProgressRequest:IRequestShadowMapProgress;\n\n  public attach(debug:Debugger)\n  {\n    var sm = JThreeContext.getContextComponent<SceneManager>(ContextComponents.SceneManager);\n    sm.Scenes.forEach(s=>\n    {\n      this.attachToScene(s,debug);\n    });\n    sm.sceneListChanged.addListener((o,h)=>\n    {\n      if(h.isAdditionalChange)\n      {\n        this.attachToScene(h.changedScene,debug);\n      }else\n      {\n        //TODO add code for delete\n      }\n    });\n  }\n\n  private attachToScene(scene:Scene,debug:Debugger)\n  {\n    scene.Renderers.forEach(r=>\n    {\n      this.attachToRenderer(r,debug);\n    });\n    scene.rendererListChanged.addListener((o,h)=>\n    {\n      if(h.isAdditionalChange)\n      {\n        this.attachToRenderer(h.renderer,debug);\n      }else\n      {\n        //TODO add code for delete\n      }\n    });\n  }\n\n  private canvasToimg(renderer:BasicRenderer)\n  {\n    var canvas = <Canvas>renderer.ContextManager;\n    var img = new Image(canvas.canvasElement.width,canvas.canvasElement.height);\n    img.src = canvas.canvasElement.toDataURL();\n    return img;\n  }\n\n  private attachToRenderer(renderer:BasicRenderer,debug:Debugger)\n  {\n    debug.debuggerAPI.renderers.addRenderer(renderer,this);\n    renderer.RenderPathExecutor.renderStageCompleted.addListener((o,v)=>\n    {\n      if(this.bufferTextureRequest && v.completedChain.stage.ID === this.bufferTextureRequest.stageID)\n      {\n        if(v.bufferTextures[this.bufferTextureRequest.bufferTextureID] == null)\n        {\n          this.bufferTextureRequest.deffered.resolve(this.canvasToimg(v.owner.renderer));\n          this.bufferTextureRequest = null;\n          return;\n        }\n        this.bufferTextureRequest.deffered.resolve(v.bufferTextures[this.bufferTextureRequest.bufferTextureID].wrappers[0].generateHtmlImage(this.bufferTextureRequest.generator));\n        this.bufferTextureRequest = null;\n      }\n    });\n    renderer.RenderPathExecutor.renderPathCompleted.addListener((o,v)=>\n    {\n      if(this.shadowMapRequest && v.owner.renderer.ID === this.shadowMapRequest.rendererID)\n      {\n        this.shadowMapRequest.deffered.resolve(v.scene.LightRegister.shadowMapResourceManager.shadowMapTileTexture.wrappers[0].generateHtmlImage(this.shadowMapRequest.generator));\n        this.shadowMapRequest = null;\n      }\n      if(this.bufferTextureProgressRequest&&this.bufferTextureProgressRequest.begin)\n      {\n        this.bufferTextureProgressRequest.deffered.resolve(null);\n        this.bufferTextureProgressRequest = null;\n      }\n      if(this.shadowMapProgressRequest && this.shadowMapProgressRequest.begin)\n      {\n        this.shadowMapProgressRequest.deffered.resolve(null);\n        this.shadowMapProgressRequest = null;\n      }\n    });\n    renderer.RenderPathExecutor.renderObjectCompleted.addListener((o,v)=>\n    {\n      if(this.bufferTextureProgressRequest && v.stage.ID === this.bufferTextureProgressRequest.stageID)\n      {\n        this.bufferTextureProgressRequest.begin = true;\n        v.owner.renderer.GL.flush();\n        var img;\n        if(v.bufferTextures[this.bufferTextureProgressRequest.bufferTextureID]==null)\n        {\n          //for default buffer\n          img = this.canvasToimg(v.owner.renderer);\n        }else{\n         img = v.bufferTextures[this.bufferTextureProgressRequest.bufferTextureID].wrappers[0].generateHtmlImage(this.bufferTextureProgressRequest.generator);\n       }\n        img.title = `object:${v.renderedObject.name} technique:${v.technique}`;\n        this.bufferTextureProgressRequest.deffered.notify(\n          {\n            image:img,\n            object:v.renderedObject,\n            technique:v.technique\n          }\n        )\n      }\n      if(this.shadowMapProgressRequest &&v.stage.getTypeName() === \"ShadowMapGenerationStage\"&& v.stage.Renderer.ID === this.shadowMapProgressRequest.rendererID)\n      {\n        this.shadowMapProgressRequest.begin = true;\n        v.owner.renderer.GL.flush();\n        img =v.renderedObject.ParentScene.LightRegister.shadowMapResourceManager.shadowMapTileTexture.wrappers[0].generateHtmlImage(this.shadowMapProgressRequest.generator);\n        img.title = `object:${v.renderedObject.name} technique:${v.technique}`;\n        this.shadowMapProgressRequest.deffered.notify(\n          {\n            image:img,\n            object:v.renderedObject,\n            technique:v.technique\n          }\n        )\n      }\n    });\n  }\n\n  public getShadowMapImage(rendererID:string,generator?:any):Q.IPromise<HTMLImageElement>\n  {\n    var d = Q.defer<HTMLImageElement>();\n    this.shadowMapRequest =\n    {\n      deffered:d,\n      rendererID:rendererID,\n      generator:generator\n    };\n    return d.promise;\n  }\n\n  public getShadowMapProgressImage(rendererID:string,generator?:any):Q.IPromise<HTMLImageElement>\n  {\n    var d = Q.defer<HTMLImageElement>();\n    this.shadowMapProgressRequest =\n    {\n      deffered:d,\n      rendererID:rendererID,\n      generator:generator,\n      begin:false\n    }\n    return d.promise;\n  }\n\n  public getTextureHtmlImage(stageID:string,bufferTextureID:string,generator?:any):Q.IPromise<HTMLImageElement>\n  {\n    var d = Q.defer<HTMLImageElement>();\n    this.bufferTextureRequest =\n    {\n        deffered:d,\n        stageID:stageID,\n        bufferTextureID:bufferTextureID,\n        generator:generator\n    };\n    return d.promise;\n  }\n\n  public getTextureProgressHtmlImage(stageID:string,bufferTextureID:string,generator?:any):Q.IPromise<HTMLImageElement>\n  {\n    var d = Q.defer<HTMLImageElement>();\n    this.bufferTextureProgressRequest =\n    {\n      deffered:d,\n      stageID:stageID,\n      bufferTextureID:bufferTextureID,\n      generator:generator,\n      begin:false\n    };\n    return d.promise;\n  }\n}\n\nexport = RendererDebugger;\n","import DebuggerModuleBase = require(\"./DebuggerModuleBase\");\nimport Debugger = require(\"../Debugger\");\nimport SceneManager = require(\"../../Core/SceneManager\");\nimport ContextComponents = require(\"../../ContextComponents\");\nimport JThreeContext = require(\"../../JThreeContext\");\n\nclass SceneStructureDebugger extends DebuggerModuleBase\n{\n  public attach(debug:Debugger)\n  {\n    JThreeContext.getContextComponent<SceneManager>(ContextComponents.SceneManager).sceneListChanged.addListener((o,v)=>{\n      if(v.isAdditionalChange){\n        //If scene was added\n        var scenesAPI = debug.debuggerAPI.scenes.setScene(v.changedScene.ID,v.changedScene);\n        v.changedScene.sceneObjectStructureChanged.addListener((o2,v2)=>\n        {\n          debug.debuggerAPI.scenes.setScene(v.changedScene.ID,v.changedScene);\n        });\n      }else\n      {\n        //If scene was deleted\n      }\n    });\n  }\n}\n\nexport = SceneStructureDebugger;\n","import JThreeObject = require(\"./Base/JThreeObject\");\nimport Matrix = require(\"./Math/Matrix\");\n\n     /**\n     * This class is root class perform as exception arguments in jThree.\n     */\n    export class jThreeException extends JThreeObject implements Error {\n        constructor(name: string, message: string) {\n            super();\n            this.name = name;\n            this.message = message;\n        }\n\n        public name: string;\n        public message: string;\n\n        public toString(): string {\n            return `Exception:${super.toString()}\\nName:${this.name}\\nMessage:${this.message}`;\n        }\n    }\n\n    export class IrregularElementAccessException extends jThreeException {\n        constructor(accessIndex:number) {\n            super(\"Irregular vector element was accessed.\", `You attempted to access ${accessIndex} element. But,this vector have enough dimension.`);\n         }\n    }\n\n    export class InvalidArgumentException extends jThreeException {\n        constructor(message: string) {\n            super(\"Invalid argument was passed.\", message);\n        }\n    }\n\n    export class SingularMatrixException extends jThreeException {\n        constructor(m: Matrix) {\n            super(\"Passed matrix is singular matrix\", `passed matrix:${m.toString()}`);\n        }\n    }\n\n    export class AbstractClassMethodCalledException extends jThreeException {\n        constructor() {\n            super(\"Invalid method was called.\",\"This method is abstract method, cant call by this instance\");\n        }\n    }\n\n    export class WebGLErrorException extends jThreeException {\n        constructor(text:string) {\n            super(\"WebGL reported error.\", text);\n        }\n    }\n","import JThreeObjectWithID = require(\"../../Base/JThreeObjectWithID\");\nimport GomlAttribute = require(\"../GomlAttribute\");\nimport EasingFunctionBase = require(\"../Easing/EasingFunctionBase\");\nimport Delegates = require(\"../../Base/Delegates\");\nclass AnimaterBase extends JThreeObjectWithID\n{\n  protected targetAttribute:GomlAttribute;\n\n  protected onComplete:Delegates.Action0;\n\n  protected duration:number;\n\n  protected beginTime:number;\n\n  protected easingFunction:EasingFunctionBase;\n\n  protected beginValue:any;\n\n  protected endValue:any;\n\n  constructor(targetAttribute:GomlAttribute,begintime:number,duration:number,beginValue:any,endValue:any,easing:EasingFunctionBase,onComplete?:Delegates.Action0)\n  {\n      super();\n      this.targetAttribute=targetAttribute;\n      this.beginTime=begintime;\n      this.duration=duration;\n      this.onComplete=onComplete;\n      this.easingFunction=easing;\n      this.beginValue=this.targetAttribute.Converter.FromInterface(beginValue);\n      this.endValue=this.targetAttribute.Converter.FromInterface(endValue);\n  }\n\n  /**\n  * Upate\n  */\n  public update(time:number):boolean\n  {\n    var progress=(time-this.beginTime)/this.duration;\n    var isFinish=progress>=1;\n    progress=Math.min(Math.max(progress,0),1);//clamp [0,1]\n    this.updateAnimation(progress);\n    if(isFinish&&typeof this.onComplete===\"function\")this.onComplete();\n    return isFinish;\n  }\n\n  protected updateAnimation(progress:number):void\n  {\n\n  }\n}\n\nexport=AnimaterBase;\n","import AnimagterBase = require(\"./AnimaterBase\");\nimport Color3 = require(\"../../Base/Color/Color3\");\nclass Color3Animater extends AnimagterBase\n{\n\n  protected updateAnimation(progress:number):void\n  {\n    var b=<Color3>this.beginValue;\n    var e=<Color3>this.endValue;\n    var ef=this.easingFunction.Ease;\n    this.targetAttribute.Value=new Color3(ef(b.R,e.R,progress),ef(b.G,e.G,progress),ef(b.B,e.B,progress));\n  }\n}\n\nexport=Color3Animater;\n","import AnimagterBase = require(\"./AnimaterBase\");\nimport Color4 = require(\"../../Base/Color/Color4\");\nclass Color4Animater extends AnimagterBase\n{\n\n  protected updateAnimation(progress:number):void\n  {\n    var b=<Color4>this.beginValue;\n    var e=<Color4>this.endValue;\n    var ef=this.easingFunction.Ease;\n    this.targetAttribute.Value=new Color4(ef(b.R,e.R,progress),ef(b.G,e.G,progress),ef(b.B,e.B,progress),ef(b.A,b.A,progress));\n  }\n}\n\nexport=Color4Animater;\n","import AnimagterBase = require(\"./AnimaterBase\");\n\nclass IntegerAnimater extends AnimagterBase\n{\n\n  protected updateAnimation(progress:number):void\n  {\n    var b=<number>this.beginValue;\n    var e=<number>this.endValue;\n    var ef=this.easingFunction.Ease;\n    var val=Math.floor(ef(b,e,progress));\n    if(this.targetAttribute.Value!==val)\n      this.targetAttribute.Value = val;\n  }\n}\n\nexport=IntegerAnimater;\n","import AnimagterBase = require(\"./AnimaterBase\");\nclass NumberAnimater extends AnimagterBase\n{\n\n  protected updateAnimation(progress:number):void\n  {\n    this.targetAttribute.Value=this.easingFunction.Ease(this.beginValue,this.endValue,progress);\n  }\n}\n\nexport=NumberAnimater;\n","import AnimagterBase = require(\"./AnimaterBase\");\nimport Quaternion = require(\"../../Math/Quaternion\");\nclass RotationAnimater extends AnimagterBase\n{\n\n  protected updateAnimation(progress:number):void\n  {\n    var b=<Quaternion>this.beginValue;\n    var e=<Quaternion>this.endValue;\n    var ef=this.easingFunction.Ease;\n    this.targetAttribute.Value=Quaternion.Slerp(b,e,ef(0,1,progress));\n  }\n}\n\nexport=RotationAnimater;\n","import AnimagterBase = require(\"./AnimaterBase\");\nimport Vector3 = require(\"../../Math/Vector3\");\nclass Vector3Animater extends AnimagterBase\n{\n\n  protected updateAnimation(progress:number):void\n  {\n    var b=<Vector3>this.beginValue;\n    var e=<Vector3>this.endValue;\n    var ef=this.easingFunction.Ease;\n    this.targetAttribute.Value=new Vector3(ef(b.X,e.X,progress),ef(b.Y,e.Y,progress),ef(b.Z,e.Z,progress));\n    console.log(this.targetAttribute.Value.Z);\n  }\n}\n\nexport=Vector3Animater;\n","import JThreeObject = require(\"../Base/JThreeObject\");\nimport JThreeCollection = require(\"../Base/JThreeCollection\");\nimport GomlAttribute = require(\"./GomlAttribute\");\nimport Delegates = require(\"../Base/Delegates\");\nimport EasingFunctionBase = require(\"./Easing/EasingFunctionBase\");\nimport GomlTreeNodeBase = require('./GomlTreeNodeBase');\nimport AttributeDeclaration = require('./AttributeDeclaration');\n\n/**\n * The class managing attributes of a node.\n */\nclass AttributeDictionary extends JThreeObject {\n\n  /**\n   * @param {node} the node this attribute dictionary has.\n   * @param {element} the element bound to this node.\n   */\n  constructor(node: GomlTreeNodeBase, element: HTMLElement) {\n    super();\n    this.element = element;\n    this.node = node;\n  }\n\n  private node: GomlTreeNodeBase;\n\n  private element: HTMLElement;\n\n  private attributes: JThreeCollection<GomlAttribute> = new JThreeCollection<GomlAttribute>();\n\n  public getValue(attrName: string): any {\n    var attr = this.attributes.getById(attrName);\n    if (attr == null) console.warn(`attribute \\\"${attrName}\\\" is not found.`);\n    else\n      return attr.Converter.FromInterface(attr.Value);\n  }\n\n  public setValue(attrName: string, value: any, needUpdate: boolean = true): void\n  {\n    var attr = this.attributes.getById(attrName);\n    if (attr == null) console.warn(`attribute \\\"${attrName}\\\" is not found.`);\n    else\n    {\n        if (attr.Constant) {\n            console.error(`attribute: ${attrName} is constant attribute`);\n            return;\n        }\n      var cacheNotifyConfigure = attr.NeedNotifyUpdate;\n      attr.NeedNotifyUpdate = needUpdate;\n      attr.Value = value;\n      attr.NeedNotifyUpdate = cacheNotifyConfigure;\n    }\n  }\n\n  public getAttribute(attrName:string):GomlAttribute\n  {\n    return this.attributes.getById(attrName);\n  }\n\n  public getAnimater(attrName: string, beginTime: number, duration: number, beginVal: any, endVal: any, easing: EasingFunctionBase, onComplete?: Delegates.Action0) {\n    var attr = this.attributes.getById(attrName);\n    if (attr == null) console.warn(`attribute \\\"${attrName}\\\" is not found.`);\n    else\n      return attr.Converter.GetAnimater(attr, beginVal, endVal, beginTime, duration, easing, onComplete);\n  }\n\n  /**\n   * Check the attribute passed is defined or not.\n   */\n  public isDefined(attrName: string): boolean {\n    return this.attributes.getById(attrName) != null;\n  }\n\n  /**\n   * Define attributes to the node.\n   */\n  public defineAttribute(attributes: AttributeDeclaration) {\n    for (var key in attributes) {\n      var attribute = attributes[key];\n      this.attributes.insert(new GomlAttribute(this.node, this.element, key, attribute.value, this.node.nodeManager.configurator.getConverter(attribute.converter), attribute.handler,attribute.constant));\n    }\n  }\n\n  /**\n   * Apply default values to all attributes.\n   */\n  public applyDefaultValue() {\n    this.attributes.each(v=> {\n      if (typeof v.Value !== 'undefined') v.notifyValueChanged();\n    });\n  }\n\n  public updateValue(attrName?: string) {\n    if (typeof attrName === 'undefined') {\n      this.attributes.each(v=> {\n        v.notifyValueChanged();\n      });\n    } else {\n      var target = this.attributes.getById(attrName);\n      target.notifyValueChanged();\n    }\n  }\n}\n\nexport =AttributeDictionary;\n","import jThreeObject = require(\"../Base/JThreeObject\");\nimport Quaternion = require(\"../Math/Quaternion\");\nimport Vector3 = require(\"../Math/Vector3\");\n/**\n * Utility class to parse the arguments of attributes.\n */\nclass AttributeParser extends jThreeObject\n{\n    /**\n     * Parse angle strings.\n     * \"p\" means Pi. Ex) 3/4 p\n     * \"d\" means degree. if this unit was specified, the argument will be parsed as degree. Ex) 90d\n     * @param input the string to parse.\n     * @returns {number} parsed angle in radians. \n     */\n  public static ParseAngle(input:string):number\n  {\n    if(input.match(/^p$/))return Math.PI;\n    var isDegree=input.match(/[0-9E/\\(\\)\\.-]+d$/);\n    var needPiMultiply=input.match(/[0-9E/\\(\\)\\.-]+p/);\n    //http://regexper.com/#%2F%5E%5B0-9E%2F%5C(%5C)%5C.-%5D%2Bp%3Fd%3F%24%2F\n    var replaced=input.replace(/^([0-9E/\\(\\)\\.-]+)p?d?$/,\"$1\");\n    var evalued=eval(replaced);\n    if(isDegree!=null)\n    {\n      evalued*=2*Math.PI/360;\n    }\n    if(needPiMultiply!=null)\n    {\n      evalued*=Math.PI;\n    }\n    return evalued;\n  }\n\n    /**\n     * Parse angle string in 3D.\n     * \"p\" means Pi. Ex) 3/4 p\n     * \"d\" means degree. if this unit was specified, the argument will be parsed as degree. Ex) 90d\n     * \"eular(x,y,z)\" means rotation in eular. This means Z-X-Y rotation like Unity.\n     * \"axis(angle,x,y,z)\" means rotation around specified axis. This means angle radians will be rotated around the axis (x,y,z).\n     * This angle can be specified with the character \"p\" or \"d\".\n     * \"x(angle)\",\"y(angle)\" or \"z(angle)\" means rotation around unit axis.\n     * This angle can be specified with the character \"p\" or \"d\". \n     * @param input the string to be parsed as angle in 3D.\n     * @returns {Quaternion} parsed rotation in Quaternion. \n     */\n  public static ParseRotation3D(input:string):Quaternion\n  {\n    input = input.replace(/\\s/g, \"\")\n    if(input.match(/^[xyz]\\(.+\\)$/))\n    {\n      var signature=input.replace(/^([xyz])\\(.+\\)$/,\"$1\");\n      var value=input.replace(/^[xyz]\\((.+)\\)$/,\"$1\");\n      var angle=AttributeParser.ParseAngle(value);\n      if(signature==\"x\")\n      {\n        return Quaternion.AngleAxis(angle,Vector3.XUnit);\n      }else if(signature==\"y\")\n      {\n        return Quaternion.AngleAxis(angle,Vector3.YUnit);\n      }else\n      {\n        return Quaternion.AngleAxis(angle,Vector3.ZUnit);\n      }\n    }else if(input.match(/^euler\\([0-9E/\\(\\)\\.-]+p?d?,[0-9E/\\(\\)\\.-]+p?d?,[0-9E/\\(\\)\\.-]+p?d?\\)$/))\n    {\n      var angles=input.replace(/^euler\\(([0-9E/\\(\\)\\.-]+p?d?),([0-9E/\\(\\)\\.-]+p?d?),([0-9E/\\(\\)\\.-]+p?d?)\\)$/,\"$1,$2,$3\");\n      var splitted=angles.split(/,/);\n      return Quaternion.Euler(AttributeParser.ParseAngle(splitted[0]),AttributeParser.ParseAngle(splitted[1]),AttributeParser.ParseAngle(splitted[2]));\n    }else if(input.match(/^axis\\([0-9E/\\(\\)\\.-]+p?d?,[\\d\\.]+,[\\d\\.]+,[\\d\\.]\\)$/))\n    {\n      var angles=input.replace(/^axis\\(([0-9E/\\(\\)\\.-]+p?d?),([\\d\\.]+),([\\d\\.]+),([\\d\\.]+)\\)$/,\"$1,$2,$3,$4\");\n      var splitted=angles.split(/,/);\n      return Quaternion.AngleAxis(AttributeParser.ParseAngle(splitted[0]),new Vector3(parseFloat(splitted[1]),parseFloat(splitted[2]),parseFloat(splitted[3])));\n    }\n    return null;\n  }\n}\n\nexport=AttributeParser;\n","import JThreeObject = require('../../Base/JThreeObject');\nimport AssociativeArray = require('../../Base/Collections/AssociativeArray');\nimport BehaviorDeclaration = require('./BehaviorDeclaration');\nimport BehaviorDeclarationBody = require('./BehaviorDeclarationBody');\nimport Delegates = require(\"../../Base/Delegates\");\n/**\n* Provides feature to register behavior.\n*/\nclass BehaviorRegistry extends JThreeObject\n{\n  constructor()\n  {\n    super();\n  }\n  \n  private behaviorInstances: AssociativeArray<BehaviorDeclarationBody> = new AssociativeArray<BehaviorDeclarationBody>();\n\n  public defineBehavior(behaviorName: string, behaviorDeclaration: BehaviorDeclarationBody|Delegates.Action0);\n  public defineBehavior(behaviorDeclarations:BehaviorDeclaration);\n  public defineBehavior(nameOrDeclarations: string|BehaviorDeclaration, behaviorDeclaration?: BehaviorDeclarationBody|Delegates.Action0)\n  {\n      if (typeof nameOrDeclarations === \"string\") {\n          var behaviorName = <string>nameOrDeclarations;\n          this.behaviorInstances.set(behaviorName, this.generateBehaviorInstance(behaviorDeclaration));\n      } else\n      {\n          //assume arguments are object.\n          var behaviorDeclarations = <BehaviorDeclaration>nameOrDeclarations;\n          for (var behaviorKey in behaviorDeclarations) {\n              this.behaviorInstances.set(behaviorKey, this.generateBehaviorInstance(behaviorDeclarations[behaviorKey]));\n          }\n      }\n  }\n\n  public getBehavior(behaviorName:string):BehaviorDeclarationBody\n  {\n    return this.behaviorInstances.get(behaviorName);\n  }\n\n  private generateBehaviorInstance(behaviorDecl:BehaviorDeclarationBody|Delegates.Action0):BehaviorDeclarationBody {\n      if (typeof behaviorDecl === \"function\") {\n          //Assume generation seed is constructor of behavior\n          return <BehaviorDeclarationBody>(new (<Delegates.Action0>behaviorDecl)());\n      } else {\n          return this.copyObject(behaviorDecl);\n      }\n  }\n    /**\n     * Generate reference copy\n     * @param targetObject the object you want to copy \n     * @returns {} \n     */\n  private copyObject(targetObject:any) {\n      if (typeof targetObject === \"object\") {\n          var newObject = {};\n          for (var key in targetObject) {\n              if (targetObject.hasOwnProperty(key)) {\n                  var property = targetObject[key];\n                  newObject[key] = this.copyObject(property);\n              }\n          }\n          return newObject;\n      } else {\n          return targetObject;\n      }\n  }\n}\n\nexport = BehaviorRegistry;\n","import JThreeObject = require('../../Base/JThreeObject');\nimport JThreeCollection = require('../../Base/JThreeCollection');\nimport BehaviorNode = require(\"../Nodes/Behaviors/BehaviorNode\");\nimport GomlTreeNodeBase = require(\"../GomlTreeNodeBase\");\nimport JThreeObjectWithID = require('../../Base/JThreeObjectWithID');\n/**\n * container class for storeing BehaviorNode and TargetNode\n */\nclass BehaviorNodePair extends JThreeObjectWithID\n{\n\t/**\n\t * BehaviortNode contain the arguments of behavior.\n\t */\n\tprivate behavior:BehaviorNode;\n\n\t/**\n\t * TargetNode contain the ComponentNode\n\t */\n\tprivate targetNode:GomlTreeNodeBase;\n\n\tconstructor(behavior:BehaviorNode,target:GomlTreeNodeBase)\n\t{\n\t\tsuper(behavior.ID);\n\t\tthis.behavior=behavior;\n\t\tthis.targetNode=target;\n\t}\n\t/**\n\t * getter for component node\n\t */\n\tpublic get Behavior():BehaviorNode\n\t{\n\t\treturn this.behavior;\n\t}\n\t/**\n\t * getter for target node\n\t */\n\tpublic get Target():GomlTreeNodeBase\n\t{\n\t\treturn this.targetNode;\n\t}\n}\n\nclass BehaviorRunner extends JThreeObject\n{\n\tprivate dictionary:JThreeCollection<BehaviorNodePair> = new JThreeCollection<BehaviorNodePair>();\n\n\tprivate sortedBehavior:BehaviorNodePair[] = [];\n\n\tprivate sortBehaviors()\n\t{\n\t\tthis.sortedBehavior.sort((v1,v2)=>v1.Behavior.order-v2.Behavior.order);\n\t}\n\n\tpublic addBehavior(node:BehaviorNode,target:GomlTreeNodeBase)\n\t{\n\t\tvar componentPair =new BehaviorNodePair(node,target);\n\t\tthis.dictionary.insert(componentPair);\n\t\tthis.sortedBehavior.push(componentPair);\n\t\tthis.sortBehaviors();\n\t\tif(!node.awaken)node.awake.call(node,target);\n\n\t}\n\n\tpublic executeForAllBehaviors(behaviorName:string) {\n\t    this.sortedBehavior.forEach(v => {\n\t        if (v.Behavior.enabled) {\n\t            v.Behavior[behaviorName](v.Target);\n\t        }\n\t    });\n\t}\n}\nexport = BehaviorRunner;\n","import Exceptions = require(\"../../Exceptions\");\nimport AttributeParser = require(\"../AttributeParser\");\nimport AttributeConverterBase = require(\"./AttributeConverterBase\");\nclass AngleAttributeConverter extends AttributeConverterBase\n{\n  constructor()\n  {\n    super();\n  }\n\n  public ToAttribute(val:any):string\n  {\n    return val;\n  }\n\n  public FromAttribute(attr:string):any\n  {\n    return AttributeParser.ParseAngle(attr);\n  }\n\n  public FromInterface(val:any):any\n  {\n    if(typeof val === 'string')\n    {\n      return this.FromAttribute(val);\n    }else if(typeof val === 'number')\n    {\n      return val;\n    }\n    //we should implememnt something here?\n    throw new Exceptions.InvalidArgumentException(\"val can't parse\");\n  }\n}\n\nexport=AngleAttributeConverter;\n","import JThreeObject = require(\"../../Base/JThreeObject\");\nimport Exceptions = require(\"../../Exceptions\");\nimport AnimaterBase = require(\"../Animater/AnimaterBase\");\nimport GomlAttribute = require(\"../GomlAttribute\");\nimport EasingFunctionBase = require(\"../Easing/EasingFunctionBase\");\nimport Delegates = require(\"../../Base/Delegates\");\nclass AttributeConverterBase extends JThreeObject\n{\n  constructor()\n  {\n    super();\n  }\n\n  public ToAttribute(val:any):string\n  {\n    throw new Exceptions.AbstractClassMethodCalledException();\n  }\n\n  public FromAttribute(attr:string):any\n  {\n    throw new Exceptions.AbstractClassMethodCalledException();\n  }\n\n  public FromInterface(val:any):any\n  {\n    throw new Exceptions.AbstractClassMethodCalledException();\n  }\n\n  public GetAnimater(attr:GomlAttribute,beginVal:any,endVal:any,beginTime:number,duration:number,easing:EasingFunctionBase,onComplete?:Delegates.Action0):AnimaterBase\n  {\n    throw new Exceptions.AbstractClassMethodCalledException();\n  }\n}\n\nexport=AttributeConverterBase;\n","import AttributeConverterBase = require(\"./AttributeConverterBase\");\nclass BooleanAttributeConverter extends AttributeConverterBase\n{\n  constructor()\n  {\n    super();\n  }\n\n  public ToAttribute(val:any):string\n  {\n    return val;\n  }\n\n  public FromAttribute(attr:string):any\n  {\n    return attr === 'true';\n  }\n\n  public FromInterface(val:any):any\n  {\n    if(typeof val === 'boolean')return val;\n    return this.FromAttribute(val);\n  }\n}\n\nexport=BooleanAttributeConverter;\n","import AttributeConverterBase = require(\"./AttributeConverterBase\");\nimport Exceptions = require(\"../../Exceptions\");\nimport GomlAttribute = require(\"../GomlAttribute\");\nimport Delegates = require(\"../../Base/Delegates\");\nimport EasingFunctionBase = require(\"../Easing/EasingFunctionBase\");\nimport AnimaterBase = require(\"../Animater/AnimaterBase\");\nimport Color3 = require(\"../../Base/Color/Color3\");\nimport Color3Animater = require(\"../Animater/Color3Animater\");\nclass Color3AttributeConverter extends AttributeConverterBase\n{\n  constructor()\n  {\n    super();\n  }\n\n  public ToAttribute(val:any):string\n  {\n    return val;\n  }\n\n  public FromAttribute(attr:string):any\n  {\n    return Color3.parseColor(attr);\n  }\n\n  public FromInterface(val:any):any\n  {\n    if(typeof val === 'string')\n    {\n      return Color3.parseColor(val);\n    }else if(typeof val === 'object')\n    {\n      return val;\n    }\n    //we should implememnt something here?\n    throw new Exceptions.InvalidArgumentException(\"val can't parse\");\n  }\n\n  public GetAnimater(attr:GomlAttribute,beginVal:any,endVal:any,beginTime:number,duration:number,easing:EasingFunctionBase,onComplete?:Delegates.Action0):AnimaterBase\n  {\n    return new Color3Animater(attr,beginTime,duration,beginVal,endVal,easing,onComplete);\n  }\n}\n\nexport=Color3AttributeConverter;\n","import AttributeConverterBase = require(\"./AttributeConverterBase\");\nimport Exceptions = require(\"../../Exceptions\");\nimport GomlAttribute = require(\"../GomlAttribute\");\nimport Delegates = require(\"../../Base/Delegates\");\nimport EasingFunctionBase = require(\"../Easing/EasingFunctionBase\");\nimport AnimaterBase = require(\"../Animater/AnimaterBase\");\nimport Color4 = require(\"../../Base/Color/Color4\");\nimport Color4Animater = require(\"../Animater/Color4Animater\");\nclass Color4AttributeConverter extends AttributeConverterBase\n{\n  constructor()\n  {\n    super();\n  }\n\n  public ToAttribute(val:any):string\n  {\n    return val;\n  }\n\n  public FromAttribute(attr:string):any\n  {\n    return Color4.parseColor(attr);\n  }\n\n  public FromInterface(val:any):any\n  {\n    if(typeof val === 'string')\n    {\n      return Color4.parseColor(val);\n    }else if(typeof val === 'object')\n    {\n      return val;\n    }\n    //we should implememnt something here?\n    throw new Exceptions.InvalidArgumentException(\"val can't parse\");\n  }\n\n  public GetAnimater(attr:GomlAttribute,beginVal:any,endVal:any,beginTime:number,duration:number,easing:EasingFunctionBase,onComplete?:Delegates.Action0):AnimaterBase\n  {\n    return new Color4Animater(attr,beginTime,duration,beginVal,endVal,easing,onComplete);\n  }\n}\n\nexport=Color4AttributeConverter;\n","import AttributeConverterBase = require(\"./AttributeConverterBase\");\nimport IntegerAnimater = require('../Animater/IntegerAnimater');\nimport GomlAttribute = require('../GomlAttribute');\nimport EasingFunctionBase = require('../Easing/EasingFunctionBase');\nimport Delegates = require('../../Base/Delegates');\nimport AnimaterBase = require('../Animater/AnimaterBase');\nclass IntegerAttributeConverter extends AttributeConverterBase\n{\n  constructor()\n  {\n    super();\n  }\n\n  public ToAttribute(val:any):string\n  {\n    return val;\n  }\n\n  public FromAttribute(attr:string):any\n  {\n    return parseInt(attr);\n  }\n\n  public FromInterface(val:any):any\n  {\n    if(typeof val ==='number')\n    {\n      return Math.floor(<number>val);\n    }else if(typeof val === 'string')\n    {\n      return Math.floor(this.FromAttribute(val));\n    }\n  }\n\n  public GetAnimater(attr:GomlAttribute,beginVal:any,endVal:any,beginTime:number,duration:number,easing:EasingFunctionBase,onComplete?:Delegates.Action0):AnimaterBase\n  {\n    return new IntegerAnimater(attr,beginTime,duration,beginVal,endVal,easing,onComplete);\n  }\n}\n\nexport=IntegerAttributeConverter;\n","import AttributeConverterBase = require(\"./AttributeConverterBase\");\nimport Exceptions = require(\"../../Exceptions\");\nimport GomlAttribute = require(\"../GomlAttribute\");\nimport Delegates = require(\"../../Base/Delegates\");\nimport EasingFunctionBase = require(\"../Easing/EasingFunctionBase\");\nimport AnimaterBase = require(\"../Animater/AnimaterBase\");\nimport NumberAnimater = require(\"../Animater/NumberAnimater\");\nclass NumberAttributeConverter extends AttributeConverterBase\n{\n  constructor()\n  {\n    super();\n  }\n\n  public ToAttribute(val:any):string\n  {\n    return val;\n  }\n\n  public FromAttribute(attr:string):any\n  {\n    return Number(attr);\n  }\n\n  public FromInterface(val:any):any\n  {\n    if(typeof val === 'string')\n    {\n      return Number(val);\n    }else if(typeof val === 'number')\n    {\n      return val;\n    }\n    //we should implememnt something here?\n    throw new Exceptions.InvalidArgumentException(\"val can't parse\");\n  }\n\n  public GetAnimater(attr:GomlAttribute,beginVal:any,endVal:any,beginTime:number,duration:number,easing:EasingFunctionBase,onComplete?:Delegates.Action0):AnimaterBase\n  {\n    return new NumberAnimater(attr,beginTime,duration,beginVal,endVal,easing,onComplete);\n  }\n}\n\nexport=NumberAttributeConverter;\n","import JThreeObject = require(\"../../Base/JThreeObject\");\nimport Exceptions = require(\"../../Exceptions\");\nimport AttributeParser = require(\"../AttributeParser\");\nimport RotationAnimater = require(\"../Animater/RotationAnimater\");\nimport GomlAttribute = require(\"../GomlAttribute\");\nimport EasingFunctionBase = require(\"../Easing/EasingFunctionBase\");\nimport Delegates = require(\"../../Base/Delegates\");\nimport AnimaterBase = require(\"../Animater/AnimaterBase\");\n\nclass RotationAttributeConverter extends JThreeObject\n{\n  constructor()\n  {\n    super();\n  }\n\n  public ToAttribute(val:any):string\n  {\n    return val;\n  }\n\n  public FromAttribute(attr:string):any\n  {\n    return AttributeParser.ParseRotation3D(attr);\n  }\n\n  public FromInterface(val:any):any\n  {\n    if(typeof val === 'string')\n    {\n      return this.FromAttribute(val);\n    }else if(typeof val === 'object')\n    {\n      return val;\n    }\n    //we should implememnt something here?\n    throw new Exceptions.InvalidArgumentException(\"val can't parse\");\n  }\n\n  public GetAnimater(attr:GomlAttribute,beginVal:any,endVal:any,beginTime:number,duration:number,easing:EasingFunctionBase,onComplete?:Delegates.Action0):AnimaterBase\n  {\n    return new RotationAnimater(attr,beginTime,duration,beginVal,endVal,easing,onComplete);\n  }\n}\n\nexport=RotationAttributeConverter;\n","import Exceptions = require(\"../../Exceptions\");\nimport AttributeConverterBase = require(\"./AttributeConverterBase\");\nclass StringAttributeConverter extends AttributeConverterBase\n{\n  constructor()\n  {\n    super();\n  }\n\n  public ToAttribute(val:any):string\n  {\n    return val;\n  }\n\n  public FromAttribute(attr:string):any\n  {\n    return attr;\n  }\n\n  public FromInterface(val:any):any\n  {\n    if(typeof val === 'string')\n    {\n      return this.FromAttribute(val);\n    } else if (typeof val === \"undefined\") {\n        return \"\";\n    } else if (val === null) {\n        return null;\n    }\n    //we should implememnt something here?\n    throw new Exceptions.InvalidArgumentException(\"val can't parse\");\n  }\n}\n\nexport=StringAttributeConverter;\n","import AttributeConverterBase = require(\"./AttributeConverterBase\");\nimport Exceptions = require(\"../../Exceptions\");\nimport GomlAttribute = require(\"../GomlAttribute\");\nimport Delegates = require(\"../../Base/Delegates\");\nimport EasingFunctionBase = require(\"../Easing/EasingFunctionBase\");\nimport AnimaterBase = require(\"../Animater/AnimaterBase\");\nimport Vector3 = require(\"../../Math/Vector3\");\nimport Vector3Animater = require(\"../Animater/Vector3Animater\");\nclass Vector3AttributeConverter extends AttributeConverterBase\n{\n  constructor()\n  {\n    super();\n  }\n\n  public ToAttribute(val:any):string\n  {\n    return val;\n  }\n\n  public FromAttribute(attr:string):any\n  {\n    return Vector3.parse(attr);\n  }\n\n  public FromInterface(val:any):any\n  {\n    if(typeof val === 'string')\n    {\n      return Vector3.parse(val);\n    }else if(typeof val === 'object')\n    {\n      return val;\n    }\n    //we should implememnt something here?\n    throw new Exceptions.InvalidArgumentException(\"val can't parse\");\n  }\n\n  public GetAnimater(attr:GomlAttribute,beginVal:any,endVal:any,beginTime:number,duration:number,easing:EasingFunctionBase,onComplete?:Delegates.Action0):AnimaterBase\n  {\n    return new Vector3Animater(attr,beginTime,duration,beginVal,endVal,easing,onComplete);\n  }\n}\n\nexport=Vector3AttributeConverter;\n","import JThreeObject = require(\"../../Base/JThreeObject\");\n\nclass EasingFunctionBase extends JThreeObject\n{\n  public Ease(begin:number,end:number,progress:number):number\n  {\n    return null;\n  }\n}\n\nexport=EasingFunctionBase;\n","import EasingFunctionBase = require(\"./EasingFunctionBase\");\nclass LinearEasingFunction extends EasingFunctionBase\n{\n  public Ease(begin:number,end:number,progress:number):number\n  {\n    return begin+(end-begin)*progress;\n  }\n}\n\nexport=LinearEasingFunction;\n","import EasingFunctionBase = require(\"./EasingFunctionBase\");\nclass SwingEasingFunction extends EasingFunctionBase\n{\n  public Ease(begin:number,end:number,progress:number):number\n  {\n    var p=0.5 -Math.cos(progress*Math.PI)/2;\n    return begin+(end-begin)*p;\n  }\n}\n\nexport=SwingEasingFunction;\n","declare function require(string):any ;\n/**\n * Easing function classes constructors is listed below.\n * If you extend this hash, the user can use new easing functions.\n * Each easing function class must extends EasingFunctionBase class.\n */\nvar easingFunction={\n  \"linear\":require(\"./Easing/LinearEasingFunction\"),\n  \"swing\":require(\"./Easing/SwingEasingFunction\")\n};\nexport=easingFunction;\n","import TagFactory = require(\"./TagFactory\");\nimport GomlTreeNodeBase = require(\"../GomlTreeNodeBase\");\nimport BehaviorsNode = require(\"../Nodes/Behaviors/BehaviorsNode\");\n/**\n* Goml tree node factory for the node extending SceneObjectNodeBase\n*/\nclass ComponentTagFactory extends TagFactory\n{\n    public CreateNodeForThis(elem: Element,parent:GomlTreeNodeBase): GomlTreeNodeBase {\n    if(parent.getTypeName()===\"BehaviorsNode\")\n    {\n      var castedParent=<BehaviorsNode>parent;\n      return new this.nodeType(elem,parent,castedParent.ComponentTarget);\n    }\n  }\n}\n\nexport=ComponentTagFactory;\n","import TagFactory = require(\"./TagFactory\");\n\n\nclass ChildrenParseSkipFactory extends TagFactory\n{\n  public get NoNeedParseChildren()\n  {\n    return true;\n  }\n}\n\nexport=ChildrenParseSkipFactory;\n","import TagFactory = require(\"./TagFactory\");\nimport GomlTreeNodeBase = require(\"../GomlTreeNodeBase\");\nimport SceneNode = require(\"../Nodes/SceneNode\");\nimport SceneObjectNodeBase = require(\"../Nodes/SceneObjects/SceneObjectNodeBase\"); /**\n* Goml tree node factory for the node extending SceneObjectNodeBase\n*/\nclass SceneObjectTagFactory extends TagFactory\n{\n    public CreateNodeForThis(elem: Element,parent:GomlTreeNodeBase): GomlTreeNodeBase {\n    var sceneNode:SceneNode=null;\n    var sceneObjectNode:SceneObjectNodeBase=null;\n    if(parent.getTypeName()==\"SceneNode\")//This parent node is scene node. TODO: I wonder there is better way\n    {\n      sceneNode=<SceneNode>parent;\n      sceneObjectNode=null;\n    }else{\n      if(typeof parent[\"ContainedSceneNode\"]===\"undefined\")\n      {//check parent extends SceneObjectNodeBase or not.\n        console.error(`${parent.toString()} is not extends SceneObjectNodeBase. Is this really ok to be contained in Scene tag?`);\n        return null;\n      }else\n      {\n        sceneObjectNode=<SceneObjectNodeBase>parent;\n        sceneNode=sceneObjectNode.ContainedSceneNode;\n      }\n    }\n    return this.CreateSceneObjectNodeForThis(elem,parent,sceneNode,sceneObjectNode);\n  }\n\n    public CreateSceneObjectNodeForThis(elem: Element, parent:GomlTreeNodeBase,containedSceneNode:SceneNode,parentSceneObjectNode:SceneObjectNodeBase):SceneObjectNodeBase\n  {\n    return new this.nodeType(elem,parent,containedSceneNode,parentSceneObjectNode);\n  }\n\n}\n\nexport=SceneObjectTagFactory;\n","import GomlTreeNodeBase = require(\"../GomlTreeNodeBase\");\nimport jThreeObject = require(\"../../Base/JThreeObject\");\nimport JThreeContext = require(\"../../JThreeContext\");\nimport NodeManager = require('./../NodeManager');\nimport ContextComponents = require('../../ContextComponents');\n\nclass TagFactory extends jThreeObject {\n    constructor(tagName:string,nodeType:any)\n    {\n      super();\n      this.tagName=tagName;\n      this.nodeType=nodeType;\n      this.nodeManager = JThreeContext.getContextComponent<NodeManager>(ContextComponents.NodeManager)\n    }\n\n    private nodeManager: NodeManager;\n\n    protected tagName:string;\n\n    protected nodeType:any;\n\n    public get TagName(): string {\n        return this.tagName;\n    }\n\n    public get NoNeedParseChildren():boolean\n    {\n        return false;\n    }\n\n    public CreateNodeForThis(elem: HTMLElement, parent: GomlTreeNodeBase): GomlTreeNodeBase {\n        return new this.nodeType(elem,parent);\n    }\n\n    protected getTag(name:string): TagFactory {\n        return this.nodeManager.configurator.getGomlTagFactory(name);\n    }\n}\n\nexport=TagFactory;\n","import JThreeObjectWithID = require(\"../Base/JThreeObjectWithID\");\nimport AttributeConverterBase = require(\"./Converter/AttributeConverterBase\");\nimport Delegates = require(\"../Base/Delegates\");\nimport GomlTreeNodeBase = require('./GomlTreeNodeBase');\nimport JThreeEvent = require('../Base/JThreeEvent');\n/**\n * Provides the feature to manage attribute of GOML.\n */\nclass GomlAttribute extends JThreeObjectWithID\n{\n    /**\n     * Reference to HTMLElement that whose attribute is managed by this class.\n     */\n    protected element: HTMLElement;\n    /**\n     * Whether this attribute was cached already or not.\n     */\n    protected cached: boolean = false;\n    /**\n     * The cache value for attribute.\n     * If this.cached was false, this value can be undefined.\n     */\n    protected value: any = undefined;\n    /**\n     * Reference to converter class that will manage to parse,cast to string and animation.\n     */\n    protected converter: AttributeConverterBase;\n    /**\n     * Event managing class reference for the event that will fire when attribute value was changed.\n     */\n    protected onchangedHandlers: JThreeEvent<GomlAttribute> = new JThreeEvent<GomlAttribute>();\n    /**\n     * Reference to GomlTreeNodeBase that contains this attribute.\n     */\n    protected managedClass: GomlTreeNodeBase;\n    /**\n     * Whether it is need or not when update.\n     */\n    private needNotifyUpdate: boolean = true;\n\n    protected constant:boolean;\n\n    public get NeedNotifyUpdate()\n    {\n        return this.needNotifyUpdate;\n    }\n\n    public set NeedNotifyUpdate(val: boolean)\n    {\n        this.needNotifyUpdate = val;\n    }\n\n    constructor(node: GomlTreeNodeBase, element: HTMLElement, name: string, value: any, converter: AttributeConverterBase, handler?: Delegates.Action1<GomlAttribute>,constant?:boolean)\n    {\n        super(name);\n        if (typeof constant === \"undefined\") constant = false;\n        this.constant = constant;\n        this.element = element;\n        this.converter = converter;\n        this.value = converter.FromInterface(value);\n        this.managedClass = node;\n        if (handler) this.onchangedHandlers.addListener(handler);\n    }\n\n    public get Name(): string\n    {\n        return this.ID;\n    }\n\n    public get Value(): any\n    {\n        if (this.cached)\n        {\n            return this.value;\n        } else\n        {\n            var attr = this.element.getAttribute(this.Name);\n            if (attr)\n            {//if attribute was specified, cache this attribute.\n                this.value = this.Converter.FromAttribute(this.element.getAttribute(this.Name));\n                this.cached = true;\n            }//if attribute was not specified, it will return default value of this attribute.\n            return this.value;\n        }\n    }\n\n    public get Constant(): boolean {\n        return this.constant;\n    }\n\n    public set Value(val: any) {\n        if (this.Constant)return;\n        this.value = this.Converter.FromInterface(val);\n        this.element.setAttribute(this.Name, this.Converter.ToAttribute(val));\n        this.cached = true;\n        if (this.NeedNotifyUpdate) this.notifyValueChanged();\n    }\n\n    public get Converter(): AttributeConverterBase\n    {\n        return this.converter;\n    }\n\n    public notifyValueChanged()\n    {\n        if (this.Constant) return;\n        this.onchangedHandlers.fire(this, this);\n    }\n\n    public onValueChanged(handler: Delegates.Action1<GomlAttribute>)\n    {\n        this.onchangedHandlers.addListener(handler);\n    }\n}\n\nexport =GomlAttribute;\n","import TagFactory = require(\"./Factories/TagFactory\");\nimport GomlNodeListElement = require(\"./GomlNodeListElement\");\nimport JThreeObject = require(\"../Base/JThreeObject\");\nimport EasingFunction = require(\"./Easing/EasingFunctionBase\");\nimport AssociativeArray = require(\"../Base/Collections/AssociativeArray\");\nimport AttributeConvrterBase = require(\"./Converter/AttributeConverterBase\");\ndeclare function require(string): any;\n/**\n * Provides configurations that will be used when parse GOML.\n * These properties is intended to be used for extending by plugin feature.\n */\nclass GomlConfigurator extends JThreeObject\n{\n    /**\n     * List of easing function to indicate how animation will be.\n     */\n    private easingFunctions: AssociativeArray<EasingFunction> = new AssociativeArray<EasingFunction>();\n    /**\n     * List of converter function classes.\n     */\n    private converters: AssociativeArray<AttributeConvrterBase> = new AssociativeArray<AttributeConvrterBase>();\n    /**\n     * All list of goml tags that will be parsed and instanciated when parse GOML.\n     */\n    private gomlTagFactories: AssociativeArray<TagFactory> = new AssociativeArray<TagFactory>();\n\n    public getConverter(name: string): AttributeConvrterBase\n    {\n        return this.converters.get(name);\n    }\n\n    public getEasingFunction(name: string): EasingFunction\n    {\n        return this.easingFunctions.get(name);\n    }\n\n    public getGomlTagFactory(tagName: string): TagFactory\n    {\n        return this.gomlTagFactories.get(tagName);\n    }\n\n    constructor()\n    {\n        super();\n        this.initializeEasingFunctions();\n        this.initializeConverters();\n        this.initializeGomlTags();\n    }\n\n    /*\n    * Initialize associative array for easing functions that will be used for animation in goml.\n    */\n    private initializeEasingFunctions()\n    {\n        this.loadIntoAssociativeArray(this.easingFunctions, require(\"./EasingFunctionList\"));\n    }\n    /**\n     * Initialize converters from list.\n     */\n    private initializeConverters()\n    {\n        this.loadIntoAssociativeArray(this.converters, require(\"./GomlConverterList\"));\n    }\n\n    private initializeGomlTags()\n    {\n        var newList: GomlNodeListElement[] = require(\"./GomlNodeList\");\n        newList.forEach((v) =>\n        {\n            for (var key in v.NodeTypes)\n            {\n                var keyInString: string = key;\n                keyInString = keyInString.toUpperCase();//transform into upper case\n                var nodeType = v.NodeTypes[keyInString];\n                var tag = new v.Factory(keyInString, nodeType);\n                this.gomlTagFactories.set(tag.TagName, tag);\n            }\n        });\n    }\n\n    /**\n    * Initialize something associative array from required hash.\n    */\n    private loadIntoAssociativeArray<T>(targetArray: AssociativeArray<T>, list: { [key: string]: any })\n    {\n        for (var key in list)\n        {\n            var type = list[key];\n            targetArray.set(key, new type());\n        }\n    }\n}\nexport = GomlConfigurator;\n","declare function require(string):any ;\n/**\n * List for constructor functions of converter classes.\n * Converters manage how an attribute will be parsed, converted into string, or animated.\n */\nvar converterList={\n  \"angle\":require('./Converter/AngleAttributeConverter'),\n  \"number\":require('./Converter/NumberAttributeConverter'),\n  \"vector3\":require('./Converter/Vector3AttributeConverter'),\n  \"rotation\":require('./Converter/RotationAttributeConverter'),\n  \"color4\":require('./Converter/Color4AttributeConverter'),\n  \"color3\":require('./Converter/Color3AttributeConverter'),\n  \"boolean\":require('./Converter/BooleanAttributeConverter'),\n  \"integer\":require('./Converter/IntegerAttributeConverter'),\n  \"string\":require('./Converter/StringAttributeConverter')\n};\nexport=converterList;\n","import GomlTreeNodeBase = require(\"./GomlTreeNodeBase\");\nimport jThreeObject = require(\"../Base/JThreeObject\");\nimport Exceptions = require(\"../Exceptions\");\nimport Delegates = require(\"../Base/Delegates\");\nimport GomlNodeDictionary = require(\"./GomlNodeDictionary\");\nimport JThreeEvent = require('../Base/JThreeEvent');\nimport AssociativeArray = require('../Base/Collections/AssociativeArray');\nimport BehaviorRegistry = require(\"./Behaviors/BehaviorRegistry\");\nimport GomlConfigurator = require('./GomlConfigurator');\nimport BehaviorRunner = require('./Behaviors/BehaviorRunner');\nimport JThreeLogger = require(\"../Base/JThreeLogger\");\nimport JThreeInit = require(\"../Init\");\nimport GomlParser = require(\"./GomlParser\");\nimport NodeManager = require(\"./NodeManager\");\nimport JThreeContext = require(\"../JThreeContext\");\nimport ResourceLoader = require(\"../Core/ResourceLoader\");\nimport ContextComponent = require(\"../ContextComponents\");\ndeclare function require(string): any;\n\n/**\n * The class for loading goml.\n */\nclass GomlLoader extends jThreeObject {\n  // public update() {\n  //   if (!this.ready) return;\n  //   if(this.gomlRoot)this.gomlRoot.callRecursive(v=>v.update());\n  //   this.componentRunner.executeForAllBehaviors(\"updateBehavior\");\n  // }\n\n  /**\n   * Constructor. User no need to call this constructor by yourself.\n   */\n  constructor(nodeManager:NodeManager,selfTag:HTMLScriptElement) {\n    super();\n    //obtain the script tag that is refering this source code.\n    var scriptTags = document.getElementsByTagName('script');\n    this.selfTag = selfTag;\n    this.nodeManager = nodeManager;\n    var resourceLoader = JThreeContext.getContextComponent<ResourceLoader>(ContextComponent.ResourceLoader);\n    this.gomlLoadingDeferred = resourceLoader.getResourceLoadingDeffered();\n    resourceLoader.promise.then(()=>\n  {\n    console.log(\"load finished!!\");\n  },undefined,\n  (v)=>\n  {\n    console.log(`loading resource...${v.completedResource/v.resourceCount*100}%`);\n  });\n  }\n\n  private nodeManager:NodeManager;\n\n  /**\n   * The script tag that is refering this source code.\n   */\n  private selfTag: HTMLScriptElement;\n\n  private gomlLoadingDeferred:Q.Deferred<void>;\n\n  /**\n   * Attempt to load GOMLs that placed in HTML file.\n   */\n  public initForPage(): void {\n    JThreeLogger.sectionLog(\"Goml loader\",\"Goml initialization was started.\");\n    // to load <script src=\"j3.js\" x-goml=\"HERE\"/>\n    this.attemptToLoadGomlInScriptAttr();\n    // to load the script that is type of text/goml\n    var gomls: NodeList = document.querySelectorAll('script[type=\\'text/goml\\']');\n    for (let i = 0; i < gomls.length; i++) {\n      this.loadScriptTag(<HTMLElement>gomls[i]);\n    }\n  }\n\n  /**\n   * Load goml script for current jthree v3 syntax.\n   *\n   * Attempt to load x-goml attribute from script tag refering this source.\n   * <script x-goml='path/to/goml'></script>\n   */\n  private attemptToLoadGomlInScriptAttr(): void {\n    var url: string = this.selfTag.getAttribute('x-goml');\n    if(!url)return;\n    var xhr = new XMLHttpRequest();\n    xhr.addEventListener('load', () => {\n      this.scriptLoaded((new DOMParser()).parseFromString(xhr.response, 'text/xml').documentElement);\n    });\n    xhr.open('GET', url);\n    xhr.responseType = 'text'\n    xhr.send();\n  }\n\n  /**\n   * Load goml script for legacy jthree v2 syntax.\n   *\n   * Attempt to load src or innerText from script tag refering this source.\n   * <script type='text/goml' src='path/to/goml'></script>\n   * or\n   * <script type='text/goml'>{{goml}}</script>\n   *\n   * @param {HTMLElement} scriptTag HTMLElement object of script tag\n   */\n  private loadScriptTag(scriptTag: HTMLElement): void {\n    var srcSource: string = scriptTag.getAttribute('src'),\n      xhr = new XMLHttpRequest();\n    if (srcSource) { // when src is specified\n      // use xhr to get script of src\n      xhr.addEventListener('load', () => {\n        this.scriptLoaded((new DOMParser()).parseFromString(xhr.response, 'text/xml').documentElement);\n      });\n      xhr.open('GET', srcSource);\n      xhr.responseType = 'text'\n      xhr.send();\n    } else { // when src is not specified\n      // get innerText of script tag\n      this.scriptLoaded(<HTMLElement>scriptTag.childNodes[0]);\n    }\n  }\n\n  private loadTags(top:GomlTreeNodeBase)\n  {\n    top.callRecursive((v) => (<GomlTreeNodeBase>v).beforeLoad());\n    top.callRecursive((v) => (<GomlTreeNodeBase>v).Load());\n    top.callRecursive((v) => (<GomlTreeNodeBase>v).afterLoad());\n    top.callRecursive((v) => (<GomlTreeNodeBase>v).attributes.applyDefaultValue());\n  }\n\n  /**\n   * parse goml source to node tree and load each node\n   *\n   * @param {HTMLElement} source goml source\n   */\n  private scriptLoaded(source: HTMLElement): void {\n    var catched = this.nodeManager.htmlRoot = source;\n    if(catched.children[0].tagName.toUpperCase() === \"PARSERERROR\")\n    {\n      JThreeLogger.sectionError('Goml loader',`Invalid Goml was passed. Parsing goml was aborted. Error code will be appear below`);\n      JThreeLogger.sectionLongLog('Goml loader',catched.innerHTML);\n    }\n    if (catched === undefined || catched.tagName.toUpperCase() !== 'GOML') throw new Exceptions.InvalidArgumentException('Root should be goml');\n\n    this.nodeManager.gomlRoot =GomlParser.parse(source,this.nodeManager.configurator)\n    this.loadTags(this.nodeManager.gomlRoot);\n    JThreeLogger.sectionLog(\"Goml loader\", `Goml loading was completed`);\n    this.nodeManager.ready = true;\n    this.nodeManager.loadedHandler.fire(this, source);\n    this.gomlLoadingDeferred.resolve(null);\n  }\n\n\n\n}\nexport = GomlLoader;\n","import jThreeObject = require(\"../Base/JThreeObject\");\nimport GomlTreeNodeBase = require(\"./GomlTreeNodeBase\");\nimport AssociativeArray = require(\"../Base/Collections/AssociativeArray\");\nimport JThreeEvent = require(\"../Base/JThreeEvent\");\nimport Delegates = require(\"../Base/Delegates\");\nimport JThreeLogger = require(\"../Base/JThreeLogger\");\n/**\n * Dictionary class to cache GOML node objects.\n */\nclass GomlNodeDictionary extends jThreeObject\n{\n  /**\n   * actual dictionary\n   */\n  private dictionary:AssociativeArray<AssociativeArray<GomlTreeNodeBase>>=new AssociativeArray<AssociativeArray<GomlTreeNodeBase>>();\n\n  private onAliasMemberChanged:AssociativeArray<JThreeEvent<GomlTreeNodeBase>>=new AssociativeArray<JThreeEvent<GomlTreeNodeBase>>();\n  /**\n   * Add node object with alias and name.\n   */\n  public addObject(alias:string,name:string,obj:GomlTreeNodeBase):void\n  {\n    if(!this.dictionary.has(alias))//If there was no such alias\n    {\n      this.dictionary.set(alias,new AssociativeArray<GomlTreeNodeBase>());\n      this.onAliasMemberChanged.set(alias,new JThreeEvent<GomlTreeNodeBase>());\n    }\n    this.dictionary.get(alias).set(name,obj);\n    this.onAliasMemberChanged.get(alias).fire(this,obj);\n  }\n\n  public hasAlias(alias:string):boolean\n  {\n    return this.dictionary.has(alias);\n  }\n\n  /**\n   * Get node object by alias and name.\n   */\n  public getObject<T extends GomlTreeNodeBase>(alias:string,name:string):T\n  {\n    if(!this.dictionary.has(alias))\n    {\n      JThreeLogger.sectionError(\"GOML loader\",`Unknown group name '${alias}' was requested.`);\n      return null;\n    }else\n    {\n      return <T>this.dictionary.get(alias).get(name);\n    }\n  }\n\n  public getAliasMap<T extends GomlTreeNodeBase>(alias:string):AssociativeArray<T>\n  {\n    return <AssociativeArray<T>>this.dictionary.get(alias);\n  }\n\n  public onAliasObjectChanged(alias:string,handler:Delegates.Action1<GomlTreeNodeBase>)\n  {\n    if(this.hasAlias(alias))\n    {\n      this.onAliasMemberChanged.get(alias).addListener(handler);\n    }else\n    {\n      console.warn(\"there is no such alias\");\n    }\n  }\n}\n\nexport=GomlNodeDictionary;\n","import GomlNodeListElement = require(\"./GomlNodeListElement\");\n\ndeclare function require(string): any;\n\nvar gomlList = [  new GomlNodeListElement(\"jthree.toplevel\",\n    require(\"./Factories/TagFactory\"),\n    {\n      \"CANVASES\": require(\"./Nodes/TopLevel/CanvasesNode\"),\n      \"RESOURCES\": require(\"./Nodes/TopLevel/ResourcesNode\"),\n      \"SCENES\": require(\"./Nodes/TopLevel/ScenesNode\"),\n      \"TEMPLATES\": require(\"./Nodes/TopLevel/TemplatesNode\"),\n      \"LOADERS\":require(\"./Nodes/TopLevel/LoadersNode\"),\n      \"GOML\":require(\"./Nodes/TopLevel/GomlNode\")\n    }),\n  new GomlNodeListElement(\"jthree.geometries\",\n    require(\"./Factories/TagFactory\"),\n    {\n      \"TRI\": require(\"./Nodes/Geometries/TriangleGeometryNode\"),\n      \"GRID\": require(\"./Nodes/Geometries/GridGeometryNode\"),\n      \"CUBE\": require(\"./Nodes/Geometries/CubeGeometryNode\"),\n      \"CIRCLE\": require(\"./Nodes/Geometries/CircleGeometryNode\"),\n      \"CYLINDER\": require(\"./Nodes/Geometries/CylinderGeometryNode\"),\n      \"QUAD\": require(\"./Nodes/Geometries/QuadGeometryNode\")\n    }),\n  new GomlNodeListElement(\"jthree.basic\",\n    require(\"./Factories/TagFactory\"),\n    {\n      \"CANVAS\": require(\"./Nodes/Canvases/CanvasNode\"),\n      \"VIEWPORT\": require(\"./Nodes/Renderers/ViewPortNode\"),\n      \"SCENE\": require(\"./Nodes/SceneNode\"),\n    }),\n  new GomlNodeListElement(\n    \"jthree.materials\",\n    require(\"./Factories/TagFactory\"),\n    {\n      \"SOLID\": require(\"./Nodes/Materials/SolidColorNode\"),\n      \"PHONG\": require(\"./Nodes/Materials/PhongNode\"),\n      \"SPRITE\": require(\"./Nodes/Materials/SpriteNode\"),\n      \"DDEBUG\": require(\"./Nodes/Materials/DefferedDebugNode\"),\n      \"TDEBUG\": require(\"./Nodes/Materials/TextureDebugNode\")\n    }),\n  new GomlNodeListElement(\n    \"jthree.sceneobject\",\n    require(\"./Factories/SceneObjectTagFactory\"),\n    {\n      \"CAMERA\": require(\"./Nodes/SceneObjects/Cameras/CameraNode\"),\n      \"OCAMERA\": require(\"./Nodes/SceneObjects/Cameras/OrthoCameraNode\"),\n      \"MESH\": require(\"./Nodes/SceneObjects/MeshNode\"),\n      \"OBJECT\": require(\"./Nodes/SceneObjects/ObjectNode\"),\n      \"PLIGHT\": require(\"./Nodes/SceneObjects/Lights/PointLightNode\"),\n      \"DLIGHT\": require(\"./Nodes/SceneObjects/Lights/DirectionalLightNode\"),\n      \"ALIGHT\" : require(\"./Nodes/SceneObjects/Lights/AreaLightNode\"),\n      \"SLIGHT\" :require(\"./Nodes/SceneObjects/Lights/SpotLightNode\"),\n      \"SCENELIGHT\" : require('./Nodes/SceneObjects/Lights/SceneLightNode'),\n      \"PMX\": require(\"../PMX/Goml/PMXNode\")\n    }),\n  new GomlNodeListElement(\n      \"jthree.textures\",\n      require(\"./Factories/TagFactory\"),\n      {\n          \"TEXTURE\": require(\"./Nodes/Texture/TextureNode\"),\n          \"CUBETEXTURE\":require(\"./Nodes/Texture/CubeTextureNode\")\n      }),\n  new GomlNodeListElement(\"jthree.behaviors\", require(\"./Factories/TagFactory\"),\n    {\n      \"BEHAVIORS\": require(\"./Nodes/Behaviors/BehaviorsNode\"),\n    }),\n  new GomlNodeListElement(\"jthree.behavior\", require(\"./Factories/BehaviorTagFactory\"),\n    {\n      \"BEHAVIOR\": require(\"./Nodes/Behaviors/BehaviorNode\")\n    }),\n  new GomlNodeListElement(\"jthree.template\", require(\"./Factories/ChildrenParseSkipFactory\"),\n    {\n      \"TEMPLATE\": require(\"./Nodes/Templates/TemplateNode\")\n    }),\n    new GomlNodeListElement(\"jthree.loader\",require(\"./Factories/ChildrenParseSkipFactory\"),\n  {\n    \"LOADER\":require(\"./Nodes/Loaders/LoaderNode\")\n  }),\n  new GomlNodeListElement(\"jthree.pmx.morph\", require(\"../PMX/Goml/Factory/PMXMorphTagFactory\"),\n    {\n      \"MORPH\": require(\"../PMX/Goml/PMXMorphNode\"),\n    }),\n    new GomlNodeListElement(\"jthree.pmx.bone\", require(\"../PMX/Goml/Factory/PMXBoneTagFactory\"),\n    {\n      \"BONE\": require(\"../PMX/Goml/PMXBoneNode\"),\n    }),\n  new GomlNodeListElement(\"jthree.pmx.contents\", require(\"./Factories/TagFactory\"),\n    {\n      \"MORPHS\": require(\"../PMX/Goml/PMXMorphsNode\"),\n      \"BONES\": require(\"../PMX/Goml/PMXBonesNode\"),\n      \"VMD\":require(\"../VMD/Goml/VMDNode\")\n    })\n];\nexport =gomlList;\n","import JThreeObject = require(\"../Base/JThreeObject\");\n\nclass GomlNodeListElement extends JThreeObject\n{\n  private group:string;\n\n  private factory:any;\n\n  private nodeTypes:{[key:string]:any};\n\n  constructor(group:string,factory:any,nodeTypes:{[key:string]:any})\n  {\n    super();\n    this.group=group;\n    this.nodeTypes=nodeTypes;\n    this.factory=factory;\n  }\n\n  public get Group():string\n  {\n    return this.group;\n  }\n\n  public get NodeTypes():{[key:string]:any}\n  {\n    return this.nodeTypes;\n  }\n\n  public get Factory():any\n  {\n    return this.factory;\n  }\n}\n\nexport=GomlNodeListElement;\n","import JThreeObject = require('../Base/JThreeObject');\nimport Delegates = require('../Base/Delegates');\nimport GomlTreeNodeBase = require('./GomlTreeNodeBase');\nimport AssociativeArray = require('../Base/Collections/AssociativeArray');\nimport GomlConfigurator = require('./GomlConfigurator');\n\nclass GomlParser {\n\n    /**\n     * Parser of Goml to Node utilities.\n     * This class do not store any nodes and goml properties.\n     */\n    constructor() {\n    }\n\n    /**\n     * Parse Goml to Node\n     * @param {HTMLElement} soruce [description]\n     */\n    public static parse(soruce: HTMLElement, configurator: GomlConfigurator) {\n        return GomlParser.parseChild(null, soruce, configurator);\n    }\n\n    public static parseChild(parent: GomlTreeNodeBase, child: HTMLElement, configurator: GomlConfigurator): GomlTreeNodeBase {\n        //obtain factory class for the node\n        var elem: HTMLElement = <HTMLElement>child;\n        var tagFactory = configurator.getGomlTagFactory(elem.tagName.toUpperCase());\n        //if factory was not defined, there is nothing to do.\n        if (tagFactory) {\n            var newNode = tagFactory.CreateNodeForThis(elem, parent);\n            if (newNode == null) {\n                //the factory was obtained, but newNnode is null.\n                //It is seem to have something wrong to create instance.\n                //It can be occured, the node is written as the form being not desired for the factory.\n                console.warn(`${elem.tagName} tag was parsed,but failed to create instance. Skipped.`);\n                return;\n            }\n            //call this function recursive\n            if (!tagFactory.NoNeedParseChildren) {\n                let children = elem.childNodes;\n                if (!children) return; //if there children is null, parent is end of branch\n                if (children.length == 0) return; //if there children is empty, parent is end of branch\n                for (let i = 0; i < children.length; i++) {\n                    if (!(<HTMLElement>children[i]).tagName) continue;\n                    // generate instances for every children nodes\n                    let e = <HTMLElement>children[i];\n                    GomlParser.parseChild(newNode, e, configurator);\n                }\n            }\n            return newNode;\n        } else {\n            //when specified node could not be found\n            console.warn(`${elem.tagName} was not parsed.'`);\n        }\n    }\n}\n\nexport = GomlParser;\n","import AttributeDictionary = require(\"./AttributeDictionary\");\nimport TreeNodeBase = require('./TreeNodeBase');\nimport JThreeContext = require(\"../JThreeContext\");\nimport NodeManager = require('./NodeManager');\nimport ContextComponents = require('../ContextComponents');\nimport BehaviorNode = require(\"./Nodes/Behaviors/BehaviorNode\");\nimport AssociativeArray = require(\"../Base/Collections/AssociativeArray\");\n/**\n * This is the most base class in all GomlNode\n */\nclass GomlTreeNodeBase extends TreeNodeBase\n{\n    constructor(elem:HTMLElement, parent?:TreeNodeBase) {\n        super(elem, parent);\n\n        //load node manager\n        this.nodeManager = JThreeContext.getContextComponent<NodeManager>(ContextComponents.NodeManager);\n\n        //configure class name and attribute to HTMLElement to make it easy to find this node in next time.\n        elem.classList.add(\"x-j3-\" + this.ID);\n        elem.setAttribute('x-j3-id', this.ID);\n        //after configuration, this node is going to add to NodesById\n        this.nodeManager.NodesById.set(this.ID, this);\n        this.attributes=new AttributeDictionary(this, elem);\n    }\n\n    public nodeManager: NodeManager;\n\n    /**\n     * Attributes this node have.\n     */\n    public attributes:AttributeDictionary;\n\n    public beforeLoad()\n    {\n      // this method should be overriden by the class extends this class.\n    }\n\n    public Load()\n    {\n      // this method should be overriden by the class extends this class.\n    }\n\n    public afterLoad()\n    {\n      // this method should be overriden by the class extends this class.\n    }\n\n    /**\n      * components that is attached to this node.\n      */\n     protected behaviors:AssociativeArray<BehaviorNode[]>=new AssociativeArray<BehaviorNode[]>();\n\n     /**\n      * Add component to this node.\n      */\n     public addBehavior(behaviors:BehaviorNode):void {\n         this.nodeManager.behaviorRunner.addBehavior(behaviors,this);\n         if(!this.behaviors.has(behaviors.BehaviorName))this.behaviors.set(behaviors.BehaviorName,[]);\n         this.behaviors.get(behaviors.BehaviorName).push(behaviors);\n     }\n\n     public getBehaviors(behaviorName:string):BehaviorNode[]\n     {\n         return this.behaviors.get(behaviorName);\n     }\n\n\n}\nexport=GomlTreeNodeBase;\n","import JThreeObject = require('../Base/JThreeObject');\nimport GomlNodeDictionary = require('../Goml/GomlNodeDictionary');\nimport AssociativeArray = require('../Base/Collections/AssociativeArray');\nimport GomlTreeNodeBase = require('../Goml/GomlTreeNodeBase');\nimport IContextComponent = require('../IContextComponent');\nimport ContextComponents = require('../ContextComponents');\nimport BehaviorRegistry = require('./Behaviors/BehaviorRegistry');\nimport GomlConfigurator = require('./GomlConfigurator');\nimport GomlParser = require(\"./GomlParser\");\nimport BehaviorRunner = require(\"./Behaviors/BehaviorRunner\");\nimport JThreeEvent = require(\"../Base/JThreeEvent\");\nimport JThreeContext = require(\"../JThreeContext\");\nimport LoopManager = require(\"../Core/LoopManager\");\nclass NodeManager extends JThreeObject implements IContextComponent {\n\n  constructor() {\n    super();\n    var loopManager = JThreeContext.getContextComponent<LoopManager>(ContextComponents.LoopManager);\n    loopManager.addAction(3000,()=>this.update());\n  }\n\n  public getContextComponentIndex():number\n  {\n    return ContextComponents.NodeManager;\n  }\n\n  public update()\n  {\n    if (!this.ready) return;\n    this.gomlRoot.callRecursive(v=>v.update());\n    this.behaviorRunner.executeForAllBehaviors(\"updateBehavior\");\n  }\n\n  /**\n   * The event it will be called when GomlLoader complete loading\n   *\n   * @type {JThreeEvent<HTMLElement>}\n   */\n  public loadedHandler: JThreeEvent<HTMLElement> = new JThreeEvent<HTMLElement>();\n\n\n  public nodeRegister: GomlNodeDictionary = new GomlNodeDictionary();\n  public gomlRoot:GomlTreeNodeBase;\n  public htmlRoot:HTMLElement;\n  public NodesById: AssociativeArray<GomlTreeNodeBase> = new AssociativeArray<GomlTreeNodeBase>();\n  public behaviorRegistry: BehaviorRegistry = new BehaviorRegistry();\n  public behaviorRunner:BehaviorRunner = new BehaviorRunner();\n  public ready:boolean = false;\n\n\n  public getNode(id: string): GomlTreeNodeBase {\n    return this.NodesById.get(id);\n  }\n\n  public getNodeByQuery(query: string): GomlTreeNodeBase[] {\n    var result = [];\n    var found = this.htmlRoot.querySelectorAll(query);\n    for (var index = 0; index < found.length; index++) {\n      var id = (<HTMLElement>found[index]).getAttribute(\"x-j3-id\");\n      result.push(this.getNode(id));\n    }\n    return result;\n  }\n\n  public instanciateTemplate(template: string, parentNode: GomlTreeNodeBase) {\n    var templateInElems = (new DOMParser()).parseFromString(template, 'text/xml').documentElement;\n    this.append(templateInElems, parentNode.Element, false);\n  }\n\n\n  private loadTags(top:GomlTreeNodeBase)\n  {\n    top.callRecursive((v) => (<GomlTreeNodeBase>v).beforeLoad());\n    top.callRecursive((v) => (<GomlTreeNodeBase>v).Load());\n    top.callRecursive((v) => (<GomlTreeNodeBase>v).afterLoad());\n    top.callRecursive((v) => (<GomlTreeNodeBase>v).attributes.applyDefaultValue());\n  }\n\n  public append(source: HTMLElement, parent: HTMLElement, needLoad?: boolean) {\n    if (typeof needLoad === 'undefined') needLoad = true;\n    var id = parent.getAttribute(\"x-j3-id\");\n    var parentOfGoml = this.NodesById.get(id);\n    var loadedGomls=GomlParser.parseChild(parentOfGoml,source,this.configurator)\n    this.loadTags(loadedGomls);\n    // var loadedGomls = [];\n    // this.parseChild(parentOfGoml, source, (v) => { loadedGomls.push(v) });\n    // if (!needLoad) return;\n    // this.eachNode(v=> v.beforeLoad(), loadedGomls);\n    // this.eachNode(v=> v.Load(), loadedGomls);\n    // this.eachNode(v=> v.afterLoad(), loadedGomls);\n    // this.eachNode(v=> v.attributes.applyDefaultValue(), loadedGomls);\n  }\n\n  /**\n   * this configurator will load any tag information by require.\n   */\n  public configurator: GomlConfigurator = new GomlConfigurator();\n}\n\nexport = NodeManager;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport Delegates = require(\"../../../Base/Delegates\");\nimport GomlAttribute = require(\"../../GomlAttribute\");\nimport AttributeDeclaration = require(\"../../AttributeDeclaration\");\nclass BehaviorNode extends GomlTreeNodeBase\n{\n  private static ignoreNode:string[]=[\"name\",\"cachedOrder\",\"cachedEnabled\",\"children\",\"parent\",\"element\"];\n\n  constructor(elem: HTMLElement,parent:GomlTreeNodeBase,componentTarget:GomlTreeNodeBase)\n  {\n      super(elem,parent);\n      this.componentTarget=componentTarget;\n     this.componentName=elem.getAttribute(\"name\");\n      if(this.componentName)\n      {\n        var component=this.nodeManager.behaviorRegistry.getBehavior(this.componentName);\n        if(component)\n        {\n          //load d`efault value of component\n          if(typeof component.order !== \"undefined\")this.cachedOrder=component.order;\n          if(typeof component.enabled !== \"undefined\")var componentEnabled=component.enabled;\n            else\n            componentEnabled=true;\n          if(typeof component.awake === \"function\")this.awakeDelegate=component.awake;\n          if(typeof component.update === \"function\")this.updateDelegate=component.update;\n          if(typeof component.start === \"function\")this.startDelegate=component.start;\n          if(typeof component.onEnabled === \"function\")this.onEnabledDelegate=component.onEnabled;\n          if(typeof component.onDisabled === \"function\")this.onDisabledDelegate = component.onDisabled;\n          //define component\n          this.attributes.defineAttribute(\n            {\n              \"enabled\":{\n                converter:\"boolean\",\n                value:componentEnabled,\n                handler:(v)=>{//when enabled attribute changed\n                  if(v.Value===this.enabled&&typeof v.Value === \"undefined\"){\n                    this.cachedEnabled=true;\n                    this.onEnabled(this.componentTarget);\n                  }\n                  if(v.Value===this.enabled)return;\n                  if(v.Value)this.onEnabled(this.componentTarget);\n                    else\n                    this.onDisabled(this.componentTarget);\n                  this.enabled=v.Value;\n                  }\n              }\n            }\n          );\n          //initialize component attributes\n          for(var attrKey in component.attributes)\n          {\n            var attr = component.attributes[attrKey];\n            if(BehaviorNode.ignoreNode.indexOf(attrKey)!==-1||this.attributes.isDefined(attrKey))\n            {//duplicated or protected attribute\n              console.error(`attribute name '${attrKey}' is protected attribute name. please change name`);\n              continue;\n            }\n            //create handler\n              this.defineAccessor(attrKey);\n             var attributeContainer:AttributeDeclaration={};\n             attributeContainer[attrKey]=attr;\n            this.attributes.defineAttribute(attributeContainer);\n          }\n          componentTarget.addBehavior(this);\n          this.attributes.applyDefaultValue();\n        }else{\n          console.warn(`component\"${elem.getAttribute(\"name\")}\" is not found.`);\n        }\n      }else{\n        console.warn(\"component name was not specified\");\n     }\n      var attributes = this.Element.attributes;\n      for (var i = 0; i < attributes.length; i++) {\n          var attributeItem = attributes.item(i);\n          if(!(attributeItem.name in this))this.defineDefaultAccessor(attributeItem);\n      }\n  }\n\n  private defineDefaultAccessor(attr: Attr) {\n      Object.defineProperty(this, attr.name, {\n          get:\n          () =>\n          {\n              return attr.value;\n          },\n          set: (v) =>\n          {\n              attr.value = v;\n          }\n      });  }\n\n  private defineAccessor(attrKey:string) {\n      Object.defineProperty(this, attrKey, {\n          get:\n          () =>\n          {\n              return this.attributes.getValue(attrKey);\n          },\n          set: (v) =>\n          {\n              this.attributes.setValue(attrKey, v);\n          }\n      });\n  }\n  /**\n   * The node contains this module.\n   */\n\tprivate componentTarget:GomlTreeNodeBase;\n\n  private componentName:string;\n\n  public get  BehaviorName():string\n  {\n    return this.componentName;\n  }\n  private awakenCache:boolean=false;\n\n  public get awaken():boolean\n  {\n    return this.awakenCache;\n  }\n\n\tprivate cachedOrder:number=1000;\n\tpublic get order():number\n\t{\n\t\treturn this.cachedOrder;\n\t}\n\n\tprivate cachedEnabled:boolean=undefined;\n\tpublic get enabled():boolean\n\t{\n\t\treturn this.cachedEnabled;\n\t}\n\n\tpublic set enabled(en:boolean)\n\t{\n\t\tthis.cachedEnabled=en;\n\t}\n\n  private updateDelegate:Delegates.Action1<GomlTreeNodeBase>=()=>{};\n  public updateBehavior(target:GomlTreeNodeBase)\n  {\n    if(!this.startCalled)this.start(target);\n    this.updateDelegate(target);\n  }\n\n  private startCalled:boolean=false;\n  private startDelegate:Delegates.Action1<GomlTreeNodeBase>=()=>{};\n  public start(target:GomlTreeNodeBase)\n  {\n    this.startDelegate(target);\n    this.startCalled=true;\n  }\n\n  private awakeDelegate:Delegates.Action1<GomlTreeNodeBase>=()=>{};\n  public awake(target:GomlTreeNodeBase)\n  {\n    this.awakeDelegate(target);\n    this.awakenCache=true;\n  }\n\n\n\tprivate onEnabledDelegate:Delegates.Action1<GomlTreeNodeBase>=()=>{};\n  public onEnabled(target:GomlTreeNodeBase)\n  {\n    this.onEnabledDelegate(target);\n  }\n\n  private onDisabledDelegate:Delegates.Action1<GomlTreeNodeBase>=()=>{};\n  public onDisabled(target:GomlTreeNodeBase)\n  {\n    this.onDisabledDelegate(target);\n  }\n}\n\nexport =BehaviorNode;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\n\n\nclass BehaviorsNode extends GomlTreeNodeBase\n{\n\n  constructor(elem: HTMLElement,parent:GomlTreeNodeBase)\n  {\n      super(elem,parent);\n      this.componentTarget=parent;\n  }\n\n  private componentTarget:GomlTreeNodeBase;\n\n  public get ComponentTarget():GomlTreeNodeBase\n  {\n    return this.componentTarget;\n  }\n}\n\nexport =BehaviorsNode;\n","import Canvas = require(\"../../../Core/Canvas\");\nimport JThreeContext = require(\"../../../JThreeContext\");\nimport ContextComponents = require(\"../../../ContextComponents\");\nimport CanvasManager = require(\"../../../Core/CanvasManager\");\nimport GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport CanvasNodeBase = require('./CanvasNodeBase');\nimport Delegates = require(\"../../../Base/Delegates\");\nimport ResourceLoader = require(\"../../../Core/ResourceLoader\");\n\nclass CanvasNode extends CanvasNodeBase {\n    public canvasElement: HTMLCanvasElement;\n    public targetFrame: HTMLElement;\n    private resizedFunctions: Delegates.Action1<CanvasNode>[] = [];\n\n    constructor(elem: HTMLElement, parent: GomlTreeNodeBase) {\n        super(elem, parent);\n        //generate canvas\n        this.targetFrame = <HTMLElement>document.querySelector(this.Frame);\n        var defaultLoader;\n        if(this.attributes.getValue(\"loader\") !==\"undefined\" && this.nodeManager.nodeRegister.hasAlias(\"jthree.loader\"))\n        {\n          var loaderNode = (this.nodeManager.nodeRegister.getObject(\"jthree.loader\",this.attributes.getValue(\"loader\")) as any);\n          if(loaderNode)defaultLoader = loaderNode.loaderHTML;\n        }\n        if(!defaultLoader)defaultLoader = require('../../../static/defaultLoader.html');\n\n        //frame resize\n        var resizeElement = document.createElement(\"div\");\n        resizeElement.style.position = \"relative\";\n        resizeElement.style.margin = \"0\";\n        resizeElement.style.padding = \"0\";\n        resizeElement.style.height = \"100%\";\n        this.targetFrame.appendChild(resizeElement);\n\n        this.canvasElement = document.createElement(\"canvas\");\n        this.canvasElement.style.position = \"absolute\";\n\n        if (this.targetFrame) resizeElement.appendChild(this.canvasElement);\n        this.canvasElement.classList.add(\"x-j3-c-\" + this.ID);\n        //initialize contexts\n        this.setCanvas(new Canvas(this.canvasElement));\n        JThreeContext.getContextComponent<CanvasManager>(ContextComponents.CanvasManager).addCanvas(this.Canvas);\n\n        var loaderContainer = document.createElement('div');\n        loaderContainer.style.position = 'absolute';\n        loaderContainer.style.width = this.canvasElement.width + \"px\";\n        loaderContainer.style.height = this.canvasElement.height + \"px\";\n        loaderContainer.classList.add(\"x-j3-loader-container\");\n        loaderContainer.innerHTML = defaultLoader;\n        resizeElement.appendChild(loaderContainer);\n        this.attributes.applyDefaultValue();\n        var progressLoaders = loaderContainer.querySelectorAll(\".x-j3-loader-progress\");\n        JThreeContext.getContextComponent<ResourceLoader>(ContextComponents.ResourceLoader).promise.then(()=>\n      {\n        var loaders = resizeElement.querySelectorAll(\".x-j3-loader-container\");\n        for(var i = 0; i < loaders.length;i++)\n        {\n          var loader = loaders.item(i);\n          loader.remove();\n        }\n      },()=>{},(p)=>{\n        for(var i = 0; i < progressLoaders.length;i++)\n        {\n          var progress = <HTMLDivElement>progressLoaders.item(i);\n          progress.style.width = p.completedResource/p.resourceCount*100+\"%\";\n        }\n      });\n    }\n\n    public get Frame(): string {\n        return this.element.getAttribute(\"frame\") || \"body\";\n    }\n\n    /**\n     *\n     Cxg*/\n    public resize();\n    /**\n     * Cxgnho^\n     * @param func\n     * @returns {}\n     */\n    public resize(func: Delegates.Action1<CanvasNode>);\n    public resize( func?:Delegates.Action1<CanvasNode>) {\n\n        if ( typeof arguments[0]===\"function\") {\n            this.resizedFunctions.indexOf(arguments[0]) === -1 && this.resizedFunctions.push(arguments[0]);\n        } else {\n            this.sizeChanged(this.DefaultWidth, this.DefaultHeight);\n            this.resizedFunctions.forEach(function(f) {\n                f(this);\n            }.bind(this));\n        }\n\n    }\n\n    protected get DefaultWidth(): number {\n        return this.targetFrame.clientWidth;\n    }\n\n    protected get DefaultHeight(): number {\n        return this.targetFrame.clientHeight;\n    }\n\n    protected sizeChanged(width:number,height:number)\n    {\n        this.canvasElement.width=width;\n        this.canvasElement.height=height;\n    }\n\n\n\n}\n\nexport =CanvasNode;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport Canvas = require(\"../../../Core/Canvas\");\nclass CanvasNodeBase extends GomlTreeNodeBase {\n    constructor(elem: HTMLElement, parent: GomlTreeNodeBase) {\n        super(elem, parent);\n        this.attributes.defineAttribute({\n            \"width\": {\n                value: 128, converter: \"number\", handler: (v) => { this.sizeChanged(v.Value,this.attributes.getValue(\"height\")) }\n            },\n            \"height\": {\n                value: 128, converter: \"number\", handler: (v) => { this.sizeChanged(this.attributes.getValue(\"width\"),v.Value)}\n            },\n            \"clearColor\": {\n                value: \"#0FF\", converter: \"color4\", handler: (v) => { this.canvas.clearColor = v.Value; }\n            },\n            \"loader\":\n            {\n              value:undefined,converter:\"string\",handler:(v)=>{}\n            }\n        });\n    }\n\n    public beforeLoad()\n    {\n        this.attributes.setValue(\"width\",this.DefaultWidth);\n        this.attributes.setValue(\"height\",this.DefaultHeight);\n    }\n\n    private canvas:Canvas;\n\n    protected setCanvas(canvas:Canvas)\n    {\n        this.canvas=canvas;\n        this.sizeChanged(this.DefaultWidth,this.DefaultHeight);\n    }\n\n    public get Canvas():Canvas\n    {\n        return this.canvas;\n    }\n\n    protected sizeChanged(width:number,height:number)\n    {\n\n    }\n\n    protected get DefaultWidth(): number {\n        return 0;\n    }\n\n    protected get DefaultHeight(): number {\n        return 0;\n    }\n}\n\nexport = CanvasNodeBase;\n","import GeometryNodeBase = require(\"./GeometryNodeBase\");\nimport Geometry = require(\"../../../Core/Geometries/Geometry\")\nimport CircleGeometry = require(\"../../../Core/Geometries/CircleGeometry\");\nimport GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nclass CircleGeometryNode extends GeometryNodeBase\n{\n  private gridGeometry:CircleGeometry;\n\n  constructor(elem: HTMLElement,parent:GomlTreeNodeBase)\n  {\n      super(elem,parent);\n      this.attributes.defineAttribute\n      (\n        {\n          \"divide\":\n          {\n            value:30,\n            converter:\"integer\",\n            handler:(v)=>{this.gridGeometry.DiviceCount=v.Value;}\n          }\n        }\n      );\n  }\n\n  protected ConstructGeometry():Geometry\n  {\n    this.gridGeometry=new CircleGeometry(this.Name);\n    return this.gridGeometry;\n  }\n\n    public beforeLoad()\n  {\n    super.beforeLoad();\n  }\n\n}\n\nexport=CircleGeometryNode\n","\nimport GeometryNodeBase = require(\"./GeometryNodeBase\");\nimport Geometry = require(\"../../../Core/Geometries/Geometry\")\nimport CubeGeometry = require(\"../../../Core/Geometries/CubeGeometry\");\nimport GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\n\nclass CubeGeometryNode extends GeometryNodeBase\n{\n  private gridGeometry:CubeGeometry;\n\n  constructor(elem: HTMLElement,parent:GomlTreeNodeBase)\n  {\n      super(elem,parent);\n  }\n\n  protected ConstructGeometry():Geometry\n  {\n    return this.gridGeometry=new CubeGeometry(this.Name);\n  }\n\n    public beforeLoad()\n  {\n    super.beforeLoad();\n  }\n\n}\n\nexport=CubeGeometryNode\n","import GeometryNodeBase = require(\"./GeometryNodeBase\");\nimport Geometry = require(\"../../../Core/Geometries/Geometry\")\nimport CylinderGeometry = require(\"../../../Core/Geometries/CylinderGeometry\");\nimport GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nclass CylinderGeometryNode extends GeometryNodeBase\n{\n  private gridGeometry:CylinderGeometry;\n\n  constructor(elem: HTMLElement,parent:GomlTreeNodeBase)\n  {\n      super(elem,parent);\n      this.attributes.defineAttribute\n      (\n        {\n          \"divide\":\n          {\n            value:30,\n            converter:\"integer\",\n            handler:(v)=>{this.gridGeometry.DivideCount=v.Value;}\n          }\n        }\n      );\n  }\n\n  protected ConstructGeometry():Geometry\n  {\n    return this.gridGeometry=new CylinderGeometry(this.Name);\n  }\n\n    public beforeLoad()\n  {\n    super.beforeLoad();\n    this.gridGeometry.DivideCount=this.attributes.getValue(\"divide\");\n  }\n\n\n\n\n}\n\nexport=CylinderGeometryNode;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport JThreeID = require(\"../../../Base/JThreeID\");\nimport Geometry = require(\"../../../Core/Geometries/Geometry\");\n/**\n* Base class for managing geometry node.\n*/\nclass GomlTreeGeometryNode extends GomlTreeNodeBase\n{\n  constructor(elem: HTMLElement,parent:GomlTreeNodeBase)\n  {\n      super(elem,parent);\n  }\n\n  private name:string;\n  /**\n  * GOML Attribute\n  * Identical Name for geometry\n  */\n    public get Name():string{\n    this.name=this.name||this.element.getAttribute('name')||JThreeID.getUniqueRandom(10);\n    return this.name;\n  }\n\n  private lazy:boolean=undefined;\n  /**\n  * GOML Attribute\n  * If this Attribute was true, this resource will be loaded when be used first.\n  */\n    public get Lazy():boolean\n  {\n    this.lazy=typeof this.lazy === 'undefined'?this.element.getAttribute('lazy').toLowerCase()=='true':this.lazy;\n    return this.lazy;\n  }\n\n  private targetGeometry:Geometry;\n\n/**\n* The geometry this node managing.\n*/\n    public get TargetGeometry():Geometry\n  {\n    return this.targetGeometry;\n  }\n  /**\n  * Generate geometry instance for the geometry.\n  * You need to override this function to extend this class.\n  */\n  protected ConstructGeometry():Geometry\n  {\n    return null;\n  }\n\n    public beforeLoad():void\n  {\n    super.beforeLoad();\n    this.targetGeometry=this.ConstructGeometry();\n    this.nodeManager.nodeRegister.addObject(\"jthree.geometries\",this.Name,this);\n  }\n}\nexport=GomlTreeGeometryNode;\n","import GeometryNodeBase = require(\"./GeometryNodeBase\");\nimport Geometry = require(\"../../../Core/Geometries/Geometry\")\nimport GridGeometry = require(\"../../../Core/Geometries/GridGeometry\");\nimport GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nclass GridGeometryNode extends GeometryNodeBase\n{\n  private gridGeometry:GridGeometry;\n\n  constructor(elem: HTMLElement,parent:GomlTreeNodeBase)\n  {\n      super(elem,parent);\n  }\n\n  protected ConstructGeometry():Geometry\n  {\n    return this.gridGeometry=new GridGeometry(this.Name);\n  }\n\n    public beforeLoad()\n  {\n    super.beforeLoad();\n    this.gridGeometry.HolizontalDivide=this.HDiv;\n    this.gridGeometry.VerticalDivide=this.VDiv;\n  }\n\n  private hdiv=10;\n  private vdiv=10;\n\n    public get HDiv():number\n  {\n    this.hdiv=parseFloat(this.element.getAttribute(\"hdiv\"));\n    this.hdiv=this.hdiv||10;\n    return this.hdiv;\n  }\n\n    public get VDiv():number\n  {\n    this.vdiv =parseFloat(this.element.getAttribute(\"vdiv\"));\n    this.vdiv=this.vdiv||10;\n    return this.vdiv;\n  }\n\n\n}\n\nexport=GridGeometryNode\n","import GeometryNodeBase = require(\"./GeometryNodeBase\");\nimport GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport Geometry = require(\"../../../Core/Geometries/Geometry\");\nimport QuadGeometry = require(\"../../../Core/Geometries/QuadGeometry\");\n\nclass QuadGeometryNode extends GeometryNodeBase\n{\n  private TriGeometry:QuadGeometry;\n\n  constructor(elem: HTMLElement,parent:GomlTreeNodeBase)\n  {\n      super(elem,parent);\n  }\n\n  protected ConstructGeometry():Geometry\n  {\n    return this.TriGeometry=new QuadGeometry(this.Name);\n  }\n\n    public beforeLoad()\n  {\n    super.beforeLoad();\n  }\n}\n\nexport=QuadGeometryNode;\n","import GeometryNodeBase = require(\"./GeometryNodeBase\");\nimport GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport Vector3 = require(\"../../../Math/Vector3\");\nimport Geometry = require(\"../../../Core/Geometries/Geometry\");\nimport TriangleGeometry = require(\"../../../Core/Geometries/TriangleGeometry\");\n\nclass GomlTreeTriNode extends GeometryNodeBase\n{\n  private TriGeometry:TriangleGeometry;\n\n  constructor(elem: HTMLElement,parent:GomlTreeNodeBase)\n  {\n      super(elem,parent);\n  }\n\n  protected ConstructGeometry():Geometry\n  {\n    return this.TriGeometry=new TriangleGeometry(this.Name);\n  }\n\n    public beforeLoad()\n  {\n    super.beforeLoad();\n    this.TriGeometry.First=this.First;\n    this.TriGeometry.Second=this.Second;\n    this.TriGeometry.Third=this.Third;\n  }\n\n  private first:Vector3;\n\n    public get First():Vector3{\n    this.first=this.first||Vector3.parse(this.element.getAttribute('first')||\"(-1,0,0)\");\n    return this.first;\n  }\n\n  private second:Vector3;\n\n    public get Second():Vector3\n  {\n    this.second=this.second||Vector3.parse(this.element.getAttribute('second')||\"(0,1,0)\");\n    return this.second;\n  }\n\n  private third:Vector3;\n\n    public get Third():Vector3\n  {\n    this.third=this.third||Vector3.parse(this.element.getAttribute('third')||\"(1,0,0)\");\n    return this.third;\n  }\n}\n\nexport=GomlTreeTriNode;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport Delegates = require(\"../../../Base/Delegates\");\nimport TreeNodeBase = require(\"../../TreeNodeBase\");\nclass LoaderNode extends GomlTreeNodeBase {\n  public loaderHTML:string;\n\n  constructor(elem: HTMLElement, parent: GomlTreeNodeBase) {\n    super(elem, parent);\n    this.loaderHTML = elem.innerHTML;\n    this.attributes.defineAttribute(\n      {\n        \"name\":{\n          value:undefined,\n          handler:(v)=>{},\n          converter:\"string\"\n        }\n      }\n    )\n    this.nodeManager.nodeRegister.addObject(\"jthree.loader\",this.attributes.getValue(\"name\"),this);\n  }\n}\n\nexport = LoaderNode;\n","import DebugSprite = require(\"../../../Core/Materials/Forward/SpriteMaterial\");\nimport GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport MaterialNodeBase = require('./MaterialNodeBase');\nimport Material = require('../../../Core/Materials/Material')\nimport ViewportNode = require('../Renderers/ViewPortNode');\nimport ResourceManager = require(\"../../../Core/ResourceManager\");\nimport JThreeContext = require(\"../../../JThreeContext\");\nimport ContextComponents = require(\"../../../ContextComponents\");\nclass DefferedDebugNode extends MaterialNodeBase {\n    public material: DebugSprite;\n\n    constructor(elem: HTMLElement, parent: GomlTreeNodeBase) {\n        super(elem, parent);\n        this.attributes.defineAttribute({\n            \"target\": {\n                value: \"rb1\", converter: \"string\"\n            },\n            \"viewport\":\n            {\n                value: \"viewport\", converter: \"string\", handler: (v) => {\n                    var viewportTargets = this.nodeManager.getNodeByQuery(v.Value);\n                    if (viewportTargets.length > 0) {\n                        var viewport = <ViewportNode>viewportTargets[0];\n                        JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager).\n                          getTextureHandler(viewport.TargetViewport.ID + \".\" + this.attributes.getValue(\"target\"), (v) => {\n                            this.material.texture = v;\n                        });\n                    }\n                }\n            },\n            \"R\":\n            {\n                value: \"0\", converter: \"number\", handler: (v) => { this.material.ctR = v.Value; }\n            },\n\n            \"G\":\n            {\n                value: \"1\", converter: \"number\", handler: (v) => { this.material.ctG = v.Value; }\n            },\n\n            \"B\":\n            {\n                value: \"2\", converter: \"number\", handler: (v) => { this.material.ctB = v.Value; }\n            },\n\n            \"A\":\n            {\n                value: \"3\", converter: \"number\", handler: (v) => { this.material.ctA = v.Value; }\n            }\n        });\n\n    }\n\n    protected ConstructMaterial(): Material {\n        this.material = new DebugSprite();\n        return this.material;\n    }\n\n    public beforeLoad() {\n        super.beforeLoad();\n    }\n\n}\n\nexport =DefferedDebugNode;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport Material = require('../../../Core/Materials/Material');\nimport JThreeID = require(\"../../../Base/JThreeID\");\nclass MaterialNodeBase extends GomlTreeNodeBase\n{\n    public targetMaterial:Material;\n\n    protected ConstructMaterial():Material\n    {\n      return null;\n    }\n\n    constructor(elem:HTMLElement,parent:GomlTreeNodeBase) {\n        super(elem,parent);\n        this.attributes.defineAttribute({\n        });\n    }\n\n    public beforeLoad()\n    {\n      this.targetMaterial=this.ConstructMaterial();\n      this.nodeManager.nodeRegister.addObject(\"jthree.materials\",this.Name,this);\n    }\n\n    private name:string;\n    /**\n    * GOML Attribute\n    * Identical Name for camera\n    */\n    public get Name():string{\n      this.name=this.name||this.element.getAttribute('name')||JThreeID.getUniqueRandom(10);\n      return this.name;\n    }\n\n}\n\nexport=MaterialNodeBase;\n","\nimport Phong = require(\"../../../Core/Materials/Forward/PhongMaterial\");\nimport GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport MaterialNodeBase = require('./MaterialNodeBase');\nimport Material = require('../../../Core/Materials/Material')\nimport TextureNode = require(\"../Texture/TextureNode\")\nclass PhongNode extends MaterialNodeBase\n{\n    public material:Phong;\n\n    constructor(elem:HTMLElement,parent:GomlTreeNodeBase) {\n        super(elem,parent);\n        this.attributes.defineAttribute({\n          \"diffuse\":{\n            value:\"#f0C\",converter:\"color4\",handler:(v)=>{this.material.diffuse=v.Value}\n          },\n          \"ambient\":{\n            value:\"#222\",converter:\"color4\",handler:(v)=>{this.material.ambient=v.Value}\n          },\n          \"specular\":\n          {\n            value:\"#CCC\",converter:\"color3\",handler:(v)=>{this.material.specular=v.Value;}\n          },\n          \"specularpower\":\n          {\n            value:10,converter:\"number\",handler:(v)=>{this.material.specularCoefficient=v.Value;}\n          },\n          \"texture\":\n          {\n              value:null, converter: \"string\", handler: (v) =>\n              {\n                  if(v.Value)\n                  this.material.texture = (<TextureNode>this.nodeManager.nodeRegister.getObject(\"jthree.resource.texture2d\", v.Value)).TargetTexture;\n              }\n          }\n        });\n\n    }\n\n    protected ConstructMaterial():Material\n    {\n      this.material=new Phong();\n      return this.material;\n    }\n\n    public beforeLoad()\n    {\n      super.beforeLoad();\n    }\n\n    public afterLoad() {\n        super.afterLoad();\n        this.attributes.applyDefaultValue();\n    }\n\n}\n\nexport=PhongNode;\n","\nimport SolidColor = require(\"../../../Core/Materials/Forward/SolidColorMaterial\");\nimport GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport MaterialNodeBase = require('./MaterialNodeBase');\nimport Material = require('../../../Core/Materials/Material');\nclass SolidColorNode extends MaterialNodeBase\n{\n    public material:SolidColor;\n\n    constructor(elem:HTMLElement,parent:GomlTreeNodeBase) {\n        super(elem,parent);\n        this.attributes.defineAttribute({\n          \"color\":{\n            value:\"#0FC\",converter:\"color4\",handler:(v)=>{this.material.Color=v.Value}\n          }\n        });\n\n    }\n\n    protected ConstructMaterial():Material\n    {\n      this.material=new SolidColor();\n      return this.material;\n    }\n\n    public beforeLoad()\n    {\n      super.beforeLoad();\n    }\n}\n\nexport=SolidColorNode;\n","\nimport Sprite = require(\"../../../Core/Materials/Forward/SpriteMaterial\");\nimport GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport MaterialNodeBase = require('./MaterialNodeBase');\nimport Material = require('../../../Core/Materials/Material')\nimport ResourceManager = require(\"../../../Core/ResourceManager\");\nimport JThreeContext = require(\"../../../JThreeContext\");\nimport ContextComponents = require(\"../../../ContextComponents\");\nclass SpriteNode extends MaterialNodeBase {\n    public material: Sprite;\n\n    constructor(elem: HTMLElement, parent: GomlTreeNodeBase) {\n        super(elem, parent);\n        this.attributes.defineAttribute({\n            \"texture\":\n            {//TODO implement texture node\n                value: \"tex\", converter: \"string\", handler: (v) => {\n                    JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager).getTextureHandler(v.Value, (v) => {\n                        this.material.texture = v;\n                    });\n                }\n            }\n        });\n\n    }\n\n    protected ConstructMaterial(): Material {\n        this.material = new Sprite();\n        return this.material;\n    }\n\n    public beforeLoad() {\n        super.beforeLoad();\n    }\n\n}\n\nexport =SpriteNode;\n","import DebugSprite = require(\"../../../Core/Materials/Forward/SpriteMaterial\");\nimport GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport MaterialNodeBase = require('./MaterialNodeBase');\nimport Material = require('../../../Core/Materials/Material')\nimport ContextComponents = require(\"../../../ContextComponents\");\nimport JThreeContext = require(\"../../../JThreeContext\");\nimport ResourceManager = require(\"../../../Core/ResourceManager\");\nclass TextureDebugNode extends MaterialNodeBase {\n    public material: DebugSprite;\n\n    constructor(elem: HTMLElement, parent: GomlTreeNodeBase) {\n        super(elem, parent);\n        this.attributes.defineAttribute({\n            \"target\": {\n                value: \"rb1\", converter: \"string\",\n                handler: (v) => {\n                        JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager)\n                          .getTextureHandler(this.attributes.getValue(\"target\"), (v) => {\n                            this.material.texture = v;\n                        });\n                }\n            },\n            \"R\":\n            {\n                value: \"0\", converter: \"number\", handler: (v) => { this.material.ctR = v.Value; }\n            },\n\n            \"G\":\n            {\n                value: \"1\", converter: \"number\", handler: (v) => { this.material.ctG = v.Value; }\n            },\n\n            \"B\":\n            {\n                value: \"2\", converter: \"number\", handler: (v) => { this.material.ctB = v.Value; }\n            },\n\n            \"A\":\n            {\n                value: \"3\", converter: \"number\", handler: (v) => { this.material.ctA = v.Value; }\n            },\n        });\n\n    }\n\n    protected ConstructMaterial(): Material {\n        this.material = new DebugSprite();\n        return this.material;\n    }\n\n    public beforeLoad() {\n        super.beforeLoad();\n    }\n\n}\n\nexport =TextureDebugNode;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport BasicRenderer = require(\"../../../Core/Renderers/BasicRenderer\");\nimport CanvasNodeBase = require(\"../Canvases/CanvasNodeBase\");\nimport Rectangle = require(\"../../../Math/Rectangle\");\nimport Scene = require(\"../../../Core/Scene\");\nimport SceneObjectNodeBase = require(\"../SceneObjects/SceneObjectNodeBase\");\nimport CameraNodeBase = require(\"../SceneObjects/Cameras/CameraNodeBase\");\nimport CanvasNode = require(\"../Canvases/CanvasNode\");\nimport PerspectiveCamera = require(\"../../../Core/Camera/PerspectiveCamera\");\nimport SkyboxStage = require(\"../../../Core/Renderers/RenderStages/SkyBoxStage\");\nimport CubeTextureTag = require(\"../Texture/CubeTextureNode\");\nimport CubeTexture = require(\"../../../Core/Resources/Texture/CubeTexture\");\nimport RenderStageChain = require(\"../../../Core/Renderers/RenderStageChain\");\nimport RendererFactory = require(\"../../../Core/Renderers/RendererFactory\");\nclass ViewPortNode extends GomlTreeNodeBase {\n\n  private parentCanvas:CanvasNode;\n\n  private targetRenderer:BasicRenderer;\n\n  private skyBoxStageChain:RenderStageChain;\n\n  public get TargetViewport():BasicRenderer\n  {\n    return this.targetRenderer;\n  }\n\n    constructor(elem: HTMLElement,parent:GomlTreeNodeBase)\n    {\n        super(elem,parent);\n    }\n\n    public afterLoad(){\n      var rdr:CanvasNode=this.parentCanvas=<CanvasNode>this.parent;\n      var defaultRect = rdr.Canvas.region;\n      this.targetRenderer=RendererFactory.generateRenderer(rdr.Canvas,defaultRect,this.attributes.getValue(\"config\"));\n      var cameraNode=this.resolveCamera();\n      this.targetRenderer.Camera=cameraNode.TargetCamera;\n      var scene:Scene=cameraNode.ContainedSceneNode.targetScene;\n      scene.addRenderer(this.targetRenderer);\n\n      if (\"resize\" in rdr ) {\n          var castedRdr = <CanvasNode>rdr;\n          castedRdr.resize(this.updateViewportArea.bind(this));\n      }\n\n      //register attributes\n      this.attributes.defineAttribute({\n        \"width\":{\n          value:defaultRect.Width,\n          converter:\"number\",handler:v=>{\n            this.width=v.Value;\n            this.updateViewportArea();\n          }\n        },\n        \"height\":{\n          value:defaultRect.Height,\n          converter:\"number\",handler:v=>{\n            this.height=v.Value;\n            this.updateViewportArea();\n          }\n        },\n        \"left\":{\n          value:defaultRect.Left,\n          converter:\"number\",handler:v=>{\n            this.left=v.Value;\n            this.updateViewportArea();\n          }\n        },\n        \"top\":{\n          value:defaultRect.Top,\n          converter:\"number\",handler:v=>{\n            this.top=v.Value;\n            this.updateViewportArea();\n          }\n        },\n        \"backgroundType\":\n        {\n          value:\"color\",\n          converter:\"string\",\n          handler:v =>{\n            if(v.Value !== \"skybox\" && this.skyBoxStageChain)\n            {\n              this.targetRenderer.renderPath.deleteStage(this.skyBoxStageChain);\n              this.skyBoxStageChain = null;\n            }\n          }\n        },\n        \"skybox\":\n        {\n          value:null,\n          converter:\"string\",\n          handler:v=>{\n            if(this.attributes.getValue(\"backgroundType\")===\"skybox\")\n            {\n              var cubeTexture = <CubeTextureTag>this.nodeManager.nodeRegister.getObject(\"jthree.resource.cubetexture\",v.Value);\n              if(cubeTexture)\n              {\n                if(!this.skyBoxStageChain)\n                {\n                  this.skyBoxStageChain ={\n                    buffers:{\n                      OUT:\"default\"\n                    },\n                    stage:new SkyboxStage(this.targetRenderer)\n                  };\n                  this.targetRenderer.renderPath.insertWithIndex(0,this.skyBoxStageChain);\n                }\n                (<SkyboxStage>this.skyBoxStageChain.stage).skyBoxTexture = <CubeTexture>cubeTexture.TargetTexture;\n              }\n            }\n          }\n        },\n        \"config\":{\n          converter:\"string\",\n          value:\"default\"\n        },\n        \"name\":\n        {\n          converter:\"string\",\n          value:undefined,\n          handler:(v)=>\n          {\n            if(v.Value)this.targetRenderer.name = v.Value;\n          }\n        }\n      });\n      this.attributes.applyDefaultValue();\n    }\n\n    private updateViewportArea() {\n\n        if (\"targetFrame\" in this.parentCanvas) {\n            var castedRdr = <CanvasNode>this.parentCanvas;\n            var frame = castedRdr.targetFrame;\n\n            castedRdr.resize(this.updateViewportArea.bind(this));\n            var W = frame.clientWidth;\n            var H = frame.clientHeight;\n            var left = this.left > 1 ? this.left : W * this.left;\n            var top = this.top > 1 ? this.top : H * this.top;\n            var width = this.width > 1 ? this.width : W * this.width;\n            var height = this.height > 1 ? this.height : H * this.height;\n            this.targetRenderer.region = new Rectangle(left, top, width, height);\n\n            if (\"Aspect\" in this.targetRenderer.Camera) {//todo Cameranho^\n                var castedCam = <PerspectiveCamera>this.targetRenderer.Camera;\n                castedCam.Aspect = width / height;\n            }\n        } else {\n            this.targetRenderer.region = new Rectangle(this.left, this.top, this.width, this.height);\n\n            if (\"Aspect\" in this.targetRenderer.Camera) {\n                var castedCam = <PerspectiveCamera>this.targetRenderer.Camera;\n                castedCam.Aspect = this.width / this.height;\n            }\n        }\n\n    }\n\n    private resolveCamera():CameraNodeBase\n    {\n      var camTags=this.nodeManager.nodeRegister.getAliasMap<SceneObjectNodeBase>(\"jthree.camera\");\n      if(!camTags.has(this.Cam))//if there was no specified camera\n      {\n        console.error(\"can not find camera\");\n        if(camTags.size==0)\n        {\n          console.error(\"There is no scene.\");\n        }else\n        {\n\n        }\n        return null;\n      }\n      var targetCam=<CameraNodeBase>camTags.get(this.Cam);\n      if(targetCam.ContainedSceneNode!=null)//if there was specified camera and there is Scene\n      {\n        return targetCam;\n      }else\n      {\n        console.error(\"cant retrieve scene!\");\n      }\n    }\n    private cam:string;\n    private left:number;\n    private top:number;\n    private width:number;\n    private height:number;\n\n    public get Cam():string\n    {\n      this.cam=this.cam||this.element.getAttribute('cam');\n      return this.cam;\n    }\n\n}\n\nexport=ViewPortNode;\n","import GomlTreeNodeBase = require(\"../GomlTreeNodeBase\");\nimport Scene = require(\"../../Core/Scene\");\nimport JThreeContext = require('../../JThreeContext');\nimport SceneManager = require(\"../../Core/SceneManager\");\nimport ContextComponents = require(\"../../ContextComponents\");\nclass SceneNode extends GomlTreeNodeBase\n{\n    public targetScene:Scene;\n\n  constructor(elem: HTMLElement,parent:GomlTreeNodeBase)\n  {\n      super(elem,parent);\n  }\n\n    public beforeLoad()\n  {\n    this.attributes.defineAttribute({\n        \"ambient\":{\n          value:\"#111\",\n          converter:\"color3\",\n          handler:(v)=>{\n            this.targetScene.sceneAmbient = v.Value;\n          }\n        },\n        \"name\":\n        {\n          value:\"\",\n          converter:\"string\"\n        }\n      });\n    var sceneName = this.attributes.getValue(\"name\");\n    if(sceneName == \"\") sceneName =null;\n    this.targetScene=new Scene(sceneName);\n    JThreeContext.getContextComponent<SceneManager>(ContextComponents.SceneManager).addScene(this.targetScene);\n  }\n\n}\n\nexport=SceneNode;\n","import GomlTreeNodeBase = require(\"../../../GomlTreeNodeBase\");\nimport SceneObjectNodeBase = require(\"../SceneObjectNodeBase\");\nimport GomlTreeSceneNode = require(\"../../SceneNode\");\nimport Camera = require(\"../../../../Core/Camera/Camera\");\nimport PerspectiveCamera = require(\"../../../../Core/Camera/PerspectiveCamera\");\nimport GomlTreeCameraNodeBase = require(\"./CameraNodeBase\");\n\nclass GomlTreeCameraNode extends GomlTreeCameraNodeBase\n{\n\n  constructor(elem: HTMLElement,parent:GomlTreeNodeBase,parentSceneNode:GomlTreeSceneNode,parentObject:SceneObjectNodeBase)\n  {\n      super(elem,parent,parentSceneNode,parentObject);\n      this.attributes.defineAttribute(\n        {\n          \"fovy\":{\n            value:Math.PI/4,\n            converter:\"angle\",\n            handler:(v)=>{this.targetPerspective.Fovy=v.Value;}\n          },\n          \"aspect\":{\n            value:0,\n            converter:\"number\",\n            handler:(v)=>{this.targetPerspective.Aspect=v.Value;}\n          },\n          \"near\":\n          {\n            value:0.1,\n            converter:\"number\",\n            handler:(v)=>{this.targetPerspective.Near=v.Value}\n          },\n          \"far\":\n          {\n            value:10,\n            converter:\"number\",\n            handler:(v)=>{this.targetPerspective.Far=v.Value}\n          }\n        }\n      );\n  }\n  private targetPerspective:PerspectiveCamera;\n\n  protected ConstructCamera():Camera\n  {\n    var camera=new PerspectiveCamera();\n    this.targetPerspective=camera;\n    camera.Fovy=this.Fovy;\n    camera.Aspect=this.Aspect;\n    camera.Near=this.Near;\n    camera.Far=this.Far;\n    return camera;\n  }\n\n    public get Fovy():number\n  {\n    return this.attributes.getValue(\"fovy\");\n  }\n\n    public get Aspect():number\n  {\n    return this.attributes.getValue(\"aspect\");\n  }\n\n    public get Near():number\n  {\n    return this.attributes.getValue(\"near\");\n  }\n\n    public get Far():number\n  {\n    return this.attributes.getValue(\"far\");\n  }\n}\n\nexport=GomlTreeCameraNode;\n","import GomlTreeNodeBase = require(\"../../../GomlTreeNodeBase\");\nimport JThreeID = require(\"../../../../Base/JThreeID\");\nimport SceneObjectNodeBase = require(\"../SceneObjectNodeBase\");\nimport GomlTreeSceneNode = require(\"../../SceneNode\");\nimport Camera = require(\"../../../../Core/Camera/Camera\");\nimport SceneObject = require(\"../../../../Core/SceneObject\");\n\nclass GomlTreeCameraNodeBase extends SceneObjectNodeBase\n{\n  private targetCamera:Camera;\n\n  public get TargetCamera():Camera\n  {\n    return this.targetCamera;\n  }\n\n  constructor(elem: HTMLElement,parent:GomlTreeNodeBase,parentSceneNode:GomlTreeSceneNode,parentObject:SceneObjectNodeBase)\n  {\n      super(elem,parent,parentSceneNode,parentObject);\n      this.nodeManager.nodeRegister.addObject(\"jthree.camera\",this.Name,this);\n  }\n\n  protected ConstructCamera():Camera\n  {\n    return null;\n  }\n\n  protected ConstructTarget():SceneObject\n  {\n    this.targetCamera=this.ConstructCamera();\n    return this.targetCamera;\n  }\n\n    public beforeLoad()\n  {\n    super.beforeLoad();\n  }\n\n    public Load()\n  {\n    super.Load();\n  }\n\n  private name:string;\n  /**\n  * GOML Attribute\n  * Identical Name for camera\n  */\n    public get Name():string{\n    this.name=this.name||this.element.getAttribute('name')||JThreeID.getUniqueRandom(10);\n    return this.name;\n  }\n}\n\nexport=GomlTreeCameraNodeBase;\n","import GomlTreeNodeBase = require(\"../../../GomlTreeNodeBase\");\nimport SceneObjectNodeBase = require(\"../SceneObjectNodeBase\");\nimport GomlTreeSceneNode = require(\"../../SceneNode\");\nimport Camera = require(\"../../../../Core/Camera/Camera\");\nimport OrthoCamera = require(\"../../../../Core/Camera/OrthoCamera\");\nimport GomlTreeCameraNodeBase = require(\"./CameraNodeBase\");\n\nclass OrthoCameraNode extends GomlTreeCameraNodeBase {\n\n  constructor(elem: HTMLElement, parent: GomlTreeNodeBase, parentSceneNode: GomlTreeSceneNode, parentObject: SceneObjectNodeBase) {\n    super(elem, parent, parentSceneNode, parentObject);\n    this.attributes.defineAttribute(\n      {\n        \"left\": {\n          value: -100,\n          converter: \"number\",\n          handler: (v) => {\n            this.targetOrtho.Left = v.Value;\n          }\n        },\n        \"right\": {\n          value: 100,\n          converter: \"number\",\n          handler: (v) => {\n            this.targetOrtho.Right = v.Value;\n          }\n        },\n         \"bottom\": {\n          value: -100,\n          converter: \"number\",\n          handler: (v) => {\n            this.targetOrtho.Bottom = v.Value;\n          }\n        },\n        \"top\": {\n          value: 100,\n          converter: \"number\",\n          handler: (v) => {\n            this.targetOrtho.Top = v.Value;\n          }\n         },\n          \"near\": {\n            value: -100,\n            converter: \"number\",\n            handler: (v) => {\n              this.targetOrtho.Near = v.Value;\n            }\n          },\n          \"far\": {\n            value: -100,\n            converter: \"number\",\n            handler: (v) => {\n              this.targetOrtho.Far = v.Value;\n            }\n          }\n      }\n      );\n  }\n  private targetOrtho: OrthoCamera;\n\n  protected ConstructCamera(): Camera {\n    var camera = new OrthoCamera();\n    this.targetOrtho = camera;\n    camera.Left = this.attributes.getValue(\"left\");\n    camera.Bottom = this.attributes.getValue(\"right\");\n    camera.Top = this.attributes.getValue(\"top\");\n    camera.Right = this.attributes.getValue(\"right\");\n    camera.Far = this.attributes.getValue('far');\n    camera.Near = this.attributes.getValue('near');\n    return camera;\n  }\n\n}\n\nexport =OrthoCameraNode;\n","import GomlTreeNodeBase = require(\"../../../GomlTreeNodeBase\");\nimport SceneObjectNodeBase = require(\"../SceneObjectNodeBase\");\nimport GomlTreeSceneNode = require(\"../../SceneNode\");\nimport LightNodeBase = require('./LightNodeBase');\nimport AreaLight = require(\"../../../../Core/Light/Impl/AreaLight\");\nimport LightBase =require('../../../../Core/Light/LightBase');\nimport Vector3 = require(\"../../../../Math/Vector3\");\nclass AreaLightNode extends LightNodeBase\n{\n\tprivate targetLight:AreaLight;\n\n\tconstructor(elem: HTMLElement, parent: GomlTreeNodeBase, parentSceneNode: GomlTreeSceneNode, parentObject: SceneObjectNodeBase) {\n\t\tsuper(elem, parent, parentSceneNode, parentObject);\n\t\tthis.attributes.defineAttribute({\n\t\t\t\"intensity\":{\n\t\t\t\tvalue:1,converter:\"number\",handler:(v)=>{this.targetLight.intensity=v.Value;}\n\t\t\t},\n\t\t\t\"right\":{\n\t\t\t\tvalue:1,\n\t\t\t\tconverter:\"number\",\n\t\t\t\thandler:(v)=>{\n\t\t\t\t\tthis.targetLight.rightLength = v.Value;\n\t\t\t\t}\n\t\t\t}\n\t\t\t,\n\t\t\t\"top\":{\n\t\t\t\tvalue: 1,\n\t\t\t\tconverter:\"number\",\n\t\t\t\thandler:(v)=>{\n\t\t\t\t\tthis.targetLight.topLength = v.Value;\n\t\t\t\t}\n\t\t\t}\n\t\t\t,\n\t\t\t\"far\":{\n\t\t\t\tvalue: 1,\n\t\t\t\tconverter:\"number\",\n\t\t\t\thandler:(v)=>{\n\t\t\t\t\tthis.targetLight.farLength = v.Value;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected constructLight():LightBase\n\t{\n\t\tthis.targetLight= new AreaLight(this.ContainedSceneNode.targetScene);\n\t\treturn this.targetLight;\n\t}\n}\nexport = AreaLightNode;\n","import GomlTreeNodeBase = require(\"../../../GomlTreeNodeBase\");\nimport SceneObjectNodeBase = require(\"../SceneObjectNodeBase\");\nimport GomlTreeSceneNode = require(\"../../SceneNode\");\nimport LightNodeBase = require('./LightNodeBase');\nimport DirectionalLight = require('../../../../Core/Light/Impl/DirectionalLight');\nimport LightBase =require('../../../../Core/Light/LightBase');\nclass DirectionalLightNode extends LightNodeBase\n{\n\tprivate targetLight:DirectionalLight;\n\n\tconstructor(elem: HTMLElement, parent: GomlTreeNodeBase, parentSceneNode: GomlTreeSceneNode, parentObject: SceneObjectNodeBase) {\n\t\tsuper(elem, parent, parentSceneNode, parentObject);\n\t\tthis.attributes.defineAttribute({\n\t\t\t\"intensity\":{\n\t\t\t\tvalue:1,converter:\"number\",handler:(v)=>{this.targetLight.intensity=v.Value;}\n\t\t\t},\n\t\t\t\"shadow\":{\n\t\t\t\tvalue:false,\n\t\t\t\tconverter:\"boolean\",\n\t\t\t\thandler:(v)=>{\n\t\t\t\t\tthis.targetLight.isShadowDroppable = v.Value;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"bias\":\n\t\t\t{\n\t\t\t\tvalue:0.01,\n\t\t\t\tconverter:\"number\",\n\t\t\t\thandler:(v)=>{\n\t\t\t\t\tthis.targetLight.bias = v.Value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\t}\n\n\tpublic afterLoad()\n\t{\n\t\tthis.attributes.applyDefaultValue();\n\t}\n\n\tprotected constructLight():LightBase\n\t{\n\t\tthis.targetLight= new DirectionalLight(this.ContainedSceneNode.targetScene);\n\t\treturn this.targetLight;\n\t}\n}\nexport = DirectionalLightNode;\n","import GomlTreeNodeBase = require(\"../../../GomlTreeNodeBase\");\nimport SceneObjectNodeBase = require(\"../SceneObjectNodeBase\");\nimport GomlTreeSceneNode = require(\"../../SceneNode\");\nimport SceneObject = require(\"../../../../Core/SceneObject\");\nimport LightBase =require('../../../../Core/Light/LightBase');\nclass LightNodeBase extends SceneObjectNodeBase {\n\n\tprivate targetLightBase:LightBase;\n\n\tconstructor(elem: HTMLElement, parent: GomlTreeNodeBase, parentSceneNode: GomlTreeSceneNode, parentObject: SceneObjectNodeBase) {\n\t\tsuper(elem, parent, parentSceneNode, parentObject);\n\t\tthis.attributes.defineAttribute({\n\t\t\t\"color\":{\n\t\t\t\tvalue:\"white\",converter:\"color4\",handler:(v)=>{\n\t\t\t\t\tthis.targetLightBase.Color=v.Value;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t * Construct target light object when this method was called.\n\t */\n\tprotected constructLight():LightBase\n\t{\n\t\treturn null;\n\t}\n\n\tprotected ConstructTarget():SceneObject\n\t{\n\t\tthis.targetLightBase=this.constructLight();\n\t\treturn this.targetLightBase;\n\t}\n\n}\n\nexport = LightNodeBase;\n","import GomlTreeNodeBase = require(\"../../../GomlTreeNodeBase\");\nimport SceneObjectNodeBase = require(\"../SceneObjectNodeBase\");\nimport GomlTreeSceneNode = require(\"../../SceneNode\");\nimport LightNodeBase = require('./LightNodeBase');\nimport PointLight = require('../../../../Core/Light/Impl/PointLight');\nimport LightBase =require('../../../../Core/Light/LightBase');\nclass PointLightNode extends LightNodeBase\n{\n\tprivate targetLight:PointLight;\n\n\t\tconstructor(elem: HTMLElement, parent: GomlTreeNodeBase, parentSceneNode: GomlTreeSceneNode, parentObject: SceneObjectNodeBase) {\n\t\tsuper(elem, parent, parentSceneNode, parentObject);\n\t\tthis.attributes.defineAttribute({\n\t\t\t\"intensity\":{\n\t\t\t\tvalue:1,converter:\"number\",handler:(v)=>{this.targetLight.intensity=v.Value;}\n\t\t\t},\n\t\t\t\"decay\":\n\t\t\t{\n\t\t\t\tvalue:1,converter:\"number\",handler:(v)=>{this.targetLight.decay=v.Value;}\n\t\t\t},\n\t\t\t\"distance\":\n\t\t\t{\n\t\t\t\tvalue:1,converter:\"number\",handler:(v)=>{this.targetLight.distance=v.Value;}\n\t\t\t}\n\n\t\t});\n\t}\n\n\tprotected constructLight():LightBase\n\t{\n\t\tthis.targetLight= new PointLight(this.ContainedSceneNode.targetScene);\n\t\treturn this.targetLight;\n\t}\n}\nexport = PointLightNode;\n","import GomlTreeNodeBase = require(\"../../../GomlTreeNodeBase\");\nimport SceneObjectNodeBase = require(\"../SceneObjectNodeBase\");\nimport GomlTreeSceneNode = require(\"../../SceneNode\");\nimport LightNodeBase = require('./LightNodeBase');\nimport SceneLight = require('../../../../Core/Light/Impl/SceneLight');\nimport LightBase =require('../../../../Core/Light/LightBase');\nclass SceneLightNode extends LightNodeBase\n{\n\tprivate targetLight:SceneLight;\n\n\tconstructor(elem: HTMLElement, parent: GomlTreeNodeBase, parentSceneNode: GomlTreeSceneNode, parentObject: SceneObjectNodeBase) {\n\t\tsuper(elem, parent, parentSceneNode, parentObject);\n\t\tthis.attributes.defineAttribute({\n\t\t\t\"intensity\":{\n\t\t\t\tvalue:1,converter:\"number\",handler:(v)=>{this.targetLight.intensity=v.Value;}\n\t\t\t}\n\t\t}\n\t);\n\t}\n\n\tpublic afterLoad()\n\t{\n\t\tthis.attributes.applyDefaultValue();\n\t}\n\n\tprotected constructLight():LightBase\n\t{\n\t\tthis.targetLight= new SceneLight(this.ContainedSceneNode.targetScene);\n\t\treturn this.targetLight;\n\t}\n}\nexport = SceneLightNode;\n","import GomlTreeNodeBase = require(\"../../../GomlTreeNodeBase\");\nimport SceneObjectNodeBase = require(\"../SceneObjectNodeBase\");\nimport GomlTreeSceneNode = require(\"../../SceneNode\");\nimport LightNodeBase = require('./LightNodeBase');\nimport SpotLight = require('../../../../Core/Light/Impl/SpotLight');\nimport LightBase =require('../../../../Core/Light/LightBase');\nclass SpotLightNode extends LightNodeBase\n{\n\tprivate targetLight:SpotLight;\n\n\t\tconstructor(elem: HTMLElement, parent: GomlTreeNodeBase, parentSceneNode: GomlTreeSceneNode, parentObject: SceneObjectNodeBase) {\n\t\tsuper(elem, parent, parentSceneNode, parentObject);\n\t\tthis.attributes.defineAttribute({\n\t\t\t\"intensity\":{\n\t\t\t\tvalue:1,converter:\"number\",handler:(v)=>{this.targetLight.intensity=v.Value;}\n\t\t\t},\n\t\t\t\"decay\":\n\t\t\t{\n\t\t\t\tvalue:1,converter:\"number\",handler:(v)=>{this.targetLight.decay=v.Value;}\n\t\t\t},\n      \"inner\":\n      {\n        value:\"10d\",converter:\"angle\",handler:(v)=>{\n          this.targetLight.inner = v.Value;\n        }\n      },\n      \"outer\":{\n        value:\"25d\",\n        converter:\"angle\",\n        handler:(v)=>{\n          this.targetLight.outer = v.Value;\n        }\n      }\n\n\t\t});\n\t}\n\n\tprotected constructLight():LightBase\n\t{\n\t\tthis.targetLight= new SpotLight(this.ContainedSceneNode.targetScene);\n\t\treturn this.targetLight;\n\t}\n}\nexport = SpotLightNode;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport SceneObjectNodeBase = require(\"./SceneObjectNodeBase\");\nimport SceneNode = require(\"../SceneNode\");\nimport SceneObject = require(\"../../../Core/SceneObject\");\nimport BasicMeshObject = require(\"../../../Shapes/BasicMeshObject\");\nimport GeometryNodeBase = require(\"../Geometries/GeometryNodeBase\");\nimport MaterialNode = require(\"../Materials/MaterialNodeBase\");\nimport SolidColor = require(\"../../../Core/Materials/Forward/SolidColorMaterial\");\nclass GomlTreeMeshNode extends SceneObjectNodeBase\n{\n  private targetMesh:BasicMeshObject;\n\n  constructor(elem: HTMLElement,parent:GomlTreeNodeBase,parentSceneNode:SceneNode,parentObject:SceneObjectNodeBase)\n  {\n      super(elem,parent,parentSceneNode,parentObject);\n  }\n\n  protected ConstructTarget():SceneObject\n  {\n    var geo=<GeometryNodeBase>this.nodeManager.nodeRegister.getObject(\"jthree.geometries\",this.Geo);\n    var mat=<MaterialNode>this.nodeManager.nodeRegister.getObject(\"jthree.materials\",this.Mat);\n    this.targetMesh=new BasicMeshObject(geo.TargetGeometry,mat?mat.targetMaterial:new SolidColor());\n    return this.targetMesh;\n  }\n\n    public beforeLoad()\n  {\n    super.beforeLoad();\n  }\n\n    public Load()\n  {\n    super.Load();\n  }\n\n  private geo:string;\n  public get Geo():string\n  {\n    this.geo=this.geo||this.element.getAttribute(\"geo\");\n    return this.geo;\n  }\n\n  private mat:string;\n    public JThreeObject\n  public get Mat():string\n  {\n    this.mat=this.mat||this.element.getAttribute(\"mat\");\n    return this.mat;\n  }\n\n}\n\nexport=GomlTreeMeshNode;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport SceneObjectNodeBase = require(\"./SceneObjectNodeBase\");\nimport SceneNode = require(\"../SceneNode\");\nimport SceneObject = require(\"../../../Core/SceneObject\");\nimport Mesh = require(\"../../../Shapes/Mesh\");\nimport TemplateNode = require(\"../Templates/TemplateNode\");\n// import GomlParser = require(\"../../GomlParser.ts\");\n\nclass ObjectNode extends SceneObjectNodeBase\n{\n  private targetObject:SceneObject;\n\n  private targetTemplate:TemplateNode;\n\n  constructor(elem: HTMLElement,parent:GomlTreeNodeBase,parentSceneNode:SceneNode,parentObject:SceneObjectNodeBase)\n  {\n      super(elem,parent,parentSceneNode,parentObject);\n      // TODO: pnly\n      // var templateName=elem.getAttribute(\"template\");\n      // if(templateName)\n      // {\n      //   this.targetTemplate=<TemplateNode>this.nodeManager.nodeRegister.getObject(\"jthree.template\",templateName);\n        // GomlParser.instanciateTemplate(this.targetTemplate.GetGomlToInstanciate(this.element),this);\n      // }\n  }\n\n  protected ConstructTarget():SceneObject\n  {\n    this.targetObject=new SceneObject();\n    return this.targetObject;\n  }\n\n    public beforeLoad()\n  {\n    super.beforeLoad();\n  }\n\n    public Load()\n  {\n    super.Load();\n  }\n\n}\n\nexport=ObjectNode;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport SceneNode = require(\"../SceneNode\");\nimport SceneObject = require(\"../../../Core/SceneObject\");\nimport Vector3 = require(\"../../../Math/Vector3\");\nimport Quaternion = require(\"../../../Math/Quaternion\");\nimport AttributeParser = require(\"../../AttributeParser\");\nclass SceneObjectNodeBase extends GomlTreeNodeBase {\n  constructor(elem: HTMLElement, parent: GomlTreeNodeBase, parentSceneNode: SceneNode, parentObject: SceneObjectNodeBase) {\n    super(elem, parent);\n    this.containedSceneNode = parentSceneNode;\n    this.parentSceneObjectNode = parentObject;\n    this.attributes.defineAttribute({\n      \"position\": {\n        value: new Vector3(0, 0, 0),\n        converter: \"vector3\", handler: (v) => {\n          if (this.targetSceneObject != null) this.targetSceneObject.Transformer.Position = <Vector3>v.Value; }\n      },\n      \"scale\": {\n        value: new Vector3(1, 1, 1),\n        converter: \"vector3\", handler: (v) => { if (this.targetSceneObject != null) this.targetSceneObject.Transformer.Scale = <Vector3>v.Value; }\n      },\n      \"rotation\":\n      {\n        value: Quaternion.Identity,\n        converter: \"rotation\",\n        handler: (v) => {\n          if (this.targetSceneObject != null)\n            this.targetSceneObject.Transformer.Rotation = v.Value;\n        }\n      },\n      \"name\":\n      {\n        value:undefined,\n        converter:\"string\",\n        handler:(v)=>\n        {\n          if(this.targetSceneObject&&v.Value)this.targetSceneObject.name = v.Value;\n        }\n      }\n    });\n  }\n\n  protected ConstructTarget(): SceneObject {\n    return null;\n  }\n\n  protected targetUpdated() {\n\n  }\n\n\n  public beforeLoad(): void {\n    super.beforeLoad();\n    this.targetSceneObject = this.ConstructTarget();\n    if (this.targetSceneObject == null) return;\n    if(!this.targetSceneObject.name||this.targetSceneObject.ID == this.targetSceneObject.name)\n      this.targetSceneObject.name = `${this.targetSceneObject.getTypeName()}(${this.targetSceneObject.ID})`;\n    //append targetObject to parent\n    this.applyHierarchy();\n    this.attributes.applyDefaultValue();\n  }\n\n  private applyHierarchy() {\n    if (!this.targetSceneObject) {\n      console.error(\"SceneObject node must override ConstructTarget and return the object extending SceneObjnect\");\n    } else {\n      if (this.parentSceneObjectNode == null)//this is root object of scene\n        this.containedSceneNode.targetScene.addObject(this.targetSceneObject);\n      else {\n        if (this.parentSceneObjectNode.targetSceneObject == null) return;\n        this.parentSceneObjectNode.targetSceneObject.addChild(this.targetSceneObject);\n      }\n    }\n\n  }\n\n  public parentChanged() {\n    this.applyHierarchy();\n  }\n\n  protected targetSceneObject: SceneObject;\n\n  public get TargetObject() {\n    return this.targetSceneObject;\n  }\n\n  /**\n  * SceneNode containing this node\n  */\n  private containedSceneNode: SceneNode = null;\n\n  public get ContainedSceneNode(): SceneNode {\n    return this.containedSceneNode;\n  }\n\n  /**\n  * SceneObjectNode directly containing this node\n  */\n  private parentSceneObjectNode: SceneObjectNodeBase = null;\n\n  public get ParentSceneObjectNode(): SceneObjectNodeBase {\n    return this.parentSceneObjectNode;\n  }\n\n  private position: Vector3;\n\n  public get Position(): Vector3 {\n    return this.position || Vector3.parse(this.element.getAttribute('position') || \"0\");\n  }\n\n  private rotation: Quaternion;\n\n  public get Rotation(): Quaternion {\n    return this.rotation || AttributeParser.ParseRotation3D(this.element.getAttribute('rotation') || \"x(0)\");\n  }\n\n  private scale: Vector3;\n\n  public get Scale(): Vector3 {\n    return this.scale || Vector3.parse(this.element.getAttribute('scale') || \"1\");\n  }\n\n}\n\nexport =SceneObjectNodeBase;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\n\nclass TemplateNode extends GomlTreeNodeBase\n{\n  private static parentIgnore:string[]=[\"template\"];\n\n  private static templateIgnore:string[]=[\"name\"];\n\n  private templateGoml:string=\"\";\n\n  public get TemplateGoml():string\n  {\n    return this.templateGoml;\n  }\n\n  constructor(elem: HTMLElement,parent:GomlTreeNodeBase)\n  {\n      super(elem,parent);\n      var name=elem.getAttribute(\"name\");\n      if(name)\n      {\n        this.nodeManager.nodeRegister.addObject(\"jthree.template\",name,this);\n        this.templateGoml=elem.innerHTML;\n      }else{\n        console.error(\"template tag should be specified name.\")\n      }\n  }\n\n  public GetGomlToInstanciate(instanciateParent:HTMLElement):string\n  {\n    var valueMap:{[key:string]:string}={};\n    var templateAttributes=this.element.attributes;\n    for (var i = 0; i < templateAttributes.length; i++) {\n      var attribute = templateAttributes.item(i);\n      if(TemplateNode.templateIgnore.indexOf(attribute.name)===-1)\n      {\n        valueMap[attribute.name]=attribute.value;\n      }\n    }\n    var instanciateParentAttributes=instanciateParent.attributes;\n    for (var i = 0; i < instanciateParentAttributes.length; i++) {\n      var attribute = instanciateParentAttributes.item(i);\n      if(TemplateNode.parentIgnore.indexOf(attribute.name)===-1)\n      {\n        valueMap[attribute.name]=attribute.value;\n      }\n    }\n    var replaceTarget:string = this.TemplateGoml;\n    for(var replaceKey in valueMap)\n    {\n      var value = valueMap[replaceKey];\n      replaceTarget=replaceTarget.replace(`{{${replaceKey}}}`,value);\n    }\n    return replaceTarget;\n  }\n\n}\n\nexport=TemplateNode;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport CubeTexture = require(\"../../../Core/Resources/Texture/CubeTexture\")\nimport TextureNodeBase = require(\"./TextureNodeBase\");\nimport ResourceManager = require(\"../../../Core/ResourceManager\");\nimport TextureBase = require(\"../../../Core/Resources/Texture/TextureBase\");\n/**\n * Cube texture resource node.\n */\nclass CubeTextureNode extends TextureNodeBase\n{\n\n    constructor(elem: HTMLElement, parent: GomlTreeNodeBase)\n    {\n        super(elem, parent);\n        this.attributes.defineAttribute({\n            srcs: {\n              // this src should be passed by splitted with ' '(space).\n              // src urls should be arranged in the layout below.\n              // PositiveX NegativeX PositiveY NegativeY PositiveZ NegativeZ\n                converter: \"string\",\n                src:\"\"\n            }\n        });\n    }\n\n    protected generateTexture(name: string, rm: ResourceManager): TextureBase\n    {\n        var texture=rm.createCubeTextureWithSource(\"jthree.goml.cubetexture.\" + name, null, false);\n        var srcsv = this.attributes.getValue(\"srcs\");\n        if (srcsv)\n        {\n            var srcs = srcsv.split(\" \");\n            for (var i = 0; i < 6; i++)\n            {\n                this.loadImg(i, srcs[i]);\n            }\n        }\n        return texture;\n    }\n\n    protected get TextureGroupName()\n    {\n        return \"cubetexture\";\n    }\n\n    private loadedFlags: boolean[] = [false, false, false, false, false, false];\n\n    private loadedImages:HTMLImageElement[] =[null,null,null,null,null,null];\n\n    private loadImg(index:number,src:string) {\n        var img = this.loadedImages[index] = new Image();\n        img.onload = () =>\n        {\n            this.loadedFlags[index] = true;\n            var allTrue = true;\n            for (var j = 0; j < 6; j++)\n            {\n                if (!this.loadedFlags[j]) allTrue = false;\n            }\n            if (allTrue)\n            {\n                (<CubeTexture>this.TargetTexture).ImageSource = this.loadedImages;\n            }\n        }\n        img.src = src;\n    }\n}\n\nexport =CubeTextureNode;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport Texture = require(\"../../../Core/Resources/Texture/Texture\");\nimport ResourceManager = require(\"../../../Core/ResourceManager\")\nimport TextureBase = require(\"../../../Core/Resources/Texture/TextureBase\")\nimport TextureNodeBase = require(\"./TextureNodeBase\");\n/**\n * Basic 2d texture resource node.\n */\nclass TextureNode extends TextureNodeBase\n{\n    constructor(elem: HTMLElement, parent: GomlTreeNodeBase)\n    {\n        super(elem, parent);\n        this.attributes.defineAttribute({\n            src: {\n                converter: \"string\",\n                src:\"\"\n            }\n        });\n    }\n\n    protected generateTexture(name: string, rm: ResourceManager): TextureBase\n    {\n        var texture =rm.createTextureWithSource(\"jthree.goml.texture.\" + name, null);\n        var img = new Image();\n        img.onload = () =>\n        {\n            (<Texture>this.TargetTexture).ImageSource = img;\n        };\n        img.src = this.attributes.getValue(\"src\");\n        return texture;\n    }\n\n    protected get TextureGroupName()\n    {\n        return \"texture2d\";\n    }\n}\n\nexport =TextureNode;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport TextureBase = require(\"../../../Core/Resources/Texture/TextureBase\");\nimport ResourceManager = require(\"../../../Core/ResourceManager\");\nimport MinFilterType = require(\"../../../Wrapper/Texture/TextureMinFilterType\");\nimport MagFilterType = require(\"../../../Wrapper/Texture/TextureMagFilterType\");\nimport TextureWrapType = require(\"../../../Wrapper/Texture/TextureWrapType\");\nimport JThreeContext = require(\"../../../JThreeContext\");\nimport ContextComponents = require(\"../../../ContextComponents\");\n/**\n * All texture resource node class inherit this class.\n */\nclass TextureNodeBase extends GomlTreeNodeBase\n{\n    /**\n     * Texture reference being managed by this node.\n     * @type {TextureBase}\n     */\n    private targetTexture: TextureBase;\n\n    /**\n     * Texture reference being managed by this node.\n     */\n    public get TargetTexture()\n    {\n        return this.targetTexture;\n    }\n\n    constructor(elem: HTMLElement, parent: GomlTreeNodeBase)\n    {\n        super(elem, parent);\n        this.attributes.defineAttribute({\n            name: {\n                converter: \"string\",\n                value: \"\",\n                constant: true\n            },\n            minFilter:\n            {\n                converter: \"string\",\n                value: \"LINEAR\",\n                handler: (v) =>\n                {\n                    this.targetTexture.MinFilter = this.toMinFilterParameter(v.Value);\n                }\n            },\n            magFilter:\n            {\n                converter: \"string\",\n                value: \"LINEAR\",\n                handler: (v) =>\n                {\n                    this.targetTexture.MagFilter = this.toMagFilterParameter(v.Value);\n                }\n            },\n            twrap:{\n              converter:\"string\",\n              value:\"clamp\",\n              handler:(v)=>{\n                this.targetTexture.TWrap = this.toWrapParameter(v.Value);\n              }\n            },\n            swrap:\n            {\n              converter:\"string\",\n              value:\"clamp\",\n              handler:(v)=>{\n                this.targetTexture.SWrap = this.toWrapParameter(v.Value);\n              }\n            }\n        });\n    }\n\n    public beforeLoad()\n    {\n        super.beforeLoad();\n        var rm = JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager);\n        var name = this.attributes.getValue(\"name\");\n        this.targetTexture = this.generateTexture(name, rm);\n        this.nodeManager.nodeRegister.addObject(\"jthree.resource.\" + this.TextureGroupName, name, this);\n    }\n\n    protected generateTexture(name: string, rm: ResourceManager): TextureBase\n    {\n        return null;\n    }\n\n    protected get TextureGroupName()\n    {\n        return \"\";\n    }\n    /**\n     * Min filter attribute string is changed into enum by this method.\n     * @param  {string}        Attribute string\n     * @return {MinFilterType} Enum value being passed into gl context.\n     */\n    private toMinFilterParameter(attr: string): MinFilterType\n    {\n        attr = attr.toUpperCase();\n        switch (attr)\n        {\n            case \"NEARESTMIPLINEAR\":\n                return MinFilterType.NearestMipmapLinear;\n            case \"NEARESTMIPNEAREST\":\n                return MinFilterType.NearestMipmapNearest;\n            case \"LINEARMIPLINEAR\":\n                return MinFilterType.LinearMipmapLinear;\n            case \"LINEARMIPNEAREST\":\n                return MinFilterType.LinearMipmapNearest;\n            case \"NEAREST\":\n                return MinFilterType.Nearest;\n            case \"LINEAR\":\n            default:\n                return MinFilterType.Linear;\n        }\n    }\n    /**\n     * Mag filter attribute string is changed into enum by this method.\n     * @param  {string}        attr Attribute string\n     * @return {MagFilterType}      Enum value being passed into gl context.\n     */\n    private toMagFilterParameter(attr: string): MagFilterType\n    {\n        attr = attr.toUpperCase();\n        switch (attr)\n        {\n            case \"NEAREST\":\n                return MagFilterType.Nearest;\n            case \"LINEAR\":\n            default:\n                return MagFilterType.Linear;\n        }\n    }\n    /**\n     * Wrap attribute string is changed into enum by this method.\n     * @param  {string} attr Attribute string\n     * @return {[type]}      Enum value being passed into gl context.\n     */\n    private toWrapParameter(attr:string)\n    {\n      attr = attr.toUpperCase();\n      switch(attr)\n      {\n        case \"REPEAT\":\n          return TextureWrapType.Repeat;\n        case \"MIRRORED_REPEAT\":\n          return TextureWrapType.MirroredRepeat;\n          default:\n          case \"CLAMP\":\n            return TextureWrapType.ClampToEdge;\n      }\n    }\n}\n\nexport =TextureNodeBase;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport OrderedTopLevelNodeBase = require(\"./OrderedTopLevelNodeBase\");\nclass CanvasesNode extends OrderedTopLevelNodeBase {\n  constructor(elem: HTMLElement, parent: GomlTreeNodeBase) {\n    super(elem, parent);\n  }\n\n  public get loadPriorty():number\n  {\n    return 2000;\n  }\n\n}\n\nexport = CanvasesNode;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport Delegates = require(\"../../../Base/Delegates\");\nimport TreeNodeBase = require(\"../../TreeNodeBase\");\nimport OrderedTopLevelNodeBase = require(\"./OrderedTopLevelNodeBase\");\nclass GomlNode extends GomlTreeNodeBase {\n  constructor(elem: HTMLElement, parent: GomlTreeNodeBase) {\n    super(elem, parent);\n  }\n\n  /**\n   * Add child to this node\n   */\n  public addChild(child:TreeNodeBase):void\n  {\n      super.addChild(child);\n      this.children.sort((n1,n2)=>(<OrderedTopLevelNodeBase>n1).loadPriorty-(<OrderedTopLevelNodeBase>n2).loadPriorty);\n  }\n}\n\nexport = GomlNode;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport OrderedTopLevelNodeBase = require(\"./OrderedTopLevelNodeBase\");\nclass LoadersNode extends OrderedTopLevelNodeBase {\n  constructor(elem: HTMLElement, parent: GomlTreeNodeBase) {\n    super(elem, parent);\n  }\n\n  public get loadPriorty():number\n  {\n    return 1000;\n  }\n\n}\n\nexport = LoadersNode;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\n\nclass OrderedTopLevelNodeBase extends GomlTreeNodeBase {\n  constructor(elem: HTMLElement, parent: GomlTreeNodeBase) {\n    super(elem, parent);\n  }\n\n  public get loadPriorty():number\n  {\n    return undefined;\n  }\n}\n\nexport = OrderedTopLevelNodeBase;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport OrderedTopLevelNodeBase = require(\"./OrderedTopLevelNodeBase\");\nclass ResourcesNode extends OrderedTopLevelNodeBase {\n  constructor(elem: HTMLElement, parent: GomlTreeNodeBase) {\n    super(elem, parent);\n  }\n\n  public get loadPriorty():number\n  {\n    return 3000;\n  }\n\n}\n\nexport = ResourcesNode;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport OrderedTopLevelNodeBase = require(\"./OrderedTopLevelNodeBase\");\nclass ScenesNode extends OrderedTopLevelNodeBase {\n  constructor(elem: HTMLElement, parent: GomlTreeNodeBase) {\n    super(elem, parent);\n  }\n\n  public get loadPriorty():number\n  {\n    return 5000;\n  }\n\n}\n\nexport = ScenesNode;\n","import GomlTreeNodeBase = require(\"../../GomlTreeNodeBase\");\nimport OrderedTopLevelNodeBase = require(\"./OrderedTopLevelNodeBase\");\nclass TemplatesNode extends OrderedTopLevelNodeBase {\n  constructor(elem: HTMLElement, parent: GomlTreeNodeBase) {\n    super(elem, parent);\n  }\n\n  public get loadPriorty():number\n  {\n    return 4000;\n  }\n\n}\n\nexport = TemplatesNode;\n","import JThreeObjectWithID = require(\"../Base/JThreeObjectWithID\");\nimport Delegates = require(\"../Base/Delegates\");\nimport GomlNodeEventList = require(\"./GomlNodeEventList\");\n/**\n * The most base class for GOML Tree\n */\nclass TreeNodeBase extends JThreeObjectWithID\n{\n\tconstructor(elem:HTMLElement,parent?:TreeNodeBase)\n\t{\n\t\tsuper();\n\t\tthis.element=elem;\n\t\tif(parent!=null)parent.addChild(this);\n\t}\n\n\t/**\n\t * The HTMLElement related to this element.\n\t */\n\tprotected element:HTMLElement;\n\n    /**\n     * HTMLElement related to this element.\n     */\n\tpublic get Element():HTMLElement\n\t{\n\t\treturn this.element;\n\t}\n\n\t/**\n\t * the parent node of this node\n\t */\n\tprotected parent:TreeNodeBase;\n\n\t/**\n\t * the node array of this node\n\t */\n\tprotected children:TreeNodeBase[]=[];\n\n\tpublic events:GomlNodeEventList={};\n\n\t/**\n\t * Add child to this node\n\t */\n\tpublic addChild(child:TreeNodeBase):void\n\t{\n\t    child.parent = this;\n        this.children.push(child);\n\t}\n\n\t/**\n\t * Execute delegate in each nodes recursively.\n\t */\n\tpublic callRecursive(act:Delegates.Action1<TreeNodeBase>)\n\t{\n\t\tact(this);\n\t\tthis.children.forEach(v=>v.callRecursive(act));\n\t}\n\n\tpublic update()\n\t{\n\n\t}\n\n\tpublic bubbleEvent(eventName:string,eventParam:any)\n\t{\n\t\teventParam.needPropagation = true;\n\t\teventParam.stopPropagation = function()\n\t\t{\n\t\t\teventParam.needPropagation = false;\n\t\t};\n\t\tthis.bubblingEvent(eventName,eventParam);\n\t}\n\n\tprivate bubblingEvent(eventName:string,eventParam:any)\n\t{\n\t\tif(this.events[eventName])\n\t\t{\n\t\t\tvar handlers = this.events[eventName];\n\t\t\tfor(let i = 0; i < handlers.length; i++)\n\t\t\t{\n\t\t\t\thandlers[i](eventParam);\n\t\t\t}\n\t\t}\n\t\tif(eventParam.needPropagation&&this.parent)this.parent.bubblingEvent(eventName,eventParam);\n\t}\n}\n\nexport = TreeNodeBase;\n","import MaterialManager = require(\"./Core/Materials/Base/MaterialManager\");\nimport ShaderProgramParser = require(\"./Core/Materials/Base/ShaderProgramParser\");\nimport Timer = require(\"./Core/Timer\");\nimport Delegates = require('./Base/Delegates');\nimport JThreeInterface = require('./JThreeInterface');\nimport BehaviorDeclaration = require(\"./Goml/Behaviors/BehaviorDeclaration\");\nimport BehaviorDeclarationBody = require(\"./Goml/Behaviors/BehaviorDeclarationBody\");\nimport agent = require(\"superagent\");\nimport JThreeLogger = require(\"./Base/JThreeLogger\");\nimport JThreeContext = require(\"./JThreeContext\");\nimport SceneManager = require(\"./Core/SceneManager\");\nimport CanvasManager = require(\"./Core/CanvasManager\");\nimport LoopManager = require(\"./Core/LoopManager\");\nimport ContextComponents = require(\"./ContextComponents\");\nimport ResourceManager = require(\"./Core/ResourceManager\");\nimport NodeManager = require(\"./Goml/NodeManager\");\nimport Debugger = require(\"./Debug/Debugger\");\nimport GomlLoader = require(\"./Goml/GomlLoader\");\nimport ResourceLoader = require(\"./Core/ResourceLoader\");\n\n/**\n* the methods having the syntax like j3.SOMETHING() should be contained in this class.\n* These methods declared inside of this class will be subscribed in JThreeInit.Init(),it means the first time.\n*/\nclass JThreeStatic {\n    public defineBehavior(behaviorName: string, decl: BehaviorDeclarationBody | Delegates.Action0);\n    public defineBehavior(declarations: BehaviorDeclaration);\n    public defineBehavior(nameOrDeclarations: string | BehaviorDeclaration, declaration?: BehaviorDeclarationBody | Delegates.Action0) {\n        JThreeContext.getContextComponent<NodeManager>(ContextComponents.NodeManager).behaviorRegistry.defineBehavior(<string>nameOrDeclarations, declaration);//This is not string but it is for conviniesnce.\n    }\n\n    public get Math() {\n        return {\n            Quaternion: require(\"./Math/Quaternion\"),\n            Vector2:\n            require(\"./Math/Vector2\"),\n            Vector3:\n            require(\"./Math/Vector3\"),\n            Vector4:\n            require(\"./Math/Vector4\")\n        };\n    }\n}\n\n/**\n* Provides initialization of jThree.js\n* You don't need to call this class directly, jThreeInit will be called automatically when jThree.js is loaded.\n*/\nclass JThreeInit {\n\n    public static SelfTag: HTMLScriptElement;\n\n    /**\n    * Actual definition of j3(\"selector\") syntax.\n    * This method have two roles.\n    * 1, to use for select elements like jQuery in GOML.\n    * 2, to use for subscribing eventhandler to be called when j3 is loaded.\n    */\n    public static j3(query: string | Delegates.Action0): JThreeInterface {\n        var nodeManager = JThreeContext.getContextComponent<NodeManager>(ContextComponents.NodeManager);//This is not string but it is for conviniesnce.\n        if (typeof query === 'function') {//check whether this is function or not.\n            nodeManager.loadedHandler.addListener(query);\n            return undefined;//when function was subscribed, it is no need to return JThreeInterface.\n        }\n        var targetObject: NodeList = nodeManager.htmlRoot.querySelectorAll(<string>query); //call as query\n        return new JThreeInterface(targetObject);\n    }\n\n    /**\n    * This method should be called when Jthree loaded.\n    */\n    public static Init(): void {\n        var scripts = document.getElementsByTagName('script');\n        JThreeInit.SelfTag = scripts[scripts.length - 1];\n        //register interfaces\n        window[\"j3\"] = JThreeInit.j3;//$(~~~)\n        var pro = Object.getPrototypeOf(window[\"j3\"]);\n        for (var key in JThreeStatic.prototype) {\n            pro[key] = JThreeStatic.prototype[key];\n        }\n        window[\"j3\"][\"lateStart\"] = JThreeInit.startInitialize;\n        JThreeContext.init();\n        JThreeContext.registerContextComponent(new Timer());\n        JThreeContext.registerContextComponent(new LoopManager());\n        JThreeContext.registerContextComponent(new ResourceLoader());\n        JThreeContext.registerContextComponent(new SceneManager());\n        JThreeContext.registerContextComponent(new CanvasManager());\n        JThreeContext.registerContextComponent(new ResourceManager());\n        JThreeContext.registerContextComponent(new NodeManager());\n        JThreeContext.registerContextComponent(new Debugger());\n        JThreeContext.registerContextComponent(new MaterialManager());\n        ShaderProgramParser.parseCombined(`\n//@import jthree.builtin.vertex\n//@import jthree.builtin.vertex\n\n//@fragonly\n//This is main function\nvoid main(void)\n{\n\n}\n//@vertonly\nvoid frag(void)\n{\n\n}\n          `,\"vert\",\"frag\");\n        var canvasManager = JThreeContext.getContextComponent<CanvasManager>(ContextComponents.CanvasManager);\n        var loopManager = JThreeContext.getContextComponent<LoopManager>(ContextComponents.LoopManager);\n        var timer = JThreeContext.getContextComponent<Timer>(ContextComponents.Timer);\n        var sceneManager = JThreeContext.getContextComponent<SceneManager>(ContextComponents.SceneManager);\n        loopManager.addAction(1000, () => timer.updateTimer());\n        //loopManager.addAction(2000,()=>this.updateAnimation());\n        //loopManager.addAction(3000,()=>this.gomlLoader.update());\n        loopManager.addAction(4000, () => canvasManager.beforeRenderAll());\n        loopManager.addAction(5000, () => sceneManager.renderAll());\n        loopManager.addAction(6000, () => canvasManager.afterRenderAll());\n        if (JThreeInit.SelfTag.getAttribute('x-lateLoad') !== \"true\") window.addEventListener('DOMContentLoaded', () => {\n            JThreeInit.startInitialize();\n        });\n    }\n\n    private static startInitialize() {\n        var nodeManager = JThreeContext.getContextComponent<NodeManager>(ContextComponents.NodeManager);//This is not string but it is for conviniesnce.\n        var loader = new GomlLoader(nodeManager, JThreeInit.SelfTag)\n        loader.initForPage();\n        JThreeContext.getContextComponent<Debugger>(ContextComponents.Debugger).attach();\n        var resourceLoader = JThreeContext.getContextComponent<ResourceLoader>(ContextComponents.ResourceLoader);\n        resourceLoader.promise.then(() => {\n            JThreeContext.getContextComponent<LoopManager>(ContextComponents.LoopManager).begin();\n        });\n    }\n}\nexport = JThreeInit;\n","import IContextComponent = require(\"./IContextComponent\");\ninterface JThreeWindow extends Window\n{\n  j3:{context:any;}\n}\ndeclare var window:any;\n/**\n * Most top level api container for jThree.\n * @type {[type]}\n */\nclass JThreeContext\n{\n  /**\n   * Initialize jThreeContext to be used.\n   */\n    public static init()\n    {\n      if(!window.j3.context)window.j3.context = new JThreeContext();\n    }\n\n    private static get context():JThreeContext\n    {\n      return window.j3.context;\n    }\n\n    /**\n     * Registered context component references\n     */\n    private contextComponents:{[index:number]:any} = {};\n\n    /**\n     * Register context component\n     * @param  {IContextComponent} contextComponent context component you want to register\n     */\n    public static registerContextComponent(contextComponent:IContextComponent):void\n    {\n      if(JThreeContext.context.contextComponents[contextComponent.getContextComponentIndex()])console.warn(\"Reregisteration of context component\");\n      JThreeContext.context.contextComponents[contextComponent.getContextComponentIndex()] = contextComponent;\n    }\n\n    /**\n     * Get registered context component\n     * @param  {number}            index context component index of a context component you want to obtain.\n     * @return {IContextComponent}      context component related to the argument\n     */\n    public static getContextComponent<T>(index:number):T\n    {\n      return JThreeContext.context.contextComponents[index];\n    }\n}\n\nexport = JThreeContext;\n","import JThreeObject = require(\"./Base/JThreeObject\");\nimport JThreeContext = require(\"./JThreeContext\");\nimport ContextComponents = require(\"./ContextComponents\");\nimport Timer = require(\"./Core/Timer\");\nimport GomlTreeNodeBase = require(\"./Goml/GomlTreeNodeBase\");\nimport Delegate = require(\"./Base/Delegates\");\nimport NodeManager = require(\"./Goml/NodeManager\");\n\n/**\n * Provides jQuery like API for jThree.\n */\nclass JThreeInterface extends JThreeObject {\n  constructor(target: NodeList) {\n    super();\n    this.target = target;\n  }\n  private queuedActions: Delegate.Action0[] = [];\n\n  public dequeue() {\n    this.queuedActions.shift();\n    this.isExecuting = false;\n    this.tryStartQueue();\n    return this;\n  }\n\n  private tryStartQueue() {\n    if (!this.isExecuting && this.queuedActions.length > 0) {\n      this.isExecuting = true;\n      this.queuedActions[0].call(this);\n    }\n  }\n\n  public queue(act: Delegate.Action0): JThreeInterface {\n    this.queuedActions.push(act);\n    this.tryStartQueue();\n    return this;\n  }\n\n  public delay(time: number): JThreeInterface {\n    this.queue(() => {\n      window.setTimeout((t) => { t.dequeue(); }, time, this);\n    });\n    return this;\n  }\n\n  private isExecuting = false;\n\n  private target: NodeList;\n\n  public attr(attrName: string);\n  public attr(attrTargets: { [key: string]: any });\n  public attr(attrName: string, val: Delegate.Func2<number,string,any>);\n  public attr(attrName: string, val: any);\n  public attr(attrTarget: { [key: string]: any } | string, val?: Delegate.Func2<number, string, any> | any): JThreeInterface | any {\n    if (typeof attrTarget === \"string\") {\n      if (val) {\n        if (typeof val === \"function\") {\n          var f1 = (attrName: string, func: Delegate.Func2<number, string, any>) => {\n            for (let i = 0; i < this.target.length; i++) {\n              ((i) => {\n                var e = this.target[i]\n                var gomlNode = JThreeInterface.getNode(<HTMLElement>e);\n                this.setAttrValue(attrName, func(i, attrName), <HTMLElement>e, gomlNode);\n              })(i);\n            }\n            this.dequeue();\n          }\n          this.queue(() => { f1(attrTarget,val); });\n          return this;\n        } else {\n          var f2 = (attrName: string, value:any) => {\n            for (let i = 0; i < this.target.length; i++) {\n              ((i) => {\n                var e = this.target[i]\n                var gomlNode = JThreeInterface.getNode(<HTMLElement>e);\n                this.setAttrValue(attrName,  value, <HTMLElement>e, gomlNode);\n              })(i);\n            }\n            this.dequeue();\n          }\n          this.queue(() => { f2(attrTarget, val); });\n          return this;\n        }\n      }else\n        return this.getAttr(<string>attrTarget);\n    } else if (typeof attrTarget === \"object\") {\n      var f = (attrTarget: { [key: string]: any }) => {\n        for (let i = 0; i < this.target.length; i++) {\n          ((i) => {\n            var e = this.target[i]\n            var gomlNode = JThreeInterface.getNode(<HTMLElement>e);\n            for (var attrName in attrTarget) {\n              var value = attrTarget[attrName];\n              this.setAttrValue(attrName, value, <HTMLElement>e, gomlNode);\n            }\n          })(i);\n        }\n        this.dequeue();\n      }\n      this.queue(() => { f(<{ [key: string]: any }>attrTarget); });\n      return this;\n    }\n  }\n\n  private getAttr(attrName: string): any {\n    if (this.target.length === 0) return undefined;\n    var target =  <HTMLElement>this.target[0];\n    var targetGoml = JThreeInterface.getNode(target);\n    if (targetGoml.attributes.isDefined(attrName)) {\n      return targetGoml.attributes.getValue(attrName);\n    } else {\n      return target.attributes.getNamedItem(attrName).value;\n    }\n  }\n\n  private setAttrValue(attrName: string, attrValue: any, e: HTMLElement, gomlNode: GomlTreeNodeBase) {\n    if (gomlNode.attributes.isDefined(attrName)) {\n      gomlNode.attributes.setValue(attrName, attrValue);\n    } else {\n      e.setAttribute(attrName, attrValue);\n    }\n  }\n\n  public animate(attrTarget: { [key: string]: any }, duration: number, easing?: string, onComplete?: Delegate.Action0): JThreeInterface {\n    var t = this;\n    var f = (attrTarget: { [key: string]: any }, duration: number, easing?: string, onComplete?: Delegate.Action0) => {\n      easing = easing || \"linear\";\n      for (var i = 0; i < t.target.length; i++) {\n        var e = this.target[i];\n        for (var attrName in attrTarget) {\n          var value = attrTarget[attrName];\n          var gomlNode = JThreeInterface.getNode(<HTMLElement>e);\n          if (gomlNode.attributes.isDefined(attrName)) {\n            var easingFunc = JThreeInterface.NodeManager.configurator.getEasingFunction(easing);\n            var timer = JThreeContext.getContextComponent<Timer>(ContextComponents.Timer);\n            // TODO: pnly\n            // JThreeInterface.Context.addAnimater(gomlNode.attributes.getAnimater(attrName, timer.Time, duration, gomlNode.attributes.getValue(attrName), value, easingFunc, () => {\n            //   if (onComplete) onComplete();\n            //   t.dequeue();\n            // }));\n          }\n        }\n      }\n    }\n    this.queue(() => f(attrTarget, duration, easing, onComplete));\n    return this;\n  }\n\n  public on(eventName:string,eventHandler:Delegate.Action1<any>)\n  {\n    for (let i = 0; i < this.target.length; i++) {\n      var e = <HTMLElement>this.target[i];\n      var node = JThreeInterface.getNode(e);\n      if(!node.events[eventName])node.events[eventName]=[];\n      node.events[eventName].push(eventHandler);\n    }\n  }\n\n  // public find(attrTarget: string): JThreeInterface {\n  //   return new JThreeInterface(this.target.querySelectorAll(attrTarget));\n  // }\n\n  // public append(target: string): JThreeInterface {\n  //   var newTarget: HTMLElement = (new DOMParser()).parseFromString(target, 'text/xml').documentElement;\n  //   for (let i = 0; i < this.target.length; i++) {\n  //     JThreeInterface.NodeManager.append(newTarget, <HTMLElement>this.target[i]);\n  //   }\n  //   return new JThreeInterface(newTarget);\n  // }\n\n  private static getNode(elem: HTMLElement): GomlTreeNodeBase {\n    var id = elem.getAttribute(\"x-j3-id\");\n    return JThreeInterface.NodeManager.getNode(id);\n  }\n\n  public static get NodeManager():NodeManager {\n     return JThreeContext.getContextComponent<NodeManager>(ContextComponents.NodeManager);\n  }\n}\n\nexport =JThreeInterface;\n","import Vector3 = require(\"./Vector3\");\n/**\n * Axis-Aligned Bounding Box implementation\n */\nclass AABB\n{\n  /**\n   * AABB's vertex in most left,most bottom,most far.\n   * @type {Vector3}\n   */\n  public pointLBF:Vector3;\n\n  /**\n  * AABB's vertex in most right,most top,most near.\n  * @type {Vector3}\n  */\n  public pointRTN:Vector3;\n\n  /**\n   * Width of this AABB\n   */\n  public get Width()\n  {\n    return Math.abs(this.pointLBF.X - this.pointRTN.X);\n  }\n\n  /**\n   * Height of this AABB\n   */\n  public get Height()\n  {\n    return Math.abs(this.pointLBF.Y - this.pointRTN.Y);\n  }\n\n  /**\n   * Distance of this AABB\n   */\n  public get Distance()\n  {\n    return Math.abs(this.pointLBF.Z - this.pointRTN.Z);\n  }\n\n\n  /**\n   * Calculate new bounding box with considering the new point is included.\n   * @param  {Vector3} newPoint the point that will be considered that it should be in this bounding box.\n   */\n  public expandAABB(newPoint:Vector3)\n  {\n    if(this.pointLBF==null)\n    {\n      //assume this is first time to be used this AABB instance\n      this.pointLBF = Vector3.copy(newPoint);\n      this.pointRTN = Vector3.copy(newPoint);\n    }\n    \n    this.pointLBF = Vector3.min(newPoint,this.pointLBF);\n    this.pointRTN = Vector3.max(newPoint,this.pointRTN);\n  }\n\n  /**\n   * Clean up this AABB with initial value.\n   */\n  public clear()\n  {\n    this.pointLBF=null;\n    this.pointRTN=null;\n  }\n\n  public toMathematicaCuboid()\n  {\n    return `Cuboid[${this.pointLBF.toMathematicaString()},${this.pointRTN.toMathematicaString()}]`;\n  }\n}\n\nexport = AABB;\n","import MatrixBase = require(\"./MatrixBase\");\nimport Vector3 = require(\"./Vector3\");\nimport Vector4 = require(\"./Vector4\");\nimport Delegates=require('../Base/Delegates');\nimport Quaternion = require(\"./Quaternion\");\nimport glm = require('gl-matrix');\nclass Matrix extends MatrixBase{\n    public static zero(): Matrix {\n        return new Matrix([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);\n    }\n\n    public static identity(): Matrix {\n        return new Matrix(glm.mat4.create());\n    }\n\n    public static fromElements(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33): Matrix {\n        return new Matrix([m00, m10, m20, m30, m01, m11, m21, m31, m02, m12, m22, m32, m03, m13, m23, m33]);\n    }\n\n    public static fromFunc(f:Delegates.Func2<number,number,number>)\n    {\n       return new Matrix([f(0, 0), f(1, 0), f(2, 0), f(3, 0), f(0, 1), f(1, 1), f(2, 1), f(3, 1), f(0, 2), f(1, 2), f(2, 2), f(3, 2), f(0, 3), f(1, 3), f(2, 3), f(3, 3)]);\n    }\n\n    private isValidArray(arr: Float32Array): boolean {\n        if (arr.length !== 16) return false;\n        return true;\n    }\n\n    constructor(arr?:glm.GLM.IArray) {\n        super();\n        if(arr)this.rawElements=arr;\n        else this.rawElements = glm.mat4.create();\n    }\n\n    public getAt(row: number, colmun: number): number {\n        return this.rawElements[colmun * 4 + row];\n    }\n\n    public setAt(row: number, colmun: number,  val: number) {\n        this.rawElements[colmun * 4 + row] = val;\n    }\n\n    public getBySingleIndex(index: number): number {\n        return this.rawElements[index];\n    }\n\n    public getColmun(col: number): Vector4 {\n        return new Vector4(this.rawElements[col * 4], this.rawElements[col * 4 + 1], this.rawElements[col * 4 + 2], this.rawElements[col * 4 + 3]);\n    }\n\n/**\n* Get row\n* @params row [0-3]\n*/\n    public getRow(row: number):Vector4 {\n        return new Vector4(this.rawElements[row], this.rawElements[row + 4], this.rawElements[row + 8], this.rawElements[row + 12]);\n    }\n\n    public static equal(m1: Matrix, m2: Matrix): boolean {\n        return Matrix.elementEqual(m1, m2);\n    }\n\n    public static add(m1: Matrix, m2: Matrix): Matrix {\n        var mat=glm.mat4.create();\n        for(var i=0;i<16;i++)\n        {\n            mat[i]=m1.rawElements[i]+m2.rawElements[i];\n        }\n        return new Matrix(mat);\n    }\n\n    public static subtract(m1: Matrix, m2: Matrix): Matrix {\n        return Matrix.add(m1,Matrix.negate(m2));\n    }\n\n    public static scalarMultiply(s: number, m: Matrix): Matrix {\n        var newMat=glm.mat4.create();\n        glm.mat4.multiply(newMat,[s,0,0,0,  0,s,0,0,  0,0,s,0 , 0,0,0,s],m.rawElements);\n        return new Matrix(newMat);\n    }\n\n    public static multiply(m1: Matrix, m2: Matrix): Matrix {\n        var newMat=glm.mat4.create();\n        return new Matrix(glm.mat4.mul(newMat,m1.rawElements,m2.rawElements));\n    }\n\n    public static TRS(t:Vector3,rot:Quaternion,s:Vector3):Matrix\n    {\n       var newMat =glm.mat4.create();var cacheMat=glm.mat4.create();\n       glm.mat4.mul(newMat,glm.mat4.translate(newMat,glm.mat4.create(),t.rawElements),glm.mat4.fromQuat(cacheMat,rot.rawElements));\n       glm.mat4.scale(newMat,newMat,s.rawElements);\n      return new Matrix(newMat);\n    }\n\n    public static negate(m: Matrix): Matrix {\n        return this.scalarMultiply(-1,m);\n    }\n\n    public static transpose(m: Matrix): Matrix {\n        var newMat = glm.mat4.create();\n        return new Matrix(glm.mat4.transpose(newMat,m.rawElements));\n    }\n\n    public static transformPoint(m: Matrix, t: Vector3): Vector3 {\n        var newVec=glm.vec3.create();\n        glm.vec3.transformMat4(newVec,t.rawElements,m.rawElements);\n        return new Vector3(newVec);\n    }\n\n    public static transformNormal(m: Matrix, t: Vector3): Vector3 {\n        var newVec=glm.vec4.create();\n        var trans=glm.vec4.create();\n       trans[0]=t.X;trans[1]=t.Y;trans[2]=t.Z;trans[3]=0;\n        glm.vec4.transformMat4(newVec,trans,m.rawElements)\n        return new Vector3(newVec[0],newVec[1],newVec[2]);\n    }\n\n    public static transform(m: Matrix, t: Vector4): Vector4 {\n        var newVec=glm.vec4.create();\n        var trans=glm.vec4.create();\n       trans[0]=t.X;trans[1]=t.Y;trans[2]=t.Z;trans[3]=t.W;\n        glm.vec4.transformMat4(newVec,trans,m.rawElements)\n        return new Vector4(newVec[0],newVec[1],newVec[2],newVec[3]);\n    }\n\n    /**\n     * Retrieve determinant of passed matrix\n     */\n    public static determinant(m: Matrix): number {\n        return glm.mat4.determinant(m.rawElements);\n    }\n\n    /**\n     * Compute inverted passed matrix.\n     */\n    public static inverse(m: Matrix): Matrix {\n      var newMat=glm.mat4.create();\n      return new Matrix(glm.mat4.invert(newMat,m.rawElements));\n    }\n\n    /**\n     * Generate linear translation transform matrix.\n     */\n    public static translate(v: Vector3): Matrix {\n        var newMat=glm.mat4.create();\n        glm.mat4.translate(newMat,newMat,v.rawElements);\n        return new Matrix(newMat);\n    }\n\n    /**\n     * Generate linear scaling transform matrix.\n     */\n    public static scale(v: Vector3): Matrix {\n        var newMat =glm.mat4.create();\n        glm.mat4.scale(newMat,newMat,v.rawElements);\n        return new Matrix(newMat);\n    }\n\n    public static rotateX(angle:number):Matrix{\n       var newMat = glm.mat4.create();\n       glm.mat4.rotateX(newMat,newMat,angle);\n       return new Matrix(newMat);\n    }\n\n    public static rotateY(angle:number):Matrix{\n       var newMat = glm.mat4.create();\n       glm.mat4.rotateY(newMat,newMat,angle);\n       return new Matrix(newMat);\n    }\n\n    public static rotateZ(angle:number):Matrix{\n       var newMat = glm.mat4.create();\n       glm.mat4.rotateZ(newMat,newMat,angle);\n       return new Matrix(newMat);\n    }\n\n    public static RotationQuaternion(quat:Quaternion):Matrix\n    {\n      var quaternion= glm.quat.create();\n      var newMat = glm.mat4.create();\n      glm.quat.normalize(quaternion,quat.rawElements);\n      glm.mat4.fromQuat(newMat,quaternion);\n      return new Matrix(newMat);\n    }\n\n    public static frustum(left: number, right: number, bottom: number, top: number, near: number, far: number): Matrix {\n        var newMat=glm.mat4.create();\n        glm.mat4.frustum(newMat,left,right,bottom,top,near,far);\n\t\treturn new Matrix(newMat);\n    }\n\n    public static ortho(left:number,right:number,bottom:number,top:number,near:number,far:number):Matrix\n    {\n        var newMat = glm.mat4.create();\n        glm.mat4.ortho(newMat,left,right,bottom,top,near,far);\n        return new Matrix(newMat);\n    }\n\n    public static perspective(fovy: number, aspect: number, near: number, far: number): Matrix {\n        var newMat = glm.mat4.create();\n        glm.mat4.perspective(newMat,fovy,aspect,near,far);\n        return new Matrix(newMat);\n    }\n\n    public static lookAt(eye: Vector3, lookAt: Vector3, up: Vector3): Matrix {\n        var newMat = glm.mat4.create();\n        glm.mat4.lookAt(newMat,eye.rawElements,lookAt.rawElements,up.rawElements);\n        return new Matrix(newMat);\n    }\n\n    public multiplyWith(m: Matrix): Matrix {\n        return Matrix.multiply(this, m);\n    }\n\n    public toString(): string {\n        return (`|${this.getBySingleIndex(0)} ${this.getBySingleIndex(4)} ${this.getBySingleIndex(8)} ${this.getBySingleIndex(12)}|\\n\n                 |${this.getBySingleIndex(1)} ${this.getBySingleIndex(5)} ${this.getBySingleIndex(9)} ${this.getBySingleIndex(13)}|\\n\n                 |${this.getBySingleIndex(2)} ${this.getBySingleIndex(6)} ${this.getBySingleIndex(10)} ${this.getBySingleIndex(14)}|\\n\n                 |${this.getBySingleIndex(3)} ${this.getBySingleIndex(7)} ${this.getBySingleIndex(11)} ${this.getBySingleIndex(15)}|`)  }\n\n    public toMathematicaString():string\n    {\n        return (`{{${this.getBySingleIndex(0)},${this.getBySingleIndex(4)},${this.getBySingleIndex(8)},${this.getBySingleIndex(12)}},\n                  {${this.getBySingleIndex(1)},${this.getBySingleIndex(5)},${this.getBySingleIndex(9)},${this.getBySingleIndex(13)}},\n                  {${this.getBySingleIndex(2)},${this.getBySingleIndex(6)},${this.getBySingleIndex(10)},${this.getBySingleIndex(14)}},\n                  {${this.getBySingleIndex(3)},${this.getBySingleIndex(7)},${this.getBySingleIndex(11)},${this.getBySingleIndex(15)}}}`);\n    }\n\n    public get ElementCount(): number { return 16; }\n\n    public get RowCount(): number { return 4; }\n\n    public get ColmunCount(): number { return 4; }\n}\nexport=Matrix;\n","import glm=require('gl-matrix');\nclass MatrixBase {\n\n    protected static elementEqual(m1:MatrixBase,m2:MatrixBase):boolean\n    {\n        if(m1.RowCount!==m2.RowCount||m1.ColmunCount!==m2.ColmunCount)return false;\n        var count=m1.RowCount*m2.ColmunCount;\n        for(var i=0;i<count;i++)\n        {\n            if(m1.getBySingleIndex(i)!==m2.getBySingleIndex(i))return false;\n        }\n        return true;\n    }\n\n    public get RowCount(): number {\n        return 0;\n    }\n\n    public get ColmunCount(): number {\n        return 0;\n    }\n\n    public getAt(row: number, colmun: number): number {\n        throw new Error(\"Not implemented\");\n    }\n\n    public getBySingleIndex(index: number): number {\n        throw new Error(\"Not implemented\");\n    }\n\n    public rawElements:glm.GLM.IArray;\n}\nexport=MatrixBase;\n","import Vector3 = require(\"./Vector3\");\nimport Matrix = require(\"./Matrix\");\nimport glm = require(\"gl-matrix\");\nimport JThreeLogger = require(\"../Base/JThreeLogger\");\nimport AABB = require(\"./AABB\");\nclass PointList\n{\n  public points:Vector3[];\n\n  constructor(pointList?:PointList)\n  {\n    if(pointList)\n    {\n      this.points = new Array(pointList.points.length);\n      for(let i = 0; i < pointList.points.length; i++)\n      {\n        this.points[i] = Vector3.copy(pointList.points[i]);\n      }\n    }else\n    {\n      this.points = [];\n    }\n  }\n\n  public addPoint(point:Vector3)\n  {\n    this.points.push(point);\n  }\n\n  public transform(transformMatrix:Matrix)\n  {\n    for(let i = 0;i < this.points.length; i++)\n    {\n      glm.vec3.transformMat4(this.points[i].rawElements,this.points[i].rawElements,transformMatrix.rawElements);\n    }\n  }\n\n  public clear()\n  {\n    this.points.length = 0;\n  }\n\n  public debugShow()\n  {\n    var log=\"\";\n    for(let i = 0; i < this.points.length; i++)\n    {\n      log += `${this.points[i]}\n`;\n    }\n    JThreeLogger.sectionLongLog(\"Pointlist\",log);\n  }\n\n  public getBoundingBox()\n  {\n    var aabb = new AABB();\n    for(let i = 0; i <this.points.length; i++)\n    {\n      aabb.expandAABB(this.points[i]);\n    }\n    return aabb;\n  }\n\n  public static initializeWithCube(list:PointList)\n  {\n    list.clear();\n    list.addPoint(new Vector3( -1.0, +1.0, -1.0 ));\n    list.addPoint(new Vector3( -1.0, -1.0, -1.0 ));\n    list.addPoint(new Vector3( +1.0, -1.0, -1.0 ));\n    list.addPoint(new Vector3( +1.0, +1.0, -1.0 ));\n    list.addPoint(new Vector3( -1.0, +1.0, +1.0 ));\n    list.addPoint(new Vector3( -1.0, -1.0, +1.0 ));\n    list.addPoint(new Vector3( +1.0, -1.0, +1.0 ));\n    list.addPoint(new Vector3( +1.0, +1.0, +1.0 ));\n    return list;\n  }\n\n  public toMathematicaPoints()\n  {\n    var points = \"\";\n    for(let i = 0; i < this.points.length; i++)\n    {\n      if(i != 0)points += `,`;\n      points += this.points[i].toMathematicaString();\n    }\n    return `Point[{${points}}]`;\n  }\n}\n\nexport = PointList;\n","import JThreeObject = require(\"../Base/JThreeObject\");\nimport Vector3 = require(\"./Vector3\");\nimport glm = require(\"gl-matrix\");\nimport Matrix = require(\"./Matrix\");\n/**\n* The class to maniplate quaternion.\n* Basically,you don't need to operate raw element.\n* You consider to use some of useful methods without editing raw element forcelly.\n* Each element will be represented as (w;x,y,z)\n* (1,i,j,k) is base axis for quaternion. (i,j,k is pure imaginary number)\n* (w;x,y,z) means w*1+x*i+y*j+z*k\n*\n*/\nclass Quaternion extends JThreeObject\n{\n    public static get Identity(): Quaternion\n    {\n        return new Quaternion(glm.quat.create());\n    }\n\n\n    /**\n    * Constructor by specifing each elements.\n    */\n    constructor(rawElements: glm.GLM.IArray)\n    {\n        super();\n        this.rawElements = rawElements;\n    }\n\n    public rawElements: glm.GLM.IArray;\n\n    public get eularAngles()\n    {\n        var eular = this.FactoringQuaternionZXY();\n        return new Vector3(eular.x, eular.y, eular.z);\n    }\n\n    public set eularAngles(v: Vector3)\n    {\n        this.rawElements = Quaternion.Euler(v.X, v.Y, v.Z).rawElements;\n    }\n\n    /**\n    * Getter for X.\n    */\n    public get X(): number\n    {\n        return this.rawElements[0];\n    }\n\n    /**\n    * Getter for Y.\n    */\n    public get Y(): number\n    {\n        return this.rawElements[1];\n    }\n\n    /**\n    * Getter for Z.\n    */\n    public get Z(): number\n    {\n        return this.rawElements[2];\n    }\n\n    /**\n    * Getter for W.\n    */\n    public get W(): number\n    {\n        return this.rawElements[3];\n    }\n\n    /**\n    * Getter for imaginary part vector.\n    * It returns the vector (x,y,z)\n    */\n    public get ImaginaryPart(): Vector3\n    {\n        return new Vector3(this.X, this.Y, this.Z);\n    }\n\n    /**\n    * Get the conjugate of this quaternion\n    */\n    public get Conjugate(): Quaternion\n    {\n        var newQuat = glm.quat.create();\n        return new Quaternion(glm.quat.conjugate(newQuat, this.rawElements));\n    }\n\n    /**\n    * Get the length\n    */\n    public get Length(): number\n    {\n        return glm.quat.len(this.rawElements);\n    }\n    /**\n    * Get normalized quaternion\n    */\n    public Normalize(): Quaternion\n    {\n        var newQuat = glm.quat.create();\n        return new Quaternion(glm.quat.normalize(newQuat, this.rawElements));\n    }\n\n\n    public Inverse(): Quaternion\n    {\n        var newQuat = glm.quat.create();\n        return new Quaternion(glm.quat.invert(newQuat, this.rawElements));\n    }\n\n    /**\n    * Calculate add result of two quaternion\n    */\n    public static Add(q1: Quaternion, q2: Quaternion): Quaternion\n    {\n        var newQuat = glm.quat.create();\n\n        return new Quaternion(glm.quat.add(newQuat, q1.rawElements, q2.rawElements));\n    }\n\n    /**\n    * Calculate Multiply result of two quaternion\n    */\n    public static Multiply(q1: Quaternion, q2: Quaternion): Quaternion\n    {\n        var newQuat = glm.quat.create();\n        return new Quaternion(glm.quat.mul(newQuat, q1.rawElements, q2.rawElements));\n    }\n\n    /**\n    * Calculate the rotation quaternion represented as pair of angle and axis.\n    */\n    public static AngleAxis(angle: number, axis: Vector3): Quaternion\n    {\n        var axisVec = glm.vec3.create();\n        axisVec[0] = axis.X;\n        axisVec[1] = axis.Y;\n        axisVec[2] = axis.Z;\n        var newQuat = glm.quat.create();\n        return new Quaternion(glm.quat.setAxisAngle(newQuat, axisVec, +angle));\n    }\n\n    public static Euler(x: number, y: number, z: number): Quaternion\n    {\n        return Quaternion.Multiply(Quaternion.AngleAxis(z, Vector3.ZUnit), Quaternion.Multiply(Quaternion.AngleAxis(x, Vector3.XUnit), Quaternion.AngleAxis(y, Vector3.YUnit)));\n    }\n\n    public static EulerXYZ(x: number, y: number, z: number): Quaternion\n    {\n        return Quaternion.Multiply(Quaternion.AngleAxis(z, Vector3.ZUnit), Quaternion.Multiply(Quaternion.AngleAxis(y, Vector3.YUnit), Quaternion.AngleAxis(x, Vector3.XUnit)));\n    }\n\n\n    public static Slerp(q1: Quaternion, q2: Quaternion, t: number): Quaternion\n    {\n        var newQuat = glm.quat.create();\n        return new Quaternion(glm.quat.slerp(newQuat, q1.rawElements, q2.rawElements, +t));\n    }\n\n    /**\n     * Returns the angle in degrees between two rotations q1 and q2.\n     * @param q1 the quaternion represents begin angle.\n     * @param q2 the quaternion represents end angle.\n     * @returns {number} angle represented in radians.\n     */\n    public static Angle(q1: Quaternion, q2: Quaternion): number\n    {\n        var delta = Quaternion.Multiply(q2, q1.Inverse());\n        delta = delta.Normalize();\n        return 2 * Math.acos(delta.W);\n    }\n\n    public static FromToRotation(from:Vector3,to:Vector3)\n    {\n      var crossed = Vector3.cross(from.normalized,to.normalized);\n      var angle = Vector3.dot(from.normalized,to.normalized);\n      return Quaternion.AngleAxis(angle,crossed);\n    }\n\n    public static LookRotation(forward:Vector3,upVec?:Vector3)\n    {\n      upVec = upVec || Vector3.YUnit;\n      var normalizedForward = forward.normalized;\n      var upForwardCross = Vector3.cross(upVec,normalizedForward).normalized;\n      var thirdAxis = Vector3.cross(normalizedForward,upForwardCross);\n      var m00 = upForwardCross.X;\n      var m01 = upForwardCross.Y;\n      var m02 = upForwardCross.Z;\n      var m10 = thirdAxis.X;\n      var m11 = thirdAxis.Y;\n      var m12 = thirdAxis.Z;\n      var m20 = normalizedForward.X;\n      var m21 = normalizedForward.Y;\n      var m22 = normalizedForward.Z;\n\n      var num8 = m00 + m11 + m22;\n\n      if(num8 > 0)\n      {\n        var num = Math.sqrt(1 + num8);\n        return new Quaternion([(m12-m21)*0.5/num,(m20-m02)*0.5/num,(m01-m10)*0.5/num,num/2]);\n      }\n      if(m00>=m11 && m00>=m22)\n      {\n        var num7 =Math.sqrt(1+m00-m11-m22);\n        return new Quaternion([(m01+m10)*0.5/num7,(m02+m20)*0.5/num7,(m12-m21)*0.5/num7,num7/2]);\n      }\n      if(m11>m22)\n      {\n        var num6 = Math.sqrt(1+m11-m00-m22);\n        return new Quaternion([(m10+m01)*0,5/num6,0.5*num6,(m21+m12)*0.5/num6,(m20-m02)*0.5/num6]);\n      }\n      var num5 = Math.sqrt(1+m22-m00-m11);\n      return new Quaternion([(m20+m02)*0.5/num5,(m21+m12)*0.5/num5,0.5*num5,(m01-m10)*0.5/num5]);\n    }\n\n    public toAngleAxisString()\n    {\n        var angle = 2 * Math.acos(this.W);\n        var imm = Math.sqrt(1 - this.W * this.W);\n        if (angle != 180 && angle != 0)\n        {//avoid singularities\n            return `axis(${angle},${this.X / imm},${this.Y / imm},${this.Z / imm})`;\n        } else if (angle == 0)\n        {\n            return `axis(${angle},0,1,0)`;\n        } else\n        {\n            return `axis(180d,${this.X},${this.Y},${this.Z})`;\n        }\n    }\n\n    public FactoringQuaternionZXY()\n    {\n        var result = { x: 0, y: 0, z: 0 };\n        var mat = Matrix.RotationQuaternion(this);\n        var sx = mat.rawElements[6];\n        if (Math.abs(sx) < 1 - 1.0E-4)\n        {\n            result.x = Math.asin(sx);\n            result.z = Math.atan2(-mat.rawElements[4], mat.rawElements[5]);\n            result.y = Math.atan2(-mat.rawElements[2], mat.rawElements[10]);\n        } else\n        {\n            result.y = 0;\n            result.x = Math.PI / 2 * sx;\n            result.z = Math.atan2(mat.rawElements[1], mat.rawElements[0]);\n        }\n        return result;\n    }\n\n\n    public FactoringQuaternionXYZ()\n    {\n        var result = { x: 0, y: 0, z: 0 };\n        var mat = Matrix.RotationQuaternion(this);\n        var sy = -mat.rawElements[2];\n        if (Math.abs(sy) < 1 - 1.0E-4)\n        {\n            result.x = Math.atan2(mat.rawElements[6], mat.rawElements[10]);\n            result.y = Math.asin(sy);\n            result.z = Math.atan2(mat.rawElements[1], mat.rawElements[0]);\n        } else\n        {\n            result.x = 0;\n            result.y = Math.PI / 2 * sy;\n            result.z = Math.atan2(-mat.rawElements[4], mat.rawElements[5]);\n        }\n        return result;\n    }\n\n\n}\nexport =Quaternion;\n","import jThreeObject = require(\"../Base/JThreeObject\");\nclass Rectangle extends jThreeObject {\n    constructor(left: number, top: number, width: number, height: number) {\n        super();\n        this.left = left;\n        this.top = top;\n        this.width = width;\n        this.height = height;\n    }\n    private left: number;\n    private top: number;\n    private width: number;\n    private height: number;\n\n    public get Left(): number {\n        return this.left;\n    }\n\n    public get Right(): number {\n        return this.left + this.width;\n    }\n\n    public get Top(): number {\n        return this.top;\n    }\n\n    public get Bottom(): number {\n        return this.top + this.height;\n    }\n\n    public get Width(): number {\n        return this.width;\n    }\n\n    public get Height(): number {\n        return this.height;\n    }\n\n    public contains(x:number,y:number):boolean\n    {\n      return this.Left <= x && this.Right >=x && this.Top <= y && this.Bottom >= y;\n    }\n\n    public toString():string{\n      return `Rectangle(${this.left},${this.top}-${this.Right},${this.Bottom})`;\n    }\n\n    public static Equals(r1:Rectangle,r2:Rectangle):boolean\n    {\n        return r1.Left===r2.Left&&r1.Right===r2.Right&&r1.Top===r2.Top&&r1.Bottom===r2.Bottom;\n    }\n\n    public static SizeEquals(r1:Rectangle,r2:Rectangle) {\n        return r1.Width === r2.Width && r1.Height === r2.Height;\n    }\n}\nexport=Rectangle;\n","import VectorBase = require(\"./VectorBase\");\nimport glm = require('gl-matrix');\nclass Vector2 extends VectorBase {\n\n    public static get XUnit(): Vector2 {\n        return new Vector2(1, 0);\n    }\n\n    public static get YUnit(): Vector2 {\n        return new Vector2(0, 1);\n    }\n\n    public static get One(): Vector2 {\n        return new Vector2(1, 1);\n    }\n\n    public static get Zero(): Vector2 {\n        return new Vector2(0, 0);\n    }\n\n    public static copy(vec: Vector2) {\n        return new Vector2(vec.X, vec.Y);\n    }\n\n    constructor(x: number, y: number);\n    constructor(x: glm.GLM.IArray);\n    constructor(x: number | glm.GLM.IArray, y?: number) {\n        super();\n        if (typeof y === 'undefined') {\n            this.rawElements = <glm.GLM.IArray>x;\n            return;\n        }\n        this.rawElements = [<number>x, y];\n    }\n\n    public get normalized() {\n        return this.multiplyWith(1 / this.magnitude);\n    }\n\n    public get X(): number {\n        return this.rawElements[0];\n    }\n\n    public get Y(): number {\n        return this.rawElements[1];\n    }\n\n    public set X(x: number) {\n        this.rawElements[0] = +x;\n    }\n\n    public set Y(y: number) {\n        this.rawElements[1] = +y;\n    }\n\n    public static dot(v1: Vector2, v2: Vector2): number {\n        return glm.vec2.dot(v1.rawElements, v2.rawElements);\n    }\n\n    public static add(v1: Vector2, v2: Vector2): Vector2 {\n        var newVec = glm.vec2.create();\n        return new Vector2(glm.vec2.add(newVec, v1.rawElements, v2.rawElements));\n    }\n\n    public static subtract(v1: Vector2, v2: Vector2): Vector2 {\n        var newVec = glm.vec2.create();\n        return new Vector2(glm.vec2.sub(newVec, v1.rawElements, v2.rawElements));\n    }\n\n    public static multiply(s: number, v: Vector2): Vector2 {\n        var newVec = glm.vec2.create();\n        return new Vector2(glm.vec2.scale(newVec, v.rawElements, s));\n    }\n\n    public static negate(v1: Vector2): Vector2 {\n        return Vector2.multiply(-1, v1);\n    }\n\n    public static equal(v1: Vector2, v2: Vector2): boolean {\n        return VectorBase.elementEqual(v1, v2);\n    }\n\n    public static normalize(v1: Vector2): Vector2 {\n        var newVec = glm.vec2.create();\n        return new Vector2(glm.vec2.normalize(newVec, v1.rawElements));\n    }\n\n    public static min(v1: Vector2, v2: Vector2): Vector2 {\n        return new Vector2(VectorBase.fromGenerationFunction(v1, v2, (i, v1, v2) => Math.min(v1.rawElements[i], v2.rawElements[i])));\n    }\n\n    public static max(v1: Vector2, v2: Vector2): Vector2 {\n        return new Vector2(VectorBase.fromGenerationFunction(v1, v2, (i, v1, v2) => Math.max(v1.rawElements[i], v2.rawElements[i])));\n    }\n\n    public static angle(v1: Vector2, v2: Vector2): number {\n        return Math.acos(Vector2.dot(v1.normalized, v2.normalized));\n    }\n\n    public dotWith(v: Vector2): number {\n        return Vector2.dot(this, v);\n    }\n\n    public addWith(v: Vector2): Vector2 {\n        return Vector2.add(this, v);\n    }\n\n    public subtractWith(v: Vector2): Vector2 {\n        return Vector2.subtract(v, this);\n    }\n\n    public multiplyWith(s: number): Vector2 {\n        return Vector2.multiply(s, this);\n    }\n\n    public negateThis(): Vector2 {\n        return Vector2.negate(this);\n    }\n\n    public equalWith(v: Vector2): boolean {\n        return Vector2.equal(this, v);\n    }\n\n    public normalizeThis(): Vector2 {\n        return Vector2.normalize(this);\n    }\n\n    public toString(): string {\n        return `Vector2(x=${this.X}},y=${this.Y})`;\n    }\n\n    public get ElementCount(): number { return 2; }\n\n    public toMathematicaString()\n    {\n      return `{${this.X},${this.Y}}`;\n    }\n}\n\nexport =Vector2;\n","import VectorBase = require(\"./VectorBase\");\nimport glm = require('gl-matrix');\nclass Vector3 extends VectorBase {\n    public static get XUnit(): Vector3 {\n        return new Vector3(1, 0, 0);\n    }\n\n    public static get YUnit(): Vector3 {\n        return new Vector3(0, 1, 0);\n    }\n\n    public static get ZUnit(): Vector3 {\n        return new Vector3(0, 0, 1);\n    }\n\n    public static get Zero(): Vector3 {\n        return new Vector3(0, 0, 0);\n    }\n\n    public static get One(): Vector3 {\n        return new Vector3(1, 1, 1);\n    }\n\n    public static copy(source: Vector3) {\n        return new Vector3(source.X, source.Y, source.Z);\n    }\n\n    constructor(x: number, y: number, z: number);\n    constructor(x: glm.GLM.IArray);\n    constructor(x: number | glm.GLM.IArray, y?: number, z?: number) {\n        super();\n        if (typeof y === 'undefined') {\n            this.rawElements = <glm.GLM.IArray>x;\n            return;\n        }\n        this.rawElements = [<number>x, y, z];\n    }\n\n    public get normalized() {\n        return this.multiplyWith(1 / this.magnitude);\n    }\n\n    public get X(): number {\n        return this.rawElements[0];\n    }\n\n    public get Y(): number {\n        return this.rawElements[1];\n    }\n\n    public get Z(): number {\n        return this.rawElements[2];\n    }\n\n    public set X(x: number) {\n        this.rawElements[0] = +x;\n    }\n\n    public set Y(y: number) {\n        this.rawElements[1] = +y;\n    }\n\n    public set Z(z: number) {\n        this.rawElements[2] = +z;\n    }\n\n    public static dot(v1: Vector3, v2: Vector3): number {\n        return glm.vec3.dot(v1.rawElements, v2.rawElements);\n    }\n\n    public static add(v1: Vector3, v2: Vector3): Vector3 {\n        var newVec = glm.vec3.create();\n        return new Vector3(glm.vec3.add(newVec, v1.rawElements, v2.rawElements));\n    }\n\n    public static subtract(v1: Vector3, v2: Vector3): Vector3 {\n        var newVec = glm.vec3.create();\n        return new Vector3(glm.vec3.sub(newVec, v1.rawElements, v2.rawElements));\n    }\n\n    public static multiply(s: number, v: Vector3): Vector3 {\n        var newVec = glm.vec3.create();\n        return new Vector3(glm.vec3.scale(newVec, v.rawElements, s));\n    }\n\n    public static negate(v1: Vector3): Vector3 {\n        return Vector3.multiply(-1, v1);\n    }\n\n    public static equal(v1: Vector3, v2: Vector3): boolean {\n        return VectorBase.elementEqual(v1, v2);\n    }\n\n    public static normalize(v1: Vector3): Vector3 {\n        var newVec = glm.vec3.create();\n        return new Vector3(glm.vec3.normalize(newVec, v1.rawElements));\n    }\n\n    public static cross(v1: Vector3, v2: Vector3): Vector3 {\n        var newVec = glm.vec3.create();\n        return new Vector3(glm.vec3.cross(newVec, v1.rawElements, v2.rawElements));\n    }\n\n\n    public static min(v1: Vector3, v2: Vector3): Vector3 {\n        return new Vector3(VectorBase.fromGenerationFunction(v1, v2, (i, v1, v2) => Math.min(v1.rawElements[i], v2.rawElements[i])));\n    }\n    public static max(v1: Vector3, v2: Vector3): Vector3 {\n        return new Vector3(VectorBase.fromGenerationFunction(v1, v2, (i, v1, v2) => Math.max(v1.rawElements[i], v2.rawElements[i])));\n    }\n\n    public static angle(v1: Vector3, v2: Vector3): number {\n        return Math.acos(Vector3.dot(v1.normalized, v2.normalized));\n    }\n\n\n    public normalizeThis(): Vector3 {\n        return Vector3.normalize(this);\n    }\n\n    public dotWith(v: Vector3): number {\n        return Vector3.dot(this, v);\n    }\n\n    public addWith(v: Vector3): Vector3 {\n        return Vector3.add(this, v);\n    }\n\n    public subtractWith(v: Vector3): Vector3 {\n        return Vector3.subtract(this, v);\n    }\n\n    public multiplyWith(s: number): Vector3 {\n        return Vector3.multiply(s, this);\n    }\n\n    public negateThis(): Vector3 {\n        return Vector3.negate(this);\n    }\n\n    public equalWith(v: Vector3): boolean {\n        return Vector3.equal(this, v);\n    }\n\n    public crossWith(v: Vector3): Vector3 {\n        return Vector3.cross(this, v);\n    }\n\n    public toString(): string {\n        return `Vector3(${this.X}, ${this.Y}, ${this.Z})`;\n    }\n\n    public get ElementCount(): number { return 3; }\n\n    public static parse(str: string): Vector3 {\n        var resultVec: Vector3;\n        //1,0,2.0,3.0\n        //-(1.0,2.0,3.0)\n        //n(1.0,2.0,3.0) normalized\n        //1.0\n        //check attributes\n        var negativeMatch = str.match(/^-n?(\\(.+\\))$/);\n        var needNegate = false;\n        if (negativeMatch) {\n            needNegate = true;\n            str = negativeMatch[1];\n        }\n        var normalizeMatch = str.match(/^n(\\(.+\\))$/);\n        var needNormalize = false;\n        if (normalizeMatch) {\n            needNormalize = true;\n            str = normalizeMatch[1];\n        }\n        //check body\n        str = str.match(/^n?\\(?([^\\)]+)\\)?$/)[1];\n        var strNums = str.split(/,/g);\n        if (strNums.length == 1) {\n            var elemNum: number = parseFloat(strNums[0]);\n            resultVec = new Vector3(elemNum, elemNum, elemNum);\n        } else if (strNums.length == 3) {\n            resultVec = new Vector3(parseFloat(strNums[0]), parseFloat(strNums[1]), parseFloat(strNums[2]));\n        } else {\n            throw Error(\"passed argument was invalid\");\n        }\n        if (needNormalize) resultVec = resultVec.normalizeThis();\n        if (needNegate) resultVec = resultVec.negateThis();\n        return resultVec;\n    }\n\n    public toMathematicaString()\n    {\n      return `{${this.X},${this.Y},${this.Z}}`;\n    }\n}\n\nexport =Vector3;\n","import VectorBase = require(\"./VectorBase\");\nimport glm = require('gl-matrix');\n\nclass Vector4 extends VectorBase {\n    /*\n     * Static properties\n     */\n\n    public static get XUnit(): Vector4 {\n        return new Vector4(1, 0, 0, 0);\n    }\n\n    public static get YUnit(): Vector4 {\n        return new Vector4(0, 1, 0, 0);\n    }\n\n    public static get ZUnit(): Vector4 {\n        return new Vector4(0, 0, 1, 0);\n    }\n\n    public static get WUnit(): Vector4 {\n        return new Vector4(0, 0, 0, 1);\n    }\n\n    public static get One(): Vector4 {\n        return new Vector4(1, 1, 1, 1);\n    }\n\n    public static get Zero(): Vector4 {\n        return new Vector4(0, 0, 0, 0);\n    }\n\n    public static copy(vec: Vector4): Vector4 {\n        return new Vector4(vec.X, vec.Y, vec.Z, vec.W);\n    }\n\n    constructor(x: glm.GLM.IArray);\n    constructor(x: number, y: number, z: number, w: number);\n    constructor(x: number | glm.GLM.IArray, y?: number, z?: number, w?: number) {\n        super();\n        if (typeof y === 'undefined') {\n            this.rawElements = <glm.GLM.IArray>x;\n            return;\n        }\n        this.rawElements = [<number>x, y, z, w];\n    }\n\n    public get normalized() {\n        return this.multiplyWith(1 / this.magnitude);\n    }\n\n    public get X() {\n        return this.rawElements[0];\n    }\n\n    public get Y() {\n        return this.rawElements[1];\n    }\n\n    public get Z() {\n        return this.rawElements[2];\n    }\n\n    public get W() {\n        return this.rawElements[3];\n    }\n\n    public set X(x: number) {\n        this.rawElements[0] = +x;\n    }\n\n    public set Y(y: number) {\n        this.rawElements[1] = +y;\n    }\n\n    public set Z(z: number) {\n        this.rawElements[2] = +z;\n    }\n\n    public set W(w: number) {\n        this.rawElements[3] = +w;\n    }\n\n    public static dot(v1: Vector4, v2: Vector4) {\n        return glm.vec4.dot(v1.rawElements, v2.rawElements);\n    }\n\n    public static add(v1: Vector4, v2: Vector4): Vector4 {\n        var newVec = glm.vec4.create();\n        return new Vector4(glm.vec4.add(newVec, v1.rawElements, v2.rawElements));\n    }\n\n    public static subtract(v1: Vector4, v2: Vector4): Vector4 {\n        var newVec = glm.vec4.create();\n        return new Vector4(glm.vec4.sub(newVec, v1.rawElements, v2.rawElements));\n    }\n\n    public static multiply(s: number, v: Vector4): Vector4 {\n        var newVec = glm.vec4.create();\n        return new Vector4(glm.vec4.scale(newVec, v.rawElements, s));\n    }\n\n    public static negate(v1: Vector4): Vector4 {\n        return Vector4.multiply(-1, v1);\n    }\n\n    public static equal(v1: Vector4, v2: Vector4): boolean {\n        return VectorBase.elementEqual(v1, v2);\n    }\n\n    public static normalize(v1: Vector4): Vector4 {\n        var newVec = glm.vec4.create();\n        return new Vector4(glm.vec4.normalize(newVec, v1.rawElements));\n    }\n\n\n    public static min(v1: Vector4, v2: Vector4): Vector4 {\n        return new Vector4(VectorBase.fromGenerationFunction(v1, v2, (i, v1, v2) => Math.min(v1.rawElements[i], v2.rawElements[i])));\n    }\n\n    public static max(v1: Vector4, v2: Vector4): Vector4 {\n        return new Vector4(VectorBase.fromGenerationFunction(v1, v2, (i, v1, v2) => Math.max(v1.rawElements[i], v2.rawElements[i])));\n    }\n\n    public static angle(v1: Vector4, v2: Vector4): number {\n        return Math.acos(Vector4.dot(v1.normalized, v2.normalized));\n    }\n\n    public normalizeThis(): Vector4 {\n        return Vector4.normalize(this);\n    }\n\n    public dotWith(v: Vector4): number {\n        return Vector4.dot(this, v);\n    }\n\n    public addWith(v: Vector4): Vector4 {\n        return Vector4.add(this, v);\n    }\n\n    public subtractWith(v: Vector4): Vector4 {\n        return Vector4.subtract(v, this);\n    }\n\n    public multiplyWith(s: number): Vector4 {\n        return Vector4.multiply(s, this);\n    }\n\n    public negateThis(): Vector4 {\n        return Vector4.negate(this);\n    }\n\n    public equalWith(v: Vector4): boolean {\n        return Vector4.equal(this, v);\n    }\n\n    public get ElementCount(): number { return 4; }\n\n    public toString(): string {\n        return `Vector4(${this.X}, ${this.Y}, ${this.Z},${this.W})`;\n    }\n\n    public toMathematicaString()\n    {\n      return `{${this.X},${this.Y},${this.Z},${this.W}}`;\n    }\n\n}\n\n\nexport =Vector4;\n","import glm=require('gl-matrix');\nimport Delegates = require(\"../Base/Delegates\");\nclass VectorBase {\n\n    private magnitudeSquaredCache: number = -1;\n\n    public get sqrMagnitude(): number {\n        if (this.magnitudeSquaredCache < 0) {\n            var sum: number = 0;\n            var r=this.rawElements;\n            for(var i=0;i<this.ElementCount;i++)\n            {\n                sum+=r[i]*r[i];\n            }\n            this.magnitudeSquaredCache = sum;\n        }\n        return this.magnitudeSquaredCache;\n    }\n\n    protected static elementEqual(v1:VectorBase,v2:VectorBase):boolean\n    {\n        if(v1.ElementCount!==v2.ElementCount)return false;\n        for(var i=0;i<v1.ElementCount;i++)\n        {\n            if(v1.rawElements[i]!==v2.rawElements[i])return false;\n        }\n        return true;\n    }\n\n    protected static fromGenerationFunction<T extends VectorBase>(v1:T,v2:T,gen:Delegates.Func3<number,T,T,number>):glm.GLM.IArray\n    {\n      var f = new Float32Array(v1.ElementCount);\n      for(let i = 0; i < f.length; i++)\n      {\n        f[i] = gen(i,v1,v2);\n      }\n      return f;\n    }\n\n    private magnitudeCache: number = -1;\n\n    public get magnitude() {\n        if (this.magnitudeCache < 0) {\n            this.magnitudeCache = Math.sqrt(this.sqrMagnitude);\n        }\n        return this.magnitudeCache;\n    }\n\n    public get ElementCount():number\n    {\n        return 0;\n    }\n\n    public rawElements:glm.GLM.IArray;\n\n}\n\nexport=VectorBase;\n","import Material = require('../../../Core/Materials/Material');\nimport Program = require(\"../../../Core/Resources/Program/Program\");\nimport BasicRenderer = require(\"../../../Core/Renderers/BasicRenderer\");\nimport Geometry = require(\"../../../Core/Geometries/Geometry\");\nimport SceneObject = require(\"../../../Core/SceneObject\");\nimport Matrix = require(\"../../../Math/Matrix\");\nimport GLFeatureType = require(\"../../../Wrapper/GLFeatureType\");\nimport Scene = require('../../../Core/Scene');\nimport PMXMaterial = require('./PMXMaterial');\nimport ResolvedChainInfo = require('../../../Core/Renderers/ResolvedChainInfo');\nimport PMXGeometry = require('./../PMXGeometry');\nimport Vector4 = require(\"../../../Math/Vector4\");\nimport PMXMaterialParamContainer = require(\"./../PMXMaterialMorphParamContainer\");\nimport IMaterialConfig = require(\"../../../Core/Materials/IMaterialConfig\");\nimport Vector3 = require(\"../../../Math/Vector3\");\nimport RenderStageBase = require(\"../../../Core/Renderers/RenderStages/RenderStageBase\");\n\ndeclare function require(string): string;\n/**\n * the materials for PMX.\n */\nclass PMXGBufferMaterial extends Material\n{\n    protected primaryProgram: Program;\n\n    protected secoundaryProgram: Program;\n\n    protected thirdProgram: Program;\n\n    protected associatedMaterial: PMXMaterial;\n\n    /**\n     * Count of verticies\n     */\n    public get VerticiesCount()\n    {\n        return this.associatedMaterial.VerticiesCount;\n    }\n\n    /**\n     * Offset of verticies in index buffer\n     */\n    public get VerticiesOffset()\n    {\n        return this.associatedMaterial.VerticiesOffset;\n    }\n\n    constructor(material: PMXMaterial)\n    {\n        super();\n        this.associatedMaterial = material;\n        var vs = require('../../Shader/PMXGBufferVertex.glsl');\n        var fs = require('../../Shader/PMXPrimaryGBufferFragment.glsl');\n        this.primaryProgram = this.loadProgram(\"jthree.shaders.vertex.pmx.gbuffer\", \"jthree.shaders.fragment.pmx.gbuffer\", \"jthree.programs.pmx.gbuffer\", vs, fs);\n        var fs = require('../../Shader/PMXSecoundaryGBufferFragment.glsl');\n        this.secoundaryProgram = this.loadProgram(\"jthree.shaders.vertex.pmx.gbuffer.s\", \"jthree.shaders.fragment.gbuffer.s\", \"jthree.programs.pmx.gbuffer.s\", vs, fs);\n        fs = require('../../Shader/PMXThirdGBufferFragment.glsl');\n        this.thirdProgram = this.loadProgram(\"jthree.shaders.vertex.pmx.gbuffer.t\", \"jthree.shaders.fragment.gbuffer.t\", \"jthree.programs.pmx.gbuffer.t\", vs, fs);\n        this.setLoaded();\n    }\n\n    public configureMaterial(scene: Scene, renderStage: RenderStageBase, object: SceneObject, texs: ResolvedChainInfo,techniqueIndex:number,passIndex:number): void {\n        if (!this.primaryProgram||this.associatedMaterial.Diffuse.A<1.0E-3) return;\n        var renderer = renderStage.Renderer;\n        super.configureMaterial(scene, renderStage, object, texs,techniqueIndex,passIndex);\n        switch (techniqueIndex) {\n            case 0:\n                this.configurePrimaryBuffer(scene, renderer, object, texs, techniqueIndex);\n                break;\n            case 1:\n                this.configureSecoundaryBuffer(scene, renderer, object, texs, techniqueIndex);\n                break;\n            case 2:\n                this.configureThirdBuffer(scene, renderer, object, texs, techniqueIndex);\n                break;\n        }\n        object.Geometry.bindIndexBuffer(renderer.ContextManager);\n    }\n\n    private configurePrimaryBuffer(scene: Scene, renderer: BasicRenderer, object: SceneObject, texs: ResolvedChainInfo, pass?: number) {\n        var geometry = <PMXGeometry>object.Geometry;\n        var programWrapper = this.primaryProgram.getForContext(renderer.ContextManager);\n        var v = Matrix.multiply(renderer.Camera.projectionMatrix, renderer.Camera.viewMatrix);\n        programWrapper.register({\n            attributes: {\n                position: geometry.PositionBuffer,\n                normal: geometry.NormalBuffer,\n                boneWeights: geometry.boneWeightBuffer,\n                boneIndicies: geometry.boneIndexBuffer,\n                uv:geometry.UVBuffer\n            },\n            uniforms: {\n                boneMatricies: { type: \"texture\", value: this.associatedMaterial.ParentModel.skeleton.MatrixTexture, register: 0 },\n                matVP: { type: \"matrix\", value: v },\n                matV: { type: \"matrix\", value:renderer.Camera.viewMatrix },\n                specularCoefficient: { type: \"float\", value: this.associatedMaterial.Specular.W },\n                boneCount: { type: \"float\", value: this.associatedMaterial.ParentModel.skeleton.BoneCount }\n            }\n        });\n    }\n\n    private configureSecoundaryBuffer(cene: Scene, renderer: BasicRenderer, object: SceneObject, texs: ResolvedChainInfo, pass?: number) {\n        var geometry = <PMXGeometry>object.Geometry;\n        var programWrapper = this.secoundaryProgram.getForContext(renderer.ContextManager);\n        var v = Matrix.multiply(renderer.Camera.projectionMatrix, renderer.Camera.viewMatrix);\n        programWrapper.register({\n            attributes: {\n                position: geometry.PositionBuffer,\n                normal: geometry.NormalBuffer,\n                boneWeights: geometry.boneWeightBuffer,\n                boneIndicies: geometry.boneIndexBuffer,\n                uv:geometry.UVBuffer\n            },\n            uniforms: {\n                boneMatricies: { type: \"texture\", value: this.associatedMaterial.ParentModel.skeleton.MatrixTexture, register: 0 },\n                matVP: { type: \"matrix\", value: v },\n                matV: { type: \"matrix\", value:renderer.Camera.viewMatrix },\n                specularCoefficient: { type: \"float\", value: this.associatedMaterial.Specular.W },\n                boneCount: { type: \"float\", value: this.associatedMaterial.ParentModel.skeleton.BoneCount },\n                diffuse: {\n                    type: \"vector\",\n                    value: PMXMaterialParamContainer.calcMorphedVectorValue(this.associatedMaterial.Diffuse.toVector(), this.associatedMaterial.addMorphParam, this.associatedMaterial.mulMorphParam, (t) => t.diffuse, 4)\n                },\n                texture: {\n                    type: \"texture\",\n                    value: this.associatedMaterial.Texture,\n                    register: 1\n                },\n                sphere: {\n                    type: \"texture\",\n                    value: this.associatedMaterial.Sphere,\n                    register: 2\n                },\n                textureUsed: {\n                    type: \"integer\",\n                    value: this.associatedMaterial.Texture == null || this.associatedMaterial.Texture.ImageSource == null ? 0 : 1\n                },\n                sphereMode: {\n                    type: \"integer\",\n                    value: this.associatedMaterial.Sphere == null || this.associatedMaterial.Sphere.ImageSource == null ? 0 : this.associatedMaterial.SphereMode\n                },\n                addTextureCoefficient: { type: \"vector\", value: new Vector4(this.associatedMaterial.addMorphParam.textureCoeff) },\n                mulTextureCoefficient: { type: \"vector\", value: new Vector4(this.associatedMaterial.mulMorphParam.textureCoeff) },\n                addSphereCoefficient: { type: \"vector\", value: new Vector4(this.associatedMaterial.addMorphParam.sphereCoeff) },\n                mulSphereCoefficient: { type: \"vector\", value: new Vector4(this.associatedMaterial.mulMorphParam.sphereCoeff) }\n            }\n        });\n    }\n\n\n    private configureThirdBuffer(cene: Scene, renderer: BasicRenderer, object: SceneObject, texs: ResolvedChainInfo, pass?: number) {\n        var geometry = <PMXGeometry>object.Geometry;\n        var programWrapper = this.thirdProgram.getForContext(renderer.ContextManager);\n        var v = Matrix.multiply(renderer.Camera.projectionMatrix, renderer.Camera.viewMatrix);\n        programWrapper.register({\n            attributes: {\n                position: geometry.PositionBuffer,\n                normal: geometry.NormalBuffer,\n                boneWeights: geometry.boneWeightBuffer,\n                boneIndicies: geometry.boneIndexBuffer,\n                uv: geometry.UVBuffer\n            },\n            uniforms: {\n                boneMatricies: { type: \"texture\", value: this.associatedMaterial.ParentModel.skeleton.MatrixTexture, register: 0 },\n                matVP: { type: \"matrix\", value: v },\n                matV: { type: \"matrix\", value: renderer.Camera.viewMatrix},\n                boneCount: { type: \"float\", value: this.associatedMaterial.ParentModel.skeleton.BoneCount },\n                specular: {\n                    type: \"vector\",\n                    value:PMXMaterialParamContainer.calcMorphedVectorValue(this.associatedMaterial.Specular, this.associatedMaterial.addMorphParam, this.associatedMaterial.mulMorphParam, (t) => t.specular, 3)\n                }\n            }\n        });\n    }\n\n    public get Priorty(): number\n    {\n        return 100;\n    }\n\n    public getDrawGeometryLength(geo: Geometry): number\n    {\n        return this.associatedMaterial.Diffuse.A > 0 ? this.VerticiesCount : 0;\n    }\n\n    public getDrawGeometryOffset(geo: Geometry): number\n    {\n        return this.VerticiesOffset * 4;\n    }\n\n    public get MaterialGroup(): string\n    {\n        return \"jthree.materials.gbuffer\";\n    }\n\n    public getMaterialConfig(pass:number,technique:number):IMaterialConfig\n    {\n      if(technique == 0)\n      {\n        return {\n          blend:false,\n          cull:\"ccw\"\n        }\n      }\n      if(technique == 1)\n      {\n        return {\n          cull:\"ccw\",\n          blend:true\n        }\n      }else\n      {\n        return {\n          cull:\"ccw\",\n          blend:false\n        }\n      }\n    }\n}\n\nexport =PMXGBufferMaterial;\n","import Material = require('../../../Core/Materials/Material');\nimport Program = require(\"../../../Core/Resources/Program/Program\");\nimport BasicRenderer = require(\"../../../Core/Renderers/BasicRenderer\");\nimport Geometry = require(\"../../../Core/Geometries/Geometry\");\nimport SceneObject = require(\"../../../Core/SceneObject\");\nimport Matrix = require(\"../../../Math/Matrix\");\nimport GLFeatureType = require(\"../../../Wrapper/GLFeatureType\");\nimport Scene = require('../../../Core/Scene');\nimport PMXMaterial = require('./PMXMaterial');\nimport ResolvedChainInfo = require('../../../Core/Renderers/ResolvedChainInfo');\nimport PMXGeometry = require('./../PMXGeometry');\nimport Vector4 = require(\"../../../Math/Vector4\");\nimport PMXMaterialParamContainer = require(\"./../PMXMaterialMorphParamContainer\");\nimport IMaterialConfig = require(\"../../../Core/Materials/IMaterialConfig\");\nimport RenderStageBase = require(\"../../../Core/Renderers/RenderStages/RenderStageBase\");\ndeclare function require(string): string;\n/**\n * the materials for PMX.\n */\nclass PMXHitAreaMaterial extends Material\n{\n    protected program: Program;\n\n    protected associatedMaterial: PMXMaterial;\n\n    /**\n     * Count of verticies\n     */\n    public get VerticiesCount()\n    {\n        return this.associatedMaterial.VerticiesCount;\n    }\n\n    /**\n     * Offset of verticies in index buffer\n     */\n    public get VerticiesOffset()\n    {\n        return this.associatedMaterial.VerticiesOffset;\n    }\n\n    public getMaterialConfig(pass:number,technique:number):IMaterialConfig\n    {\n      return {\n        blend:false,\n        cull:this.associatedMaterial.cullEnabled ? \"ccw\":undefined\n      }\n    }\n\n    constructor(material: PMXMaterial)\n    {\n        super();\n        this.associatedMaterial = material;\n        var vs = require('../../Shader/PMXHitAreaVertex.glsl');\n        var fs = require('../../Shader/PMXHitAreaFragment.glsl');\n        this.program = this.loadProgram(\"jthree.shaders.vertex.pmx.hitarea\", \"jthree.shaders.fragment.pmx.hitarea\", \"jthree.programs.pmx.hitarea\", vs, fs);\n        this.setLoaded();\n    }\n\n    public configureMaterial(scene: Scene, renderStage: RenderStageBase, object: SceneObject, texs: ResolvedChainInfo,techniqueIndex:number,passIndex:number): void {\n        if (!this.program||this.associatedMaterial.Diffuse.A<1.0E-3) return;\n        super.configureMaterial(scene, renderStage, object, texs,techniqueIndex,passIndex);\n        var r = 0xFF00 & (renderStage as any).___objectIndex;\n        var g = 0x00FF & (renderStage as any).___objectIndex;\n        var b = this.associatedMaterial.materialIndex;\n        var renderer = renderStage.Renderer;\n        var geometry = <PMXGeometry>object.Geometry;\n        var light = scene.LightRegister.shadowDroppableLights[techniqueIndex];\n        var programWrapper = this.program.getForContext(renderer.ContextManager);\n        programWrapper.register({\n            attributes: {\n                position: geometry.PositionBuffer,\n                boneWeights: geometry.boneWeightBuffer,\n                boneIndicies: geometry.boneIndexBuffer,\n            },\n            uniforms: {\n                boneMatricies: { type: \"texture\", value: this.associatedMaterial.ParentModel.skeleton.MatrixTexture, register: 0 },\n                matVP:{type:\"matrix\",value:renderer.Camera.viewProjectionMatrix},\n                boneCount: { type: \"float\", value: this.associatedMaterial.ParentModel.skeleton.BoneCount },\n                areaIndex:{type:\"vector\",value: new Vector4(r /0xFF,  g/0xFF, b / 0xFF, 1)}\n            }\n        });\n        object.Geometry.bindIndexBuffer(renderer.ContextManager);\n    }\n\n\n    public get Priorty(): number\n    {\n        return 100;\n    }\n\n    public getDrawGeometryLength(geo: Geometry): number\n    {\n        return this.associatedMaterial.Diffuse.A > 0 ? this.VerticiesCount : 0;\n    }\n\n    public getDrawGeometryOffset(geo: Geometry): number\n    {\n        return this.VerticiesOffset * 4;\n    }\n\n    public get MaterialGroup(): string\n    {\n        return \"jthree.materials.hitarea\";\n    }\n}\n\nexport =PMXHitAreaMaterial;\n","import Material = require('../../../Core/Materials/Material');\nimport Program = require(\"../../../Core/Resources/Program/Program\");\nimport BasicRenderer = require(\"../../../Core/Renderers/BasicRenderer\");\nimport Geometry = require(\"../../../Core/Geometries/Geometry\");\nimport SceneObject = require(\"../../../Core/SceneObject\");\nimport Vector4 = require('../../../Math/Vector4');\nimport Matrix = require(\"../../../Math/Matrix\");\nimport Color4 = require(\"../../../Base/Color/Color4\");\nimport Color3 = require('../../../Base/Color/Color3');\nimport GLCullMode = require(\"../../../Wrapper/GLCullMode\");\nimport GLFeatureType = require(\"../../../Wrapper/GLFeatureType\");\nimport Scene = require('../../../Core/Scene');\nimport ResolvedChainInfo = require('../../../Core/Renderers/ResolvedChainInfo');\nimport PMX = require('../../PMXLoader');\nimport Texture = require('../../../Core/Resources/Texture/Texture');\nimport BlendFuncParamType = require(\"../../../Wrapper/BlendFuncParamType\");\nimport PMXGeometry = require('./../PMXGeometry');\nimport PMXModel = require('./../PMXModel');\nimport PmxMaterialMorphParamContainer = require('./../PMXMaterialMorphParamContainer');\nimport JThreeLogger = require(\"../../../Base/JThreeLogger\");\nimport ResourceManager = require(\"../../../Core/ResourceManager\");\nimport ContextComponents = require(\"../../../ContextComponents\");\nimport JThreeContext = require(\"../../../JThreeContext\");\nimport IMaterialConfig = require(\"../../../Core/Materials/IMaterialConfig\");\nimport RenderStageBase = require(\"../../../Core/Renderers/RenderStages/RenderStageBase\");\n\ndeclare function require(string): string;\n\n\n/**\n * the materials for PMX.\n */\nclass PMXMaterial extends Material\n{\n    protected program: Program;\n\n    protected edgeProgram: Program;\n\n    private verticiesCount;\n\n    private verticiesOffset;\n\n    public  getMaterialConfig(pass:number,technique:number):IMaterialConfig\n    {\n      if(pass == 0)\n      {\n        return {\n          cull:this.cullEnabled ? \"ccw\" : undefined,\n          blend:true\n        }\n      }else\n      {\n        return {\n          cull:\"cw\"\n        }\n      }\n    }\n\n    /**\n     * Count of verticies\n     */\n    public get VerticiesCount()\n    {\n        return this.verticiesCount;\n    }\n\n    /**\n     * Offset of verticies in index buffer\n     */\n    public get VerticiesOffset()\n    {\n        return this.verticiesOffset;\n    }\n\n    public get ParentModel()\n    {\n        return this.parentModel;\n    }\n\n    public get Diffuse(): Color4\n    {\n        return this.diffuse;\n    }\n\n    public get Texture()\n    {\n        return this.texture;\n    }\n\n    public get Sphere()\n    {\n        return this.sphere;\n    }\n\n\n    public get SphereMode()\n    {\n        return this.sphereMode;\n    }\n\n    public get Specular() {\n        return this.specular;\n    }\n\n    private ambient: Color3;\n\n    private diffuse: Color4;\n\n    public edgeColor: Color4 = null;\n\n    private edgeSize: number;\n\n    private sphere: Texture = null;\n\n    private texture: Texture = null;\n\n    private toon: Texture = null;\n\n    private pmxData: PMX;\n\n    private parentModel: PMXModel;\n\n    private sphereMode: number;\n\n    public materialIndex: number;\n\n    public cullEnabled:boolean;\n\n    private specular:Vector4;\n\n    public Name: string;\n\n    public addMorphParam: PmxMaterialMorphParamContainer;\n\n    public mulMorphParam: PmxMaterialMorphParamContainer;\n\n    private textureCaches: HTMLImageElement[] = [];\n\n    public getPassCount(techniqueIndex:number): number\n    {\n        return this.edgeColor == null ? 1 : 2;\n    }\n\n    public get SelfShadow(): boolean\n    {\n        return (this.pmxData.Materials[this.materialIndex].drawFlag & 0x04) > 0;\n    }\n\n    constructor(pmx: PMXModel, index: number, offset: number)\n    {\n        super();\n        this.addMorphParam = new PmxMaterialMorphParamContainer(1);\n        this.mulMorphParam = new PmxMaterialMorphParamContainer(0);\n        this.parentModel = pmx;\n        this.pmxData = pmx.ModelData;\n        this.materialIndex = index;\n        var materialData = this.pmxData.Materials[index];\n        this.verticiesCount = materialData.vertexCount;\n        this.verticiesOffset = offset;\n        this.Name = materialData.materialName;\n        this.cullEnabled = !((materialData.drawFlag & 0x01) > 0);//each side draw flag\n        this.ambient = new Color3(materialData.ambient[0], materialData.ambient[1], materialData.ambient[2]);\n        this.diffuse = new Color4(materialData.diffuse[0], materialData.diffuse[1], materialData.diffuse[2], materialData.diffuse[3]);\n        if ((materialData.drawFlag & 0x10) > 0) this.edgeColor = new Color4(materialData.edgeColor[0], materialData.edgeColor[1], materialData.edgeColor[2], materialData.edgeColor[3]);\n        this.specular = new Vector4(materialData.specular);\n        this.edgeSize = materialData.edgeSize;\n        this.sphereMode = materialData.sphereMode;\n        var vs = require('../../Shader/PMXVertex.glsl');\n        var fs = require('../../Shader/PMXFragment.glsl');\n        this.program = this.loadProgram(\"jthree.shaders.vertex.pmx.basic\", \"jthree.shaders.fragment.pmx.basic\", \"jthree.programs.pmx.basic\", vs, fs);\n        var vs = require('../../Shader/PMXEdgeVertex.glsl');\n        var fs = require('../../Shader/PMXEdgeFragment.glsl');\n        this.edgeProgram = this.loadProgram(\"jthree.shaders.vertex.pmx.edge\", \"jthree.shaders.fragment.pmx.edge\", \"jthree.programs.pmx.edge\", vs, fs);\n        this.sphere = this.loadPMXTexture(materialData.sphereTextureIndex, \"sphere\");\n        this.texture = this.loadPMXTexture(materialData.textureIndex, \"texture\");\n        if (materialData.sharedToonFlag == 0)\n        {// not shared texture\n            this.toon = this.loadPMXTexture(materialData.targetToonIndex, \"toon\");\n        }\n        this.setLoaded();\n    }\n\n    public configureMaterial(scene: Scene, renderStage: RenderStageBase, object: SceneObject, texs: ResolvedChainInfo, techniqueIndex:number,passIndex:number): void\n    {\n      var renderer = renderStage.Renderer;\n      super.configureMaterial(scene, renderStage, object, texs,techniqueIndex,passIndex);\n        if (passIndex == 1)\n        {\n            this.configureEdgeMaterial(renderer, object);\n            return;\n        }\n        if (!this.program) return;\n        renderer.GL.blendFunc(BlendFuncParamType.SrcAlpha, BlendFuncParamType.OneMinusSrcAlpha);\n        var geometry = <PMXGeometry>object.Geometry;\n        var programWrapper = this.program.getForContext(renderer.ContextManager);\n        var v = object.Transformer.calculateMVPMatrix(renderer);\n        programWrapper.register(\n            {\n                attributes: {\n                    position: geometry.PositionBuffer,\n                    normal: geometry.NormalBuffer,\n                    uv: geometry.UVBuffer,\n                    boneWeights: geometry.boneWeightBuffer,\n                    boneIndicies: geometry.boneIndexBuffer\n                },\n                uniforms: {\n                    dlight: {\n                        type: \"texture\",\n                        value: texs[\"DLIGHT\"],\n                        register: 0\n                    }, slight: {\n                        type: \"texture\",\n                        value: texs[\"SLIGHT\"],\n                        register: 5\n                    },\n                    u_texture: {\n                        type: \"texture\",\n                        value: this.texture,\n                        register: 1\n                    },\n                    u_toon: {\n                        type: \"texture\",\n                        value: this.toon,\n                        register: 2\n                    },\n                    u_sphere: {\n                        type: \"texture\",\n                        value: this.sphere,\n                        register: 3\n                    },\n                    u_boneMatricies: {\n                        type: \"texture\",\n                        value: this.parentModel.skeleton.MatrixTexture,\n                        register: 4\n                    },\n                    u_textureUsed: {\n                        type: \"integer\",\n                        value: this.texture == null || this.texture.ImageSource == null ? 0 : 1\n                    },\n                    u_sphereMode: {\n                        type: \"integer\",\n                        value: this.sphere == null || this.sphere.ImageSource == null ? 0 : this.sphereMode\n                    },\n                    u_toonFlag: {\n                        type: \"integer\",\n                        value: this.toon == null || this.toon.ImageSource == null ? 0 : 1\n                    },\n                    u_ambient: {\n                        type: \"vector\",\n                        value: PmxMaterialMorphParamContainer.calcMorphedVectorValue(this.ambient.toVector(), this.addMorphParam, this.mulMorphParam, (t) => t.ambient, 3)\n                    },\n                    u_diffuse: {\n                        type: \"vector\",\n                        value: PmxMaterialMorphParamContainer.calcMorphedVectorValue(this.diffuse.toVector(), this.addMorphParam, this.mulMorphParam, (t) => t.diffuse, 4)\n                    },\n                    u_addTexCoeff: { type: \"vector\", value: new Vector4(this.addMorphParam.textureCoeff) },\n                    u_mulTexCoeff: { type: \"vector\", value: new Vector4(this.mulMorphParam.textureCoeff) },\n                    u_addSphereCoeff: { type: \"vector\", value: new Vector4(this.addMorphParam.sphereCoeff) },\n                    u_mulSphereCoeff: { type: \"vector\", value: new Vector4(this.mulMorphParam.sphereCoeff) },\n                    u_addToonCoeff: { type: \"vector\", value: new Vector4(this.addMorphParam.toonCoeff) },\n                    u_mulToonCoeff: { type: \"vector\", value: new Vector4(this.mulMorphParam.toonCoeff) },\n                    matMVP: { type: \"matrix\", value: v },\n                    matVP: { type: \"matrix\", value:renderer.Camera.viewProjectionMatrix },\n                    u_boneCount: {\n                        type: \"float\",\n                        value: this.parentModel.skeleton.BoneCount\n                    },\n                    ambientCoefficient:\n                    {\n                      type:\"vector\",\n                      value:scene.sceneAmbient.toVector()\n                    }\n                }\n            });\n        geometry.bindIndexBuffer(renderer.ContextManager);\n    }\n\n    private configureEdgeMaterial(renderer: BasicRenderer, object: SceneObject): void\n    {\n        if (!this.program) return;\n        var geometry = <PMXGeometry> object.Geometry;\n        var programWrapper = this.edgeProgram.getForContext(renderer.ContextManager);\n        programWrapper.register({\n            attributes: {\n                position: geometry.PositionBuffer,\n                edgeScaling: geometry.edgeSizeBuffer,\n                boneWeights: geometry.boneWeightBuffer,\n                boneIndicies: geometry.boneIndexBuffer\n            },\n            uniforms: {\n                u_boneMatricies: {\n                    type: \"texture\", register: 0, value: this.ParentModel.skeleton.MatrixTexture\n                },\n                matVP: {\n                    type: \"matrix\", value: renderer.Camera.viewProjectionMatrix\n                },\n                u_edgeSize: {\n                    type: \"float\", value: PmxMaterialMorphParamContainer.calcMorphedSingleValue(this.edgeSize, this.addMorphParam, this.mulMorphParam, (t) => t.edgeSize)\n                },\n                u_edgeColor: {\n                    type: \"vector\", value: PmxMaterialMorphParamContainer.calcMorphedVectorValue(\n                        this.edgeColor.toVector(), this.addMorphParam, this.mulMorphParam, (t) => t.edgeColor, 4)\n                }\n                ,\n                u_boneCount: {\n                    type: \"float\", value: this.parentModel.skeleton.BoneCount\n                }\n            }\n        });\n        geometry.bindIndexBuffer(renderer.ContextManager);\n    }\n\n    private loadPMXTexture(index: number, prefix: string): Texture\n    {\n        if (index < 0) return null;\n        var rm = JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager);\n        var resourceName = this.pmxData.Header.modelName+\"jthree.pmx.\" + prefix + \".\" + index;\n        if (rm.getTexture(resourceName))\n        {\n            return rm.getTexture(resourceName);\n        } else\n        {\n            var texture = rm.createTextureWithSource(resourceName, null);\n            this.loadImage(index).then((t) =>\n            {\n                texture.ImageSource = t;\n            });\n            return texture;\n        }\n    }\n\n    private loadImage(index:number): Q.Promise<HTMLImageElement>\n    {\n        return this.parentModel.pmxTextureManager.loadTexture(index);\n    }\n\n    public get Priorty(): number\n    {\n        return 100 + this.materialIndex;\n    }\n\n    public getDrawGeometryLength(geo: Geometry): number\n    {\n        return this.diffuse.A > 0 ? this.VerticiesCount : 0;\n    }\n\n    public getDrawGeometryOffset(geo: Geometry): number\n    {\n        return this.VerticiesOffset * 4;\n    }\n}\n\nexport =PMXMaterial;\n","import Material = require('../../../Core/Materials/Material');\nimport Program = require(\"../../../Core/Resources/Program/Program\");\nimport BasicRenderer = require(\"../../../Core/Renderers/BasicRenderer\");\nimport Geometry = require(\"../../../Core/Geometries/Geometry\");\nimport SceneObject = require(\"../../../Core/SceneObject\");\nimport Matrix = require(\"../../../Math/Matrix\");\nimport GLFeatureType = require(\"../../../Wrapper/GLFeatureType\");\nimport Scene = require('../../../Core/Scene');\nimport PMXMaterial = require('./PMXMaterial');\nimport ResolvedChainInfo = require('../../../Core/Renderers/ResolvedChainInfo');\nimport PMXGeometry = require('./../PMXGeometry');\nimport Vector4 = require(\"../../../Math/Vector4\");\nimport PMXMaterialParamContainer = require(\"./../PMXMaterialMorphParamContainer\");\nimport IMaterialConfig = require(\"../../../Core/Materials/IMaterialConfig\");\nimport RenderStageBase = require(\"../../../Core/Renderers/RenderStages/RenderStageBase\");\ndeclare function require(string): string;\n/**\n * the materials for PMX.\n */\nclass PMXShadowMapMaterial extends Material\n{\n    protected program: Program;\n\n    protected associatedMaterial: PMXMaterial;\n\n    /**\n     * Count of verticies\n     */\n    public get VerticiesCount()\n    {\n        return this.associatedMaterial.VerticiesCount;\n    }\n\n    /**\n     * Offset of verticies in index buffer\n     */\n    public get VerticiesOffset()\n    {\n        return this.associatedMaterial.VerticiesOffset;\n    }\n\n    public getMaterialConfig(pass:number,technique:number):IMaterialConfig\n    {\n      return {\n        blend:false,\n        cull:this.associatedMaterial.cullEnabled ? \"ccw\":undefined\n      }\n    }\n\n    constructor(material: PMXMaterial)\n    {\n        super();\n        this.associatedMaterial = material;\n        var vs = require('../../Shader/PMXShadowMapVertex.glsl');\n        var fs = require('../../Shader/PMXShadowMapFragment.glsl');\n        this.program = this.loadProgram(\"jthree.shaders.vertex.pmx.shadowmap\", \"jthree.shaders.fragment.pmx.shadowmap\", \"jthree.programs.pmx.shadowmap\", vs, fs);\n        this.setLoaded();\n    }\n\n    public configureMaterial(scene: Scene, renderStage: RenderStageBase, object: SceneObject, texs: ResolvedChainInfo,techniqueIndex:number,passIndex:number): void {\n        if (!this.program||this.associatedMaterial.Diffuse.A<1.0E-3) return;\n        super.configureMaterial(scene, renderStage, object, texs,techniqueIndex,passIndex);\n        var renderer = renderStage.Renderer;\n        var geometry = <PMXGeometry>object.Geometry;\n        var light = scene.LightRegister.shadowDroppableLights[techniqueIndex];\n        var programWrapper = this.program.getForContext(renderer.ContextManager);\n        programWrapper.register({\n            attributes: {\n                position: geometry.PositionBuffer,\n                boneWeights: geometry.boneWeightBuffer,\n                boneIndicies: geometry.boneIndexBuffer,\n            },\n            uniforms: {\n                boneMatricies: { type: \"texture\", value: this.associatedMaterial.ParentModel.skeleton.MatrixTexture, register: 0 },\n                matLVP:{type:\"matrix\",value:light.matLightViewProjection},\n                boneCount: { type: \"float\", value: this.associatedMaterial.ParentModel.skeleton.BoneCount }\n            }\n        });\n        object.Geometry.bindIndexBuffer(renderer.ContextManager);\n    }\n\n\n    public get Priorty(): number\n    {\n        return 100;\n    }\n\n    public getDrawGeometryLength(geo: Geometry): number\n    {\n        return this.associatedMaterial.Diffuse.A > 0 ? this.VerticiesCount : 0;\n    }\n\n    public getDrawGeometryOffset(geo: Geometry): number\n    {\n        return this.VerticiesOffset * 4;\n    }\n\n    public get MaterialGroup(): string\n    {\n        return \"jthree.materials.shadowmap\";\n    }\n}\n\nexport =PMXShadowMapMaterial;\n","import SceneObject = require(\"../../Core/SceneObject\");\nimport PMXSkeleton = require(\"./PMXSkeleton\");\nimport PMXModel = require(\"./PMXModel\");\nimport PMXBoneTransformer = require(\"./PMXBoneTransformer\");\nimport Vector3 = require(\"../../Math/Vector3\");\nimport Delegates = require(\"../../Base/Delegates\");\nclass PMXBone extends SceneObject {\n\tprivate targetModel: PMXModel;\n\n\tprivate targetSkeleton: PMXSkeleton;\n\n\tpublic boneIndex: number;\n\n\tpublic get TargetBoneData() {\n\t\treturn this.targetModel.ModelData.Bones[this.boneIndex];\n\t}\n\n\tpublic get IsRootBone() {\n\t\treturn this.TargetBoneData.parentBoneIndex == -1;\n\t}\n\n\tpublic get OrderCriteria() {\n\t\tvar latex = this.targetModel.ModelData.Bones.length;\n\t\treturn this.boneIndex + this.TargetBoneData.transformLayer * latex+ (this.AfterPhysics?latex*latex :0);\n\t}\n\n\tpublic get AfterPhysics() {\n\t\treturn (this.TargetBoneData.boneFlag & 0x1000) > 0;\n\t}\n\n\tconstructor(model: PMXModel, skeleton: PMXSkeleton, boneIndex: number) {\n\t\tsuper(new PMXBoneTransformer(this,model,boneIndex));\n\t\tthis.targetModel = model;\n\t\tthis.targetSkeleton = skeleton;\n\t\tthis.boneIndex = boneIndex;\n\t\tthis.name = this.TargetBoneData.boneName;\n\t}\n\n\t/**\n\t * This method is intended to use by PMXSkeleton.\n\t * No need to call this method by user.\n\t */\n\tpublic boneDictionaryConstructed() {\n\t\tif (this.IsRootBone) {\n\t\t\tthis.targetModel.addChild(this);\n\t\t} else {\n\t\t\tthis.targetSkeleton.getBoneByIndex(this.TargetBoneData.parentBoneIndex).addChild(this);\n\t\t}\n\t\tthis.Transformer.LocalOrigin = new Vector3(this.TargetBoneData.position);\n\t\tvar transformer =<PMXBoneTransformer>this.transformer;\n\t\tif(transformer.IsIKBone)\n\t\t\tfor(var i = 0; i < this.TargetBoneData.ikLinkCount; i ++)\n\t\t\t\t(<PMXBoneTransformer>this.targetSkeleton.getBoneByIndex(this.TargetBoneData.ikLinks[i].ikLinkBoneIndex).transformer).isIKLink = true;\n\t}\n\n\tpublic updateBoneTransform()\n\t{\n\t\tvar t = <PMXBoneTransformer>this.transformer;\n\t\tt.updateTransformForPMX();\n\t}\n\n\tpublic structureToString(layer: number) {\n\t\tvar result = \"\";\n\t\tfor (var i = 0; i < layer; i++)result += \"  \";\n\t\tresult += this.toString() + \"\\n\";\n\t\tvar arr = this.Children;\n\t\tfor (var index = 0; index < arr.length; index++) {\n\t\t\tif (typeof arr[index] !== \"undefined\") result += (<PMXBone>arr[index]).structureToString(layer + 1);\n\t\t}\n\t\treturn result;\n\t}\n\n\tpublic toString() {\n\t\treturn `${this.TargetBoneData.boneName}(${this.TargetBoneData.boneNameEn})`;\n\t}\n\n\tpublic applyMatrixToBuffer(buffer: Float32Array) {\n\t\t//if (!(<PMXBoneTransformer>this.Transformer).transformUpdated) return;\n\t\tfor (var i = 0; i < 16; i++) {\n\t\t\tbuffer[16 * this.boneIndex + i] = this.Transformer.LocalToGlobal.rawElements[i];\n\t\t}\n\t//(<PMXBoneTransformer>this.Transformer).transformUpdated = false;\n\t}\n}\n\nexport = PMXBone;\n","import Transformer = require('../../Core/Transform/Transformer');\nimport SceneObject = require('../../Core/SceneObject');\nimport PMXModel = require('./PMXModel');\nimport glm = require('gl-matrix');\nimport Quaternion = require('../../Math/Quaternion');\nimport Vector3 = require('../../Math/Vector3');\nimport Matrix = require('../../Math/Matrix');\nimport PMXIKLink= require('../PMXIKLink');\n\n/**\n * Bone transformer for pmx\n */\nclass PMXBoneTransformer extends Transformer {\n\t/**\n\t * Reference to PMXModel managing all dynamic features.\n\t * @type {PMXModel}\n\t */\n\tprivate pmx: PMXModel;\n\n/**\n * Bone index for bone array of skeleton.\n * @type {number}\n */\n\tprivate boneIndex: number;\n\n/**\n * Quaternion produced from rotation of IK link.\n * @type {Quaternion}\n */\n\tprivate ikLinkRotation:Quaternion = Quaternion.Identity;\n\n\t/**\n\t * Quaternion produced from manual operation,bone animation.(except bone morphs)\n\t * @type {Quaternion}\n\t */\n\tpublic userRotation:Quaternion = Quaternion.Identity;\n\n\t/**\n\t * Translation vector produced from manual operation,bone animation.\n\t * @type {Vector3}\n\t */\n\tpublic userTranslation:Vector3 = Vector3.Zero;\n\n\t/**\n\t * Quaternion produced from bone morphs.\n\t * @type {Quaternion}\n\t */\n\tprivate morphRotation:Quaternion = Quaternion.Identity;\n\n\t/**\n\t * Translation vector produced from bone morphs.\n\t * @type {Vector3}\n\t */\n\tprivate morphTranslation:Vector3 = Vector3.Zero;\n\n\t/**\n\t * Quaternion that will be used for calculating rotation providing for child bones.\n\t * @type {Quaternion}\n\t */\n\tprivate providingRotation:Quaternion = Quaternion.Identity;\n\n\t/**\n\t * Translation vector that will be used for calculating translation providing for child bones.\n\t * @type {Vector3}\n\t */\n\tprivate providingTranslation:Vector3 = Vector3.Zero;\n\n\t/**\n\t * Reference to static model data.\n\t */\n\tpublic get PMXModelData() {\n\t\treturn this.pmx.ModelData;\n\t}\n\n\tpublic get BoneData() {\n\t\treturn this.PMXModelData.Bones[this.boneIndex];\n\t}\n\n\tpublic get ProvidingBone()\n\t{\n\t\treturn this.pmx.skeleton.getBoneByIndex(this.BoneData.providingBoneIndex);\n\t}\n\n\tpublic get ProvidingBoneTransformer()\n\t{\n\t\treturn <PMXBoneTransformer>this.ProvidingBone.Transformer;\n\t}\n\n\tpublic get IsLocalProvidingBone() {\n\t\treturn (this.BoneData.boneFlag & 0x0080) > 0;\n\t}\n\n\tpublic get IsRotationProvidingBone() {\n\t\treturn (this.BoneData.boneFlag & 0x0100) > 0;\n\t}\n\n\tpublic get IsTranslationProvidingBone() {\n\t\treturn (this.BoneData.boneFlag & 0x0200) > 0;\n\t}\n\n\tpublic get IsIKBone() {\n\t\treturn (this.BoneData.boneFlag & 0x0020) > 0;\n\t}\n\n\t/**\n\t * Whether this bone transformer is IKLink or not.\n\t * This variable will be assigned by PMXSkeleton after loading all bones.\n\t * @type {boolean}\n\t */\n\tpublic isIKLink:boolean=false;\n\n\tconstructor(sceneObj: SceneObject, pmx: PMXModel, index: number) {\n\t\tsuper(sceneObj);\n\t\tthis.pmx = pmx;\n\t\tthis.boneIndex = index;\n\t}\n\n\tpublic transformUpdated = false;\n\n\tpublic updateTransform(): void {\n\t\tsuper.updateTransform();\n\t}\n\n\tpublic updateTransformForPMX()\n\t{\n\t\tif (this.pmx == null) return;\n\t\tthis.updateLocalTranslation();\n\t\tif (this.IsIKBone&&this.pmx.skeleton) {\n\t\t\tthis.applyCCDIK();\n\t\t}else{\n\t\t\tthis.updateLocalRotation();\n\t\t\tsuper.updateTransform();\n\t\t}\n\t}\n\t/**\n\t * Calculate actual rotation quaternion.\n\t * This operation not affects any other bones.(Even if the bone was child bone)\n\t * @return {[type]} [description]\n\t */\n\tprivate updateLocalRotation()\n\t{\n\t\tglm.quat.identity(this.Rotation.rawElements);\n\t\tif(this.IsRotationProvidingBone)\n\t\t{\n\t\t\tif(this.IsLocalProvidingBone)\n\t\t\t{\n\t\t\t\t//TODO Do something when this bone is local providing bone\n\t\t\t\tconsole.error(\"Local providing is not implemented yet!\");\n\t\t\t}\n\t\t\tif(this.ProvidingBoneTransformer.isIKLink)\n\t\t\t{\n\t\t\t\t//Interpolate ikLink rotation with providing rate\n\t\t\t\tglm.quat.slerp(this.Rotation.rawElements,this.Rotation.rawElements,this.ProvidingBoneTransformer.ikLinkRotation.rawElements,this.BoneData.providingRate);\n\t\t\t}\n\t\t}\n\t\t//Multiply local rotations of this bone\n\t\tglm.quat.mul(this.Rotation.rawElements,this.Rotation.rawElements,this.userRotation.rawElements);\n\t\tglm.quat.mul(this.Rotation.rawElements,this.Rotation.rawElements,this.morphRotation.rawElements);\n\t\tif(this.IsRotationProvidingBone)\n\t\t{ //Memorize providing rotation of this bone\n\t\t\tglm.quat.copy(this.providingRotation.rawElements,this.Rotation.rawElements);\n\t\t}\n\t\t//Calculate IkLink rotation of this bone\n\t\tglm.quat.mul(this.Rotation.rawElements,this.Rotation.rawElements,this.ikLinkRotation.rawElements);\n\t}\n\n\t/**\n\t * Calculate actual translation vector.\n\t * This operation not affects any other bones.(Even if the bone was child bone)\n\t * @return {[type]} [description]\n\t */\n\tprivate updateLocalTranslation()\n\t{\n\t\tthis.Position.rawElements[0] = 0;\n\t\tthis.Position.rawElements[1] = 0;\n\t\tthis.Position.rawElements[2] = 0;\n\t\tif(this.IsTranslationProvidingBone)\n\t\t{\n\t\t\tif(this.IsLocalProvidingBone)\n\t\t\t{\n\t\t\t\t//Do something when this bone is local providing bone\n\t\t\t\tconsole.error(\"Local providing is not implemented yet!\");\n\t\t\t}\n\t\t\tglm.vec3.lerp(this.Position.rawElements,this.Position.rawElements,this.ProvidingBone.Transformer.Position.rawElements,this.BoneData.providingRate);\n\t\t}\n\t\tglm.vec3.add(this.Position.rawElements,this.Position.rawElements,this.userTranslation.rawElements);\n\t\tglm.vec3.add(this.Position.rawElements,this.Position.rawElements,this.morphTranslation.rawElements);\n\t\tif(this.IsTranslationProvidingBone)\n\t\t{\n\t\t\tglm.vec3.copy(this.providingTranslation.rawElements,this.Position.rawElements);\n\t\t}\n\t}\n\n\tprivate applyCCDIK() {\n\t\tfor (var i = 0; i < this.BoneData.ikLinkCount; i ++)\n\t\t{\n\t\t\tvar link = this.getIkLinkTransformerByIndex(i);\n\t\t\tlink.ikLinkRotation = Quaternion.Identity;\n\t\t\tlink.updateTransformForPMX();\n\t\t}\n\t\tfor (var i = 0; i < this.BoneData.ikLoopCount;i++)\n\t\t{\n\t\t\tthis.CCDIKOperation(i);\n\t\t}\n\t}\n\n  private CCDIKOperation(it:number) {\n\t\tvar effector = this.PMXModelData.Bones[this.BoneData.ikTargetBoneIndex];\n\t\tvar effectorTransformer = <PMXBoneTransformer> this.pmx.skeleton.getBoneByIndex(this.BoneData.ikTargetBoneIndex).Transformer;\n\t\tvar TargetGlobalPos =Matrix.transformPoint(this.LocalToGlobal,this.LocalOrigin);\n\t\t// glm.vec3.transformMat4(this.pmxCalcCacheVec, this.LocalOrigin.rawElements, this.LocalToGlobal.rawElements);\n\t\tfor (var i = 0; i < this.BoneData.ikLinkCount; i++) {\n\t\t\tvar ikLinkData = this.BoneData.ikLinks[i];\n\t\t\tvar ikLinkTransform = this.getIkLinkTransformerByIndex(i);\n\t\t\tvar link2Effector = this.getLink2Effector(ikLinkTransform, effectorTransformer);\n\t\t\tvar link2Target = this.getLink2Target(ikLinkTransform, TargetGlobalPos);\n\t\t\tthis.ikLinkCalc(ikLinkTransform, link2Effector, link2Target, this.BoneData.ikLimitedRotation,ikLinkData,it);\n\t\t}\n\t}\n\n\tprivate getLink2Effector(link: PMXBoneTransformer, effector: PMXBoneTransformer) {\n\t\tvar ToLinkLocal =  Matrix.inverse(link.LocalToGlobal);\n\t\tvar ep = effector.LocalOrigin;\n\t\tvar local2effectorLocal=Matrix.multiply(ToLinkLocal,effector.LocalToGlobal);\n\t\tvar effectorPos = Matrix.transformPoint(local2effectorLocal,ep);\n\t\treturn effectorPos.subtractWith(link.LocalOrigin).normalizeThis();\n\t}\n\n\tprivate getLink2Target(link: PMXBoneTransformer, tp: Vector3) {\n\t\tvar ToLinkLocal =  Matrix.inverse(link.LocalToGlobal);\n\t\tvar effectorPos = Matrix.transformPoint(ToLinkLocal,tp);\n\t\treturn effectorPos.subtractWith(link.LocalOrigin).normalizeThis();\n\t}\n\n\tprivate ikLinkCalc(link: PMXBoneTransformer, effector: Vector3, target: Vector3, rotationLimit: number,ikLink:PMXIKLink,it:number) {\n\t\t//Calculate rotation angle\n\t\tvar dot = Vector3.dot(effector,target);\n\t\tif (dot > 1.0) dot = 1.0;//adjust error (if dot was over 1.0, acos(dot) will be NaN. Then, it cause some of bug)\n\t\tvar rotationAngle = this.clampFloat(Math.acos(dot), rotationLimit);\n\t\tif (isNaN(rotationAngle)) {\n\t\t\treturn;\n\t\t}\n\t\tif (rotationAngle <= 1.0e-3){\n\t\t\treturn;\n\t\t}\n\t\t//Calculate rotation axis of rotation\n\t\tvar rotationAxis = Vector3.cross(effector,target).normalizeThis();\n\n\t\t//Generate the rotation matrix rotating along the axis\n\t\tvar rotation = Quaternion.AngleAxis(rotationAngle, rotationAxis);\n\t\tlink.ikLinkRotation = rotation;\n\t\tlink.updateTransformForPMX();\n\t\t//link.updateTransform();\n\t\t//Rotation = (providingRotation) * userRotation * morphRotation * ikLinkRotation\n\t\t//RestrictedRotation = Rotation * ikLinkAdjust\n\t\t//ikLinkAdust = (Rotation) ^ -1 * RestrictedRotation\n\t\tvar restrictedRotation = this.RestrictRotation(ikLink,link.Rotation);\n\t\tvar ikLinkAdust = Quaternion.Multiply(link.Rotation.Inverse(),restrictedRotation);\n\t  link.ikLinkRotation = Quaternion.Multiply(link.ikLinkRotation,ikLinkAdust);\n\t\tlink.updateTransformForPMX();\n\t\t// link.updateTransformMatricies();\n\t}\n\n\tprivate getIkLinkTransformerByIndex(index:number):PMXBoneTransformer\n\t{\n\t\treturn <PMXBoneTransformer>this.pmx.skeleton.getBoneByIndex(this.BoneData.ikLinks[index].ikLinkBoneIndex).Transformer;\n\t}\n\n\tprivate RestrictRotation(link:PMXIKLink,rot:Quaternion):Quaternion\n{\n  if (!link.isLimitedRotation) return rot;//If this link bone is not enabled with rotation limit,just return.\n  var decomposed = rot.FactoringQuaternionXYZ();\n  var xRotation = Math.max(link.limitedRotation[0],Math.min(link.limitedRotation[3],-decomposed.x));\n  var yRotation = Math.max(link.limitedRotation[1],Math.min(link.limitedRotation[4],-decomposed.y));\n  var zRotation = Math.max(link.limitedRotation[2],Math.min(link.limitedRotation[5],decomposed.z));\n  return Quaternion.EulerXYZ(-xRotation,-yRotation,zRotation);\n}\n\n\tprivate clampFloat(f: number, limit: number) {\n\t\treturn Math.max(Math.min(f, limit), -limit);\n\t}\n}\n\nexport = PMXBoneTransformer;\n","import Geometry = require('../../Core/Geometries/Geometry');\nimport PrimitiveTopology = require('../../Wrapper/PrimitiveTopology');\nimport BufferTargetType = require('../../Wrapper/BufferTargetType');\nimport BufferUsageType = require('../../Wrapper/BufferUsageType');\nimport ElementType = require('../../Wrapper/ElementType');\nimport PMX = require('../PMXLoader');\nimport Buffer = require('../../Core/Resources/Buffer/Buffer');\nimport ContextComponents = require(\"../../ContextComponents\");\nimport JThreeContext = require(\"../../JThreeContext\");\nimport ResourceManager = require(\"../../Core/ResourceManager\");\n\nclass PMXGeometry extends Geometry {\n\n    public edgeSizeBuffer: Buffer;\n\n    public boneIndexBuffer: Buffer;\n\n    public boneWeightBuffer: Buffer;\n\n    public positionBuferSource: Float32Array;\n\n    public uvBufferSource: Float32Array;\n\n    constructor(pmx: PMX) {\n        super();\n        var name = `${pmx.Header.modelName}(${pmx.Header.modelNameEn})`;\n        var rm = JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager);\n        this.primitiveTopology = PrimitiveTopology.Triangles;\n        this.indexBuffer = rm.createBuffer(name + \"-index\", BufferTargetType.ElementArrayBuffer, BufferUsageType.StaticDraw, 1, ElementType.UnsignedInt);\n        this.positionBuffer = rm.createBuffer(name + \"-pos\", BufferTargetType.ArrayBuffer, BufferUsageType.StaticDraw, 3, ElementType.Float);\n        this.normalBuffer = rm.createBuffer(name + \"-nor\", BufferTargetType.ArrayBuffer, BufferUsageType.StaticDraw, 3, ElementType.Float);\n        this.uvBuffer = rm.createBuffer(name + \"-uv\", BufferTargetType.ArrayBuffer, BufferUsageType.StaticDraw, 2, ElementType.Float);\n        this.edgeSizeBuffer = rm.createBuffer(name + \"-edgeSize\", BufferTargetType.ArrayBuffer, BufferUsageType.StaticDraw, 1, ElementType.Float);\n        this.boneIndexBuffer = rm.createBuffer(name + \"-boneIndex\", BufferTargetType.ArrayBuffer, BufferUsageType.StaticDraw, 4, ElementType.Float);\n        this.boneWeightBuffer = rm.createBuffer(name + \"-boneWeight\", BufferTargetType.ArrayBuffer, BufferUsageType.StaticDraw, 4, ElementType.Float);\n        this.updateBuffers(pmx);\n    }\n\n    /**\n     * apply pmx geometries to buffer.\n     */\n    protected updateBuffers(pmx: PMX): void {\n        var surfaceBuffer = new Uint32Array(pmx.Surfaces);\n        var verticies = pmx.Verticies;\n        this.positionBuferSource = new Float32Array(verticies.positions);\n        this.uvBufferSource = new Float32Array(verticies.uvs);\n        this.indexBuffer.update(surfaceBuffer, surfaceBuffer.length);\n        this.normalBuffer.update(verticies.normals,verticies.normals.length);\n        this.uvBuffer.update(this.uvBufferSource, this.uvBufferSource.length);\n        this.positionBuffer.update(this.positionBuferSource, this.positionBuferSource.length);\n        this.edgeSizeBuffer.update(verticies.edgeScaling, verticies.edgeScaling.length)\n        this.boneIndexBuffer.update(verticies.boneIndicies, verticies.boneIndicies.length)\n        this.boneWeightBuffer.update(verticies.boneWeights, verticies.boneWeights.length)\n    }\n\n    public updatePositionBuffer() {\n        this.positionBuffer.update(this.positionBuferSource, this.positionBuferSource.length);\n    }\n\n    public updateUVBuffer() {\n        this.uvBuffer.update(this.uvBufferSource, this.uvBufferSource.length);\n    }\n}\n\nexport =PMXGeometry;\n","import Vector4 = require(\"../../Math/Vector4\");\nimport Vector3 = require(\"../../Math/Vector3\");\nimport Delegates = require('../../Base/Delegates');\n\nclass PMXMaterialMorphParamContainer\n{\n    constructor(calcFlag: number)\n    {\n        this.calcFlag = calcFlag;\n        var def = 1 - calcFlag;\n        this.diffuse = [def, def, def, def];\n        this.specular = [def, def, def, def];\n        this.ambient = [def, def, def];\n        this.edgeColor = [def, def, def, def];\n        this.edgeSize = def;\n        this.textureCoeff = [def, def, def, def];\n        this.sphereCoeff = [def, def, def, def];\n        this.toonCoeff = [def, def, def, def];\n    }\n\n    private calcFlag: number;\n\n    public diffuse: number[];\n\n    public specular: number[];\n\n    public ambient: number[];\n\n    public edgeColor: number[];\n\n    public edgeSize: number;\n\n    public textureCoeff: number[];\n\n    public sphereCoeff: number[];\n\n    public toonCoeff: number[];\n\n    public static calcMorphedSingleValue(base: number, add: PMXMaterialMorphParamContainer, mul: PMXMaterialMorphParamContainer, target: Delegates.Func1<PMXMaterialMorphParamContainer, number>)\n    {\n        return base * target(mul) + target(add);\n    }\n\n    public static calcMorphedVectorValue(base: Vector4|Vector3, add: PMXMaterialMorphParamContainer, mul: PMXMaterialMorphParamContainer, target: Delegates.Func1<PMXMaterialMorphParamContainer, number[]>, vecLength: number): Vector3|Vector4\n    {\n        switch (vecLength)\n        {\n            case 3:\n                return new Vector3(base.X * target(mul)[0] + target(add)[0],\n                    base.Y * target(mul)[1] + target(add)[1],\n                    base.Z * target(mul)[2] + target(add)[2]);\n            case 4:\n                return new Vector4(base.X * target(mul)[0] + target(add)[0],\n                    base.Y * target(mul)[1] + target(add)[1],\n                    base.Z * target(mul)[2] + target(add)[2],\n                    (<Vector4>base).W * target(mul)[3] + target(add)[3]\n                    );\n        }\n    }\n}\n\nexport = PMXMaterialMorphParamContainer;","import PMXHitAreaMaterial = require(\"./Materials/PMXHitAreaMaterial\");\nimport SceneObject = require(\"../../Core/SceneObject\");\nimport PMXModelData = require(\"../PMXLoader\");\nimport PMXGeometry = require(\"./PMXGeometry\");\nimport PMXMaterial = require(\"./Materials/PMXMaterial\");\nimport Delegates = require(\"../../Base/Delegates\");\nimport PMXSkeleton = require(\"./PMXSkeleton\");\nimport PMXMorphManager = require(\"./PMXMorphManager\");\nimport AssociativeArray = require(\"../../Base/Collections/AssociativeArray\");\nimport PMXGBufferMaterial = require(\"./Materials/PMXGBufferMaterial\");\nimport PMXShadowMapMaterial = require(\"./Materials/PMXShadowMapMaterial\");\nimport JThreeEvent = require(\"../../Base/JThreeEvent\");\nimport PMXTextureManager = require(\"./PMXTextureManager\");\nimport Q = require(\"q\");\n\nclass PMXModel extends SceneObject {\n\n    public static LoadFromUrl(url: string): Q.Promise<PMXModel> {\n        var d = Q.defer<PMXModel>();\n        var targetUrl = url;\n        var targetDirectory = targetUrl.substr(0, targetUrl.lastIndexOf(\"/\") + 1);\n        var oReq = new XMLHttpRequest();\n        oReq.open(\"GET\", targetUrl, true);\n        oReq.setRequestHeader(\"Accept\", \"*/*\");\n        oReq.responseType = \"arraybuffer\";\n        oReq.onload = () => {\n            var pmx = new PMXModelData(oReq.response);\n            var model = new PMXModel(pmx, targetDirectory);\n            if (model.loaded) d.resolve(model);\n            else {\n                model.onload.addListener(() => {\n                    d.resolve(model);\n                })\n            }\n        };\n        oReq.send(null);\n        return d.promise;\n    }\n\n    private modelData: PMXModelData;\n\n    public skeleton: PMXSkeleton;\n\n    private morphManager: PMXMorphManager;\n\n    private materialDictionary: AssociativeArray<PMXMaterial> = new AssociativeArray<PMXMaterial>();\n\n    private pmxMaterials: PMXMaterial[];\n\n    public loadingTextureCount: number = 0;\n\n    public loadedTextureCount: number = 0;\n\n    public pmxTextureManager: PMXTextureManager;\n\n    public modelDirectory: string;\n\n    public getPMXMaterialByName(name: string) {\n        return this.materialDictionary.get(name);\n    }\n\n    public getPMXMaterialByIndex(index: number) {\n        return this.pmxMaterials[index];\n    }\n\n    public get ModelData(): PMXModelData {\n        return this.modelData;\n    }\n\n\n    public get Materials(): PMXMaterial[] {\n        return this.pmxMaterials;\n    }\n\n    public get MorphManager(): PMXMorphManager {\n        return this.morphManager;\n    }\n\n    public onload: JThreeEvent<PMXModel> = new JThreeEvent<PMXModel>();\n\n    public loaded: boolean = false;\n\n    constructor(pmx: PMXModelData, resourceDirectory: string) {\n        super();\n        this.onload.addListener(() => { this.loaded = true });\n        this.modelData = pmx;\n        this.modelDirectory = resourceDirectory;\n        this.pmxTextureManager = new PMXTextureManager(this);\n        this.geometry = new PMXGeometry(pmx);\n        this.skeleton = new PMXSkeleton(this);\n        this.pmxMaterials = new Array(pmx.Materials.length);\n        this.name = pmx.Header.modelName;\n        var offset = 0;\n        for (var materialCount = 0; materialCount < pmx.Materials.length; materialCount++) {\n            var currentMat = pmx.Materials[materialCount];\n            var mat = new PMXMaterial(this, materialCount, offset);\n            this.addMaterial(mat);\n            this.addMaterial(new PMXGBufferMaterial(mat));\n            this.addMaterial(new PMXShadowMapMaterial(mat));\n            this.addMaterial(new PMXHitAreaMaterial(mat));\n            this.pmxMaterials[materialCount] = mat;\n            this.materialDictionary.set(currentMat.materialName, mat);\n            offset += currentMat.vertexCount;\n        }\n        this.morphManager = new PMXMorphManager(this);\n    }\n\n    public update() {\n        this.morphManager.applyMorph();\n        this.skeleton.updateMatricies();\n    }\n}\n\nexport =PMXModel;\n","import PMXModel = require('./PMXModel');\nimport PMXGeometry = require('./PMXGeometry');\nimport PMXMorphManager = require('./PMXMorphManager');\nclass PMXMorph {\n\tpublic static CreateMorph(model: PMXModel, index: number, morphManager: PMXMorphManager): PMXMorph {\n\t\tvar morphData = model.ModelData.Morphs[index];\n\t\tswitch (morphData.morphKind) {\n\t\t\tcase 0:\n\t\t\t\treturn new PMXGroupMorph(model, index, morphManager);\n\t\t\tcase 1:\n\t\t\t\treturn new PMXVertexMorph(model, index, morphManager);\n\t\t\tcase 3:\n\t\t\t\treturn new PMXUVMorph(model, index, morphManager);\n\t\t\tcase 8:\n\t\t\t\treturn new PMXMaterialMorph(model, index, morphManager);\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t}\n\n\tpublic static PostProcess(model: PMXModel, morphType: number) {\n\t\tswitch (morphType) {\n\t\t\tcase 1:\n\t\t\t\tPMXVertexMorph.PostProcess(model);\n\t\t\t\treturn;\n\t\t\tcase 2:\n\t\t\t\tPMXUVMorph.PostProcess(model);\n\t\t\t\treturn;\n\t\t}\n\t}\n\n\tprotected morphManager: PMXMorphManager;\n\tprivate progress: number = 0;\n\tprivate progressCurrentCache: number = 0;\n\n\tpublic get Progress(): number {\n\t\treturn this.progress;\n\t}\n\n\tpublic set Progress(val: number) {\n\t\tif (this.progressCurrentCache != val) {\n\t\t\tthis.progressCurrentCache = val;\n\t\t}\n\t}\n\n\tpublic get MorphName(): string {\n\t\treturn this.TargetMorphData.morphName;\n\t}\n\n\tprotected model: PMXModel;\n\tprotected morphIndex: number;\n\tprotected get TargetMorphData() {\n\t\treturn this.model.ModelData.Morphs[this.morphIndex];\n\t}\n\n\tconstructor(pmxModel: PMXModel, index: number, morphManager: PMXMorphManager) {\n\t\tthis.model = pmxModel;\n\t\tthis.morphIndex = index;\n\t\tthis.morphManager = morphManager;\n\t}\n\n\tpublic update() {\n\t\tif (this.progress != this.progressCurrentCache) {\n\t\t\tthis.updateProgress(this.progressCurrentCache, this.progress);\n\t\t\tthis.progress = this.progressCurrentCache;\n\t\t\tthis.morphManager.postProcessFlag[this.TargetMorphData.morphKind] = true;\n\t\t}\n\t}\n\n\tprotected updateProgress(current: number, last: number) {\n\n\t}\n}\n\nclass PMXVertexMorph extends PMXMorph {\n\tpublic static PostProcess(model: PMXModel) {\n\t\t(<PMXGeometry>model.Geometry).updatePositionBuffer();\n\t}\n\n\tprotected updateProgress(current: number, last: number) {\n\t\tvar ratio = current - last;\n\t\tfor (var i = 0; i < this.TargetMorphData.morphOffsetCount; ++i) {\n\t\t\tvar vm = this.TargetMorphData.vertexMorph[i];\n\t\t\t(<PMXGeometry>this.model.Geometry).positionBuferSource[3 * vm.vertexIndex + 0] += vm.vertexOffset[0] * ratio;\n\t\t\t(<PMXGeometry>this.model.Geometry).positionBuferSource[3 * vm.vertexIndex + 1] += vm.vertexOffset[1] * ratio;\n\t\t\t(<PMXGeometry>this.model.Geometry).positionBuferSource[3 * vm.vertexIndex + 2] += vm.vertexOffset[2] * ratio;\n\t\t}\n\t}\n}\n\nclass PMXUVMorph extends PMXMorph {\n\tpublic static PostProcess(model: PMXModel) {\n\t\t(<PMXGeometry>model.Geometry).updateUVBuffer();\n\t}\n\tprotected updateProgress(current: number, last: number) {\n\t\tvar ratio = current - last;\n\t\tfor (var i = 0; i < this.TargetMorphData.morphOffsetCount; ++i) {\n\t\t\tvar vm = this.TargetMorphData.uvMorph[i];\n\t\t\t(<PMXGeometry>this.model.Geometry).uvBufferSource[3 * vm.vertexIndex + 0] += vm.uvOffset[0] * ratio;\n\t\t\t(<PMXGeometry>this.model.Geometry).uvBufferSource[3 * vm.vertexIndex + 1] += vm.uvOffset[1] * ratio;\n\t\t\t(<PMXGeometry>this.model.Geometry).uvBufferSource[3 * vm.vertexIndex + 2] += vm.uvOffset[2] * ratio;\n\t\t}\n\t}\n}\n\nclass PMXGroupMorph extends PMXMorph {\n\tprotected updateProgress(current: number, last: number) {\n\t\tvar ratio = current - last;\n\t\tfor (var i = 0; i < this.TargetMorphData.morphOffsetCount; ++i) {\n\t\t\tvar vm = this.TargetMorphData.groupMorph[i];\n\t\t\tvar m=this.morphManager.getMorphByIndex(vm.morphIndex);\n\t\t\tif(m)m.Progress += ratio * vm.morphRate;\n\t\t}\n\t}\n}\n\nclass PMXMaterialMorph extends PMXMorph {\n\tprotected updateProgress(current: number, last: number) {\n\n\t\tvar ratio = current - last;\n\t\tfor (var i = 0; i < this.TargetMorphData.morphOffsetCount; ++i) {\n\t\t\tvar vm = this.TargetMorphData.materialMorph[i];\n\t\t\tif (vm.materialIndex == -1) {\n\t\t\t\tvar targetMaterials = this.model.Materials;\n\t\t\t} else {\n\t\t\t\tvar targetMaterials = [this.model.getPMXMaterialByIndex(vm.materialIndex)];\n\t\t\t}\n\t\t\tfor (var j = 0; j < targetMaterials.length; j++) {\n\t\t\t\tvar targetMaterial = targetMaterials[j];\n\t\t\t\tvar target = vm.operationType == 1 ? targetMaterial.addMorphParam : targetMaterial.mulMorphParam;\n\t\t\t\ttarget.edgeSize += ratio * (vm.edgeSize + vm.operationType - 1);\n\t\t\t\tthis.assignMorphValues(3, target.ambient, vm.ambient, ratio, vm.operationType);\n\t\t\t\tthis.assignMorphValues(4, target.diffuse, vm.diffuse, ratio, vm.operationType);\n\t\t\t\tthis.assignMorphValues(4, target.specular, vm.specular, ratio, vm.operationType);\n\t\t\t\tthis.assignMorphValues(4, target.edgeColor, vm.edgeColor, ratio, vm.operationType);\n\t\t\t\tthis.assignMorphValues(4, target.textureCoeff, vm.textureCoefficient, ratio, vm.operationType);\n\t\t\t\tthis.assignMorphValues(4, target.sphereCoeff, vm.sphereTextureCoefficient, ratio, vm.operationType);\n\t\t\t\tthis.assignMorphValues(4, target.toonCoeff, vm.toonTextureCoefficient, ratio, vm.operationType);\n\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate assignMorphValues(vecLength: number, target: number[], morphValues: number[], ratio: number, opType: number) {\n\t\tfor (var i = 0; i < vecLength; i++) {\n\t\t\ttarget[i] += ratio * (morphValues[i] + opType - 1);\n\t\t}\n\t}\n}\n\nexport = PMXMorph;","import PMXMorph = require(\"./PMXMorph\");\nimport PMXModel = require(\"./PMXModel\");\nimport AssociativeArray = require(\"./../../Base/Collections/AssociativeArray\");\nclass PMXMorphManager\n{\n\tprivate morphs: PMXMorph[];\n\n\tprivate model: PMXModel;\n\n\tprivate morphsDictionary: AssociativeArray<PMXMorph> = new AssociativeArray<PMXMorph>();\n\n\tpublic postProcessFlag: boolean[]=[false,false,false,false,false,false,false,false,false];\n\n\tconstructor(model:PMXModel)\n\t{\n\t\tthis.model = model;\n\t\tthis.morphs = new Array(model.ModelData.Morphs.length);\n\t\tfor (var i = 0; i < model.ModelData.Morphs.length; ++i) {\n\t\t\tthis.morphs[i] = PMXMorph.CreateMorph(model, i,this);\n\t\t\tif(this.morphs[i]!=null)this.morphsDictionary.set(this.morphs[i].MorphName, this.morphs[i]);\n\t\t}\n\t}\n\n\tpublic applyMorph()\n\t{\n\t\tfor (var i = 0; i < this.morphs.length; ++i) {\n\t\t\tif (this.morphs[i] != null) this.morphs[i].update();\n\t\t}\n\t\tfor (var i = 0; i < this.postProcessFlag.length;i++)\n\t\t{\n\t\t\tif(this.postProcessFlag[i])\n\t\t\t{\n\t\t\t\tPMXMorph.PostProcess(this.model,i);\n\t\t\t\tthis.postProcessFlag[i] = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic getMorphByName(name:string)\n\t{\n\t\treturn this.morphsDictionary.get(name);\n\t}\n\n\tpublic getMorphByIndex(index:number)\n\t{\n\t\treturn this.morphs[index];\n\t}\n}\n\nexport = PMXMorphManager;\n","import PMXModel = require('./PMXModel');\nimport PMXBone = require('./PMXBone');\nimport AssociativeArray = require('../../Base/Collections/AssociativeArray')\nimport TextureBuffer = require('../../Core/Resources/Texture/BufferTexture');\nimport TextureFormat = require('../../Wrapper/TextureInternalFormatType');\nimport ElementFormat = require('../../Wrapper/TextureType');\nimport PMXBoneTransformer = require(\"./PMXBoneTransformer\");\nimport ContextComponents = require(\"../../ContextComponents\");\nimport JThreeContext = require(\"../../JThreeContext\");\nimport ResourceManager = require(\"../../Core/ResourceManager\");\nclass PMXSkeleton {\n\tconstructor(model: PMXModel) {\n\t\tmodel.skeleton = this;\n\t\tvar bones = model.ModelData.Bones;\n\t\tthis.bones = new Array(model.ModelData.Bones.length);\n\t\tthis.bonesInTransformOrder = new Array(model.ModelData.Bones.length);\n\t\tthis.matricies = new Float32Array(model.ModelData.Bones.length * 16);\n\t\tfor (var i = 0; i < bones.length; i++) {\n\t\t\tvar bone = bones[i];\n\t\t\tvar pmxBone = new PMXBone(model, this, i);\n\t\t\tif (bone.parentBoneIndex == -1) {\n\t\t\t\tthis.rootBones.push(pmxBone);\n\t\t\t}\n\t\t\tthis.bonesInTransformOrder[i] = this.bones[i] = pmxBone;\n\t\t\tthis.boneDictionary.set(bone.boneName, pmxBone);\n\t\t}\n\t\tthis.bones.forEach((v) => v.boneDictionaryConstructed());\n\t\tthis.bonesInTransformOrder.sort((a, b) => a.OrderCriteria - b.OrderCriteria);\n\t\tthis.matrixTexture=<TextureBuffer>JThreeContext.getContextComponent<ResourceManager>(ContextComponents.ResourceManager).createTexture(\"jthree.pmx.bonetransform\" + model.ID, 4,this.bones.length, TextureFormat.RGBA, ElementFormat.Float);\n\t}\n\n\tprivate rootBones: PMXBone[] = [];\n\n\tprivate bones: PMXBone[];\n\n\tprivate bonesInTransformOrder: PMXBone[];\n\n\tprivate boneDictionary: AssociativeArray<PMXBone> = new AssociativeArray<PMXBone>();\n\n\tprivate matricies: Float32Array;\n\n\tprivate matrixTexture: TextureBuffer;\n\n\tpublic get MatrixTexture()\n\t{\n\t\treturn this.matrixTexture;\n\t}\n\n\tpublic get BoneCount()\n\t{\n\t\treturn this.bones.length;\n\t}\n\n\tpublic getBoneByName(name: string): PMXBone {\n\t\treturn this.boneDictionary.get(name);\n\t}\n\n\tpublic getBoneByIndex(index: number): PMXBone {\n\t\treturn this.bones[index];\n\t}\n\n\tpublic updateMatricies() {\n\t\tthis.updateBoneTransforms();\n\t\tfor (var i = 0; i < this.bones.length; i++) {\n\t\t\tthis.bones[i].applyMatrixToBuffer(this.matricies);\n\t\t}\n\t\tthis.matrixTexture.updateTexture(this.matricies);\n\t}\n\n\tpublic updateBoneTransforms()\n\t{\n\t\t// this.rootBones.forEach(v=>v.callRecursive(l=>{\n\t\t// \tif(l[\"updateBoneTransform\"])(<PMXBone>l).updateBoneTransform();\n\t\t// }));\n\t\tthis.bonesInTransformOrder.forEach(v=>(v.updateBoneTransform()));\n\t}\n\n\tpublic structureToString() {\n\t\tvar result = \"\";\n\t\tthis.rootBones.forEach(v=> result += v.structureToString(0));\n\t\treturn result;\n\t}\n}\n\nexport = PMXSkeleton;\n","import PMXModel = require(\"./PMXModel\");\nimport JThreeLogger = require(\"../../Base/JThreeLogger\");\nimport Q = require(\"q\");\nclass PMXTextureManager\n{\n  private model:PMXModel;\n\n  private textures:HTMLImageElement[]|Q.Promise<HTMLImageElement>[]=[];\n\n  constructor(model:PMXModel)\n  {\n    this.model = model;\n  }\n\n  public loadTexture(index:number):Q.Promise<HTMLImageElement>\n  {\n    if(this.textures[index] && typeof this.textures[index] === \"object\")return Q.Promise<HTMLImageElement>((resolver,reject,notify)=>{resolver(this.textures[index])});//Assume texture was loaded\n    if(this.textures[index]&& typeof this.textures[index] ===\"function\")return <Q.Promise<HTMLImageElement>>this.textures[index];//Assume texture is loading\n    var loadingPromise =  Q.Promise<HTMLImageElement>((resolver, reject, notify) =>\n    {\n        var img = new Image();\n        img.onload = () =>\n        {\n            this.textures[index] = img;\n            resolver(img);\n            this.model.loadedTextureCount++;\n            JThreeLogger.sectionLog(\"pmx texture\",`loaded texture ${this.model.loadedTextureCount} / ${this.model.loadingTextureCount}`);\n            if(this.model.loadingTextureCount == this.model.loadedTextureCount)this.model.onload.fire(this.model,this.model);\n        }\n        img.onerror = () =>\n        {\n          this.textures[index] = img;\n          resolver(img);\n          this.model.loadedTextureCount++;\n          JThreeLogger.sectionError(\"pmx texture\",`load failure texture ${this.model.loadedTextureCount} / ${this.model.loadingTextureCount} ${img.src}`);\n          if(this.model.loadingTextureCount == this.model.loadedTextureCount)this.model.onload.fire(this.model,this.model);\n        }\n        img.src = this.model.modelDirectory + this.model.ModelData.Textures[index];\n        this.model.loadingTextureCount++;\n    });\n    this.textures[index] = loadingPromise;\n    return loadingPromise;\n  }\n}\n\nexport = PMXTextureManager;\n","import TagFactory = require(\"../../../Goml/Factories/TagFactory\");\nimport GomlTreeNodeBase = require(\"../../../Goml/GomlTreeNodeBase\");\nimport PMXBonesNode = require(\"../PMXBonesNode\"); /**\n* PMXMorph node factory\n*/\nclass PMXBoneTagFactory extends TagFactory {\n    public CreateNodeForThis(elem: Element, parent: GomlTreeNodeBase): GomlTreeNodeBase {\n\t\tif (parent.getTypeName() === \"PMXBonesNode\") {\n\t\t\tvar castedParent = <PMXBonesNode>parent;\n\t\t\treturn new this.nodeType(elem, parent, castedParent.TargetPMXNode);\n\t\t}\n\t}\n}\n\nexport =PMXBoneTagFactory;\n","import TagFactory = require(\"../../../Goml/Factories/TagFactory\");\nimport GomlTreeNodeBase = require(\"../../../Goml/GomlTreeNodeBase\");\nimport PMXMorphsNode = require(\"../PMXMorphsNode\"); /**\n* PMXMorph node factory\n*/\nclass PMXMorphTagFactory extends TagFactory {\n    public CreateNodeForThis(elem: Element, parent: GomlTreeNodeBase): GomlTreeNodeBase {\n\t\tif (parent.getTypeName() === \"PMXMorphsNode\") {\n\t\t\tvar castedParent = <PMXMorphsNode>parent;\n\t\t\treturn new this.nodeType(elem, parent, castedParent.TargetPMXNode);\n\t\t}\n\t}\n}\n\nexport =PMXMorphTagFactory;\n","import GomlTreeNodeBase = require(\"../../Goml/GomlTreeNodeBase\");\nimport PMXNode = require(\"./PMXNode\");\nimport SceneObjectNodeBase = require(\"../../Goml/Nodes/SceneObjects/SceneObjectNodeBase\");\n\nclass PMXBoneNode extends SceneObjectNodeBase {\n\n\tprivate targetPMX: PMXNode;\n\n\tprotected ConstructTarget() {\n\t\treturn this.targetSceneObject || null;\n\t}\n\n\tconstructor(elem: HTMLElement, parent: GomlTreeNodeBase, pmx: PMXNode) {\n\t\tsuper(elem, parent, pmx.ContainedSceneNode, pmx);\n\t\tthis.targetPMX = pmx;\n\t\tthis.targetPMX.onPMXTargetUpdate((e, o) => { this.attributes.updateValue(); });\n\t\tthis.attributes.defineAttribute({\n\t\t\t\"name\":\n\t\t\t{\n\t\t\t\tvalue: \"\",\n\t\t\t\tconverter: \"string\",\n\t\t\t\thandler: (v) => {\n\t\t\t\t\tif (!this.targetPMX.PMXModelReady) return;\n\t\t\t\t\tvar bone = this.targetPMX.PMXModel.skeleton.getBoneByName(v.Value);\n\t\t\t\t\tif (bone != null && bone != this.targetSceneObject) {\n\t\t\t\t\t\tthis.targetSceneObject = bone;\n\t\t\t\t\t\tif (this.children) {\n\t\t\t\t\t\t\tfor (var i = 0; i < this.children.length; i++) {\n\t\t\t\t\t\t\t\t(<SceneObjectNodeBase>this.children[i]).TargetObject.Transformer.Position=bone.Transformer.LocalOrigin;\n\t\t\t\t\t\t\t\t(<SceneObjectNodeBase>this.children[i]).parentChanged();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport =PMXBoneNode;\n","import GomlTreeNodeBase = require(\"../../Goml/GomlTreeNodeBase\");\nimport PMXNode = require(\"./PMXNode\");\nclass PMXBonesNode extends GomlTreeNodeBase {\n  constructor(elem: HTMLElement, parent: GomlTreeNodeBase) {\n    super(elem, parent);\n    this.targetPMXNode = <PMXNode>parent;\n  }\n\n\n  private targetPMXNode: PMXNode;\n\n  public get TargetPMXNode() {\n    return this.targetPMXNode;\n  }\n}\n\nexport =PMXBonesNode;\n","import GomlTreeNodeBase = require(\"../../Goml/GomlTreeNodeBase\");\nimport PMXNode = require(\"./PMXNode\");\nclass PMXMorphNode extends GomlTreeNodeBase {\n\n\tprivate targetPMX: PMXNode;\n\n\tconstructor(elem: HTMLElement, parent: GomlTreeNodeBase, pmx: PMXNode) {\n\t\tsuper(elem, parent);\n\t\tthis.targetPMX = pmx;\n\t\tthis.targetPMX.onPMXTargetUpdate((e, o) => { this.attributes.updateValue(); });\n\t\tthis.attributes.defineAttribute({\n\t\t\t\"name\":\n\t\t\t{\n\t\t\t\tvalue: \"\",\n\t\t\t\tconverter: \"string\"\n\t\t\t},\n\t\t\t\"value\":\n\t\t\t{\n\t\t\t\tvalue: 0,\n\t\t\t\tconverter: \"number\",\n\t\t\t\thandler: (v) => {\n\t\t\t\t\tif (this.targetPMX.PMXModelReady) {\n\t\t\t\t\t\tvar key = this.attributes.getValue(\"name\");\n\t\t\t\t\t\tvar target = this.targetPMX.PMXModel.MorphManager.getMorphByName(key);\n\t\t\t\t\t\tif (target != null) {\n\t\t\t\t\t\t\ttarget.Progress = v.Value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport =PMXMorphNode;\n","import GomlTreeNodeBase = require(\"../../Goml/GomlTreeNodeBase\");\nimport PMXNode = require(\"./PMXNode\");\nclass PMXMorphsNode extends GomlTreeNodeBase {\n  constructor(elem: HTMLElement, parent: GomlTreeNodeBase) {\n    super(elem, parent);\n    this.targetPMXNode = <PMXNode>parent;\n  }\n\n\n  private targetPMXNode: PMXNode;\n\n  public get TargetPMXNode() {\n    return this.targetPMXNode;\n  }\n}\n\nexport =PMXMorphsNode;\n","import GomlTreeNodeBase = require(\"../../Goml/GomlTreeNodeBase\");\nimport SceneObjectNodeBase = require(\"./../../Goml/Nodes/SceneObjects/SceneObjectNodeBase\");\nimport SceneNode = require(\"../../Goml/Nodes/SceneNode\");\nimport SceneObject = require(\"../../Core/SceneObject\");\nimport PMXModel= require('../Core/PMXModel');\nimport JThreeEvent = require('../../Base/JThreeEvent');\nimport Delegates = require('../../Base/Delegates');\nimport JThreeContext = require(\"../../JThreeContext\");\nimport ContextComponents = require(\"../../ContextComponents\");\nimport ResourceLoader = require(\"../../Core/ResourceLoader\");\nimport Q = require(\"q\");\nclass PMXNode extends SceneObjectNodeBase\n{\n  private pmxModel:PMXModel=null;\n\n  public get PMXModel()\n  {\n    return this.pmxModel;\n  }\n\n  public get PMXModelReady()\n  {\n    return this.PMXModel != null;\n  }\n\n  private pmxTargetUpdated: JThreeEvent<PMXModel> = new JThreeEvent<PMXModel>();\n\n  private pmxLoadingDeferred:Q.Deferred<void>;\n\n  public onPMXTargetUpdate(handler:Delegates.Action2<PMXNode,PMXModel>)\n  {\n    this.pmxTargetUpdated.addListener(handler);\n  }\n\n  constructor(elem: HTMLElement,parent:GomlTreeNodeBase,parentSceneNode:SceneNode,parentObject:SceneObjectNodeBase)\n  {\n      super(elem,parent,parentSceneNode,parentObject);\n      this.pmxLoadingDeferred = JThreeContext.getContextComponent<ResourceLoader>(ContextComponents.ResourceLoader).getResourceLoadingDeffered();\n      this.attributes.defineAttribute(\n        {\n          \"src\":\n          {\n            converter:\"string\",value:\"\"\n          }\n        }\n      )\n  }\n\n  protected ConstructTarget():SceneObject\n  {\n    return this.pmxModel;\n  }\n\n    public beforeLoad()\n  {\n    super.beforeLoad();\n    PMXModel.LoadFromUrl(this.attributes.getValue(\"src\"))\n      .then((m)=>{\n      this.pmxModel=m;\n      this.targetUpdated();\n      this.pmxTargetUpdated.fire(this,m);\n      this.bubbleEvent(\"loaded\",{target:this});\n      this.pmxLoadingDeferred.resolve(null);\n    });\n  }\n\n  protected targetUpdated()\n  {\n    super.beforeLoad();\n  }\n\n    public Load()\n  {\n    super.Load();\n  }\n\n}\n\nexport=PMXNode;\n","import PMXHeader = require(\"./PMXHeader\");\nimport PMXVerticies = require(\"./PMXVerticies\");\nimport PMXMaterial = require(\"./PMXMaterial\");\nimport PMXBone = require(\"./PMXBone\");\nimport PMXMorph = require(\"./PMXMorph\");\nimport PMXDisplayFrame = require(\"./PMXDisplayFrame\");\nimport PMXRigidBody = require(\"./PMXRigidBody\");\nimport PMXJoint = require(\"./PMXJoint\");\nclass PMX {\n    private reader: jDataView;\n\n    private header: PMXHeader;\n\n    private verticies: PMXVerticies;\n\n    private surfaces: number[];\n\n    private textures: string[];\n\n    private materials: PMXMaterial[];\n\n    private bones: PMXBone[];\n\n    private morphs: PMXMorph[];\n\n    private displayFrames: PMXDisplayFrame[];\n\n    private rigidBodies: PMXRigidBody[];\n\n    private joints: PMXJoint[];\n\n    public get Header() {\n        return this.header;\n    }\n\n    public get Verticies() {\n        return this.verticies;\n    }\n\n    public get Surfaces() {\n        return this.surfaces;\n    }\n\n    public get Materials() {\n        return this.materials;\n    }\n\n    public get Textures() {\n        return this.textures;\n    }\n\n    public get Bones() {\n        return this.bones;\n    }\n\n    public get Morphs() {\n        return this.morphs;\n    }\n\n    constructor(data: ArrayBuffer) {\n        this.reader = new jDataView(data, 0, data.byteLength, true);\n        this.loadHeader();\n        this.loadVerticies();\n        this.loadSurfaces();\n        this.loadTextures();\n        this.loadMaterials();\n        this.loadBones();\n        this.loadMorphs();\n        this.loadDisplayFrames();\n        this.loadRigidBodies();\n        this.loadJoints();\n    }\n\n    private readTextBuf(): string {\n        var length = this.reader.getInt32();\n        if (this.header.encoding == 0) {\n            //When this was UTF-16LE\n            var textArr = []\n            for (var i = 0; i < length / 2; i++) {\n\t\t\t\t\t\t\tvar c = this.reader.getUint16();\n\t\t\t\t\t\t\tif(c == 0)continue;//To discard null char\n                textArr.push(c);\n            }\n            return String.fromCharCode.apply(null, textArr);\n        }\n        return this.reader.getString(length, this.reader.tell(), \"utf8\");\n    }\n\n    private toUTF8Array(str) {\n        var utf8 = [];\n        for (var i = 0; i < str.length; i++) {\n            var charcode = str.charCodeAt(i);\n            if (charcode < 0x80) utf8.push(charcode);\n            else if (charcode < 0x800) {\n                utf8.push(0xc0 | (charcode >> 6),\n                    0x80 | (charcode & 0x3f));\n            }\n            else if (charcode < 0xd800 || charcode >= 0xe000) {\n                utf8.push(0xe0 | (charcode >> 12),\n                    0x80 | ((charcode >> 6) & 0x3f),\n                    0x80 | (charcode & 0x3f));\n            }\n            // surrogate pair\n            else {\n                i++;\n                // UTF-16 encodes 0x10000-0x10FFFF by\n                // subtracting 0x10000 and splitting the\n                // 20 bits of 0x0-0xFFFFF into two halves\n                charcode = 0x10000 + (((charcode & 0x3ff) << 10)\n                    | (str.charCodeAt(i) & 0x3ff))\n                utf8.push(0xf0 | (charcode >> 18),\n                    0x80 | ((charcode >> 12) & 0x3f),\n                    0x80 | ((charcode >> 6) & 0x3f),\n                    0x80 | (charcode & 0x3f));\n            }\n        }\n        return utf8;\n    }\n\n    private loadHeader() {\n        var r = this.reader;\n        this.reader.getUint32();//pass magic\n        this.header =\n            {\n                version: r.getFloat32(),\n                headerByteSize: r.getUint8(),\n                encoding: r.getUint8(),\n                uvAddition: r.getUint8(),\n                vertexIndexSize: r.getUint8(),\n                textureIndexSize: r.getUint8(),\n                materialIndexSize: r.getUint8(),\n                boneIndexSize: r.getUint8(),\n                morphIndexSize: r.getUint8(),\n                rigidBodyIndexSize: r.getUint8(),\n                modelName: \"\",\n                modelNameEn: \"\",\n                comment: \"\",\n                commentEn: \"\"\n            };\n        this.header.modelName = this.readTextBuf();\n        this.header.modelNameEn = this.readTextBuf();\n        this.header.comment = this.readTextBuf();\n        this.header.commentEn = this.readTextBuf();\n    }\n\n    private readBoneIndex() {\n        return this.readIndexExceptVertex(this.header.boneIndexSize);\n    }\n\n    private readTextureIndex() {\n        return this.readIndexExceptVertex(this.header.textureIndexSize);\n    }\n\n    private readMorphIndex() {\n        return this.readIndexExceptVertex(this.header.morphIndexSize);\n    }\n\n    private readMaterialIndex() {\n        return this.readIndexExceptVertex(this.header.materialIndexSize);\n    }\n\n    private readRigidBodyIndex() {\n        return this.readIndexExceptVertex(this.header.rigidBodyIndexSize);\n    }\n    private readVertexIndex() {\n        switch (this.header.vertexIndexSize) {\n            case 1:\n                return this.reader.getUint8();\n            case 2:\n                return this.reader.getUint16();\n            case 4:\n                return this.reader.getInt32();\n        }\n    }\n\n    private readIndexExceptVertex(byte: number) {\n        switch (byte) {\n            case 1:\n                return this.reader.getInt8();\n            case 2:\n                return this.reader.getInt16();\n            case 4:\n                return this.reader.getInt32();\n        }\n    }\n\n    private loadVerticies() {\n        var r = this.reader;\n        var count = r.getInt32();\n        var uvCount = this.header.uvAddition;\n        //allocate arrays\n        var additionalUvs = new Array(uvCount);\n        for (var i = 0; i < uvCount; i++) {\n            additionalUvs[i] = new Array(count * 4);\n        }\n        var bi1 = 0, bi2 = 0, bi3 = 0, bi4 = 0;\n        var bw1 = 0, bw2 = 0, bw3 = 0, bw4 = 0;\n        var sumCache = 0;\n        var result: PMXVerticies = {\n            positions: new Array(count * 3),\n            normals: new Float32Array(count * 3),\n            uvs: new Array(count * 2),\n            additionalUV: additionalUvs,\n            edgeScaling: new Float32Array(count),\n            verticies: new Array(count),\n            boneIndicies: new Float32Array(count * 4),\n            boneWeights: new Float32Array(count * 4)\n        };\n        for (var i = 0; i < count; i++) {\n            bi1 = 0; bi2 = 0; bi3 = 0; bi4 = 0;\n            bw1 = 0; bw2 = 0; bw3 = 0; bw4 = 0;\n            result.positions[3 * i + 0] = r.getFloat32();\n            result.positions[3 * i + 1] = r.getFloat32();\n            result.positions[3 * i + 2] = -r.getFloat32();\n            result.normals[3 * i + 0] = r.getFloat32();\n            result.normals[3 * i + 1] = r.getFloat32();\n            result.normals[3 * i + 2] = -r.getFloat32();\n            result.uvs[2 * i + 0] = r.getFloat32();\n            result.uvs[2 * i + 1] = r.getFloat32();\n            for (var j = 0; j < uvCount; j++) {\n                result.additionalUV[j][4 * i + 0] = r.getFloat32();\n                result.additionalUV[j][4 * i + 1] = r.getFloat32();\n                result.additionalUV[j][4 * i + 2] = r.getFloat32();\n                result.additionalUV[j][4 * i + 3] = r.getFloat32();\n            }\n            result.verticies[i] = { weightTransform: r.getUint8() }\n            switch (result.verticies[i].weightTransform) {\n                case 0://BDEF\n                    bi1 = this.readBoneIndex();\n                    bw1 = 1;\n                    break;\n                case 1://BDEF2\n                    bi1 = this.readBoneIndex();\n                    bi2 = this.readBoneIndex();\n                    bw1 = r.getFloat32();\n                    bw2 = 1 - bw1;\n                    break;\n                case 2://BDEF4\n                    bi1 = this.readBoneIndex();\n                    bi2 = this.readBoneIndex();\n                    bi3 = this.readBoneIndex();\n                    bi4 = this.readBoneIndex();\n                    bw1 = r.getFloat32();\n                    bw2 = r.getFloat32();\n                    bw3 = r.getFloat32();\n                    bw4 = r.getFloat32();\n                    sumCache = bw1 + bw2 + bw3 + bw4;\n                    bw1 /= sumCache;\n                    bw2 /= sumCache;\n                    bw3 /= sumCache;\n                    bw4 /= sumCache;\n                    break;\n                case 3://SDEF\n                    bi1 = this.readBoneIndex();\n                    bi2 = this.readBoneIndex();\n                    bw1 = r.getFloat32();\n                    bw2 = 1 - bw1;\n                    result.verticies[i].sdef =\n                        {\n                            boneParams: [\n                                r.getFloat32(),\n                                r.getFloat32(),\n                                r.getFloat32(),\n                                r.getFloat32(),\n                                r.getFloat32(),\n                                r.getFloat32(),\n                                r.getFloat32(),\n                                r.getFloat32(),\n                                r.getFloat32(),\n                            ]\n                        }\n                    break;\n            }\n            result.boneIndicies[4 * i + 0] = bi1;\n            result.boneIndicies[4 * i + 1] = bi2;\n            result.boneIndicies[4 * i + 2] = bi3;\n            result.boneIndicies[4 * i + 3] = bi4;\n            result.boneWeights[4 * i + 0] = bw1;\n            result.boneWeights[4 * i + 1] = bw2;\n            result.boneWeights[4 * i + 2] = bw3;\n            result.boneWeights[4 * i + 3] = bw4;\n            result.edgeScaling[i] = r.getFloat32()\n        }\n        this.verticies = result;\n    }\n\n    private loadSurfaces() {\n        var r = this.reader;\n        var count = r.getInt32();\n        this.surfaces = new Array(count);\n        for (var i = 0; i < count / 3; i++) {\n            this.surfaces[3 * i + 0] = this.readVertexIndex();\n            this.surfaces[3 * i + 2] = this.readVertexIndex();\n            this.surfaces[3 * i + 1] = this.readVertexIndex();\n        }\n    }\n\n    private loadTextures() {\n        var r = this.reader;\n        var count = r.getInt32();\n        this.textures = new Array(count);\n        for (var i = 0; i < count; i++) {\n            this.textures[i] = this.readTextBuf();\n        }\n    }\n\n    private loadMaterials() {\n        var r = this.reader;\n        var count = r.getInt32();\n        this.materials = new Array(count);\n        var cache = 0;\n        for (var i = 0; i < count; i++) {\n            this.materials[i] = {\n                materialName: this.readTextBuf(),\n                materialNameEn: this.readTextBuf(),\n                diffuse: [r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32()],\n                specular: [r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32()],\n                ambient: [r.getFloat32(), r.getFloat32(), r.getFloat32()],\n                drawFlag: r.getUint8(),\n                edgeColor: [r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32()],\n                edgeSize: r.getFloat32(),\n                textureIndex: this.readTextureIndex(),\n                sphereTextureIndex: this.readTextureIndex(),\n                sphereMode: r.getUint8(),\n                sharedToonFlag: cache = r.getUint8(),\n                targetToonIndex: cache == 0 ? this.readTextureIndex() : r.getUint8(),\n                memo: this.readTextBuf(),\n                vertexCount: r.getInt32(),\n            };\n        }\n    }\n\n    private loadBones() {\n        var r = this.reader;\n        var count = r.getUint32();\n        this.bones = new Array(count);\n        var boneFlagCache = 0;\n        var ikLinkCountCache = 0;\n        var ikLimitedCache = 0;\n        for (var i = 0; i < count; i++) {\n            this.bones[i] = {\n                boneName: this.readTextBuf(),\n                boneNameEn: this.readTextBuf(),\n                position: [r.getFloat32(), r.getFloat32(), -r.getFloat32()],\n                parentBoneIndex: this.readBoneIndex(),\n                transformLayer: r.getInt32(),\n                boneFlag: boneFlagCache = r.getUint16(),\n                positionOffset: (boneFlagCache & 0x0001) == 0 ? [r.getFloat32(), r.getFloat32(), -r.getFloat32()] : undefined,\n                connectingBoneIndex: (boneFlagCache & 0x0001) > 0 ? this.readBoneIndex() : undefined,\n                providingBoneIndex: (boneFlagCache & 0x0100) > 0 || (boneFlagCache & 0x0200) > 0 ? this.readBoneIndex() : undefined,\n                providingRate: (boneFlagCache & 0x0100) > 0 || (boneFlagCache & 0x0200) > 0 ? r.getFloat32() : undefined,\n                fixedAxis: (boneFlagCache & 0x0400) > 0 ? [r.getFloat32(), r.getFloat32(), -r.getFloat32()] : undefined,\n                localAxisX: (boneFlagCache & 0x0800) > 0 ? [r.getFloat32(), r.getFloat32(), - r.getFloat32()] : undefined,\n                localAxisZ: (boneFlagCache & 0x0800) > 0 ? [r.getFloat32(), r.getFloat32(), -r.getFloat32()] : undefined,\n                externalParentTransformKey: (boneFlagCache & 0x2000) > 0 ? r.getInt32() : undefined,\n                ikTargetBoneIndex: (boneFlagCache & 0x0020) > 0 ? this.readBoneIndex() : undefined,\n                ikLoopCount: (boneFlagCache & 0x0020) > 0 ? r.getInt32() : undefined,\n                ikLimitedRotation: (boneFlagCache & 0x0020) > 0 ? r.getFloat32() : undefined,\n                ikLinkCount: (boneFlagCache & 0x0020) > 0 ? ikLinkCountCache = r.getInt32() : ikLinkCountCache = undefined,\n                ikLinks: (boneFlagCache & 0x0020) > 0 ? new Array(ikLinkCountCache) : undefined\n            };\n            if (ikLinkCountCache)\n                for (var j = 0; j < ikLinkCountCache; j++) {\n                    this.bones[i].ikLinks[j] = {\n                        ikLinkBoneIndex: this.readBoneIndex(),\n                        isLimitedRotation: ikLimitedCache = r.getUint8(),\n                        limitedRotation: ikLimitedCache > 0 ? [r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32()] : undefined\n                    }\n                }\n        }\n    }\n    private loadMorphs() {\n        var r = this.reader;\n        var count = r.getInt32();\n        this.morphs = new Array(count);\n        var morphCountCache = 0;\n        for (var i = 0; i < count; i++) {\n            this.morphs[i] = {\n                morphName: this.readTextBuf(),\n                morphNameEn: this.readTextBuf(),\n                editPanel: r.getUint8(),\n                morphKind: r.getUint8(),\n                morphOffsetCount: morphCountCache = r.getInt32()\n            };\n            switch (this.morphs[i].morphKind) {\n                case 0:\n                    //group morph\n                    this.morphs[i].groupMorph = new Array(morphCountCache);\n                    for (var j = 0; j < morphCountCache; j++) {\n                        this.morphs[i].groupMorph[j] = {\n                            morphIndex: this.readMorphIndex(),\n                            morphRate: r.getFloat32()\n                        };\n                    }\n                    break;\n                case 1:\n                    this.morphs[i].vertexMorph = new Array(morphCountCache);\n                    for (var j = 0; j < morphCountCache; j++) {\n                        this.morphs[i].vertexMorph[j] =\n                            {\n                                vertexIndex: this.readVertexIndex(),\n                                vertexOffset: [r.getFloat32(), r.getFloat32(), -r.getFloat32()]\n                            }\n                    }\n                    break;\n                case 2:\n                    this.morphs[i].boneMorph = new Array(morphCountCache);\n                    for (var j = 0; j < morphCountCache; j++) {\n                        this.morphs[i].boneMorph[j]\n                            = {\n                                boneIndex: this.readBoneIndex(),\n                                translationOffset: [r.getFloat32(), r.getFloat32(), -r.getFloat32()],\n                                rotationOffset: [r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32()]\n                            };\n                    }\n                    break;\n                case 3:\n                case 4:\n                case 5:\n                case 6:\n                case 7:\n                    this.morphs[i].uvMorph = new Array(morphCountCache);\n                    for (var j = 0; j < morphCountCache; j++) {\n                        this.morphs[i].uvMorph[j]\n                            = {\n                                vertexIndex: this.readVertexIndex(),\n                                uvOffset: [r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32()]\n                            };\n                    }\n                    break;\n                case 8:\n                    this.morphs[i].materialMorph = new Array(morphCountCache);\n                    for (var j = 0; j < morphCountCache; j++) {\n                        this.morphs[i].materialMorph[j]\n                            = {\n                                materialIndex: this.readMaterialIndex(),\n                                operationType: r.getUint8(),\n                                diffuse: [r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32()],\n                                specular: [r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32()],\n                                ambient: [r.getFloat32(), r.getFloat32(), r.getFloat32()],\n                                edgeColor: [r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32()],\n                                edgeSize: r.getFloat32(),\n                                textureCoefficient: [r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32()],\n                                sphereTextureCoefficient: [r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32()],\n                                toonTextureCoefficient: [r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32()]\n                            };\n                    }\n                    break;\n            }\n        }\n    }\n\n    private loadDisplayFrames() {\n        var r = this.reader;\n        var count = r.getInt32();\n        this.displayFrames = new Array(count);\n        var countCache = 0;\n        var targetCache = 0;\n        for (var i = 0; i < count; i++) {\n            this.displayFrames[i] =\n                {\n                    frameName: this.readTextBuf(),\n                    frameNameEn: this.readTextBuf(),\n                    specialFrameFlag: r.getUint8(),\n                    elementCount: countCache = r.getInt32(),\n                    targetElementTypes: new Array(countCache),\n                    targetIndex: new Array(countCache)\n                };\n            for (var j = 0; j < countCache; j++) {\n                this.displayFrames[i].targetElementTypes[j] = targetCache = r.getUint8();\n                this.displayFrames[i].targetIndex[j] = targetCache > 0 ? this.readMorphIndex() : this.readBoneIndex();\n            }\n        }\n    }\n\n    private loadRigidBodies() {\n        var r = this.reader;\n        var count = r.getInt32();\n        this.rigidBodies = new Array(count);\n        for (var i = 0; i < count; i++) {\n            this.rigidBodies[i] = {\n                rigidBodyName: this.readTextBuf(),\n                rigidBodyNameEn: this.readTextBuf(),\n                boneIndex: this.readBoneIndex(),\n                group: r.getUint8(),\n                unCollisionGroupFlag: r.getUint16(),\n                shape: r.getUint8(),\n                size: [r.getFloat32(), r.getFloat32(), r.getFloat32()],\n                position: [r.getFloat32(), r.getFloat32(), -r.getFloat32()],\n                rotation: [r.getFloat32(), r.getFloat32(), r.getFloat32()],\n                mass: r.getFloat32(),\n                translationFraction: r.getFloat32(),\n                rotationFraction: r.getFloat32(),\n                boundness: r.getFloat32(),\n                fraction: r.getFloat32(),\n                calcType: r.getUint8(),\n            };\n        }\n    }\n\n    private loadJoints() {\n        var r = this.reader;\n        var count = r.getInt32();\n        this.joints = new Array(count);\n        var typeCache = 0;\n        for (var i = 0; i < count; i++) {\n            this.joints[i] = {\n                jointName: this.readTextBuf(),\n                jointNameEn: this.readTextBuf(),\n                jointType: typeCache = r.getUint8(),\n                spring: typeCache == 0 ?\n                    {\n                        targetRigidBody1: this.readRigidBodyIndex(),\n                        targetRigidBody2: this.readRigidBodyIndex(),\n                        position: [r.getFloat32(), r.getFloat32(), r.getFloat32()],\n                        rotation: [r.getFloat32(), r.getFloat32(), r.getFloat32()],\n                        translationLimit: [r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32()],\n                        rotationLimit: [r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32()],\n                        springCoefficientLimit: [r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32(), r.getFloat32()]\n                    } : undefined\n            };\n        }\n    }\n}\n\nexport = PMX;\n","module.exports = \"precision mediump float;\\nuniform vec4 u_edgeColor;\\n\\nvoid main(void)\\n{\\n   gl_FragColor=u_edgeColor;\\n}\"","module.exports = \"precision mediump float;\\nattribute vec3 position;\\nattribute vec3 normal;\\nattribute float edgeScaling;\\nattribute vec4 boneWeights;\\nattribute vec4 boneIndicies;\\n\\nuniform mat4 matVP;\\nuniform float u_edgeSize;\\n\\n\\nuniform mediump sampler2D u_boneMatricies;\\nuniform float u_boneCount;\\n\\nmat4 matFromIndex(float index)\\n{\\n\\tfloat y =index/u_boneCount+1./u_boneCount/2.;\\n\\ty=y;\\n\\treturn mat4(\\n\\ttexture2D(u_boneMatricies,vec2(0.125,y)),\\n\\ttexture2D(u_boneMatricies,vec2(0.375,y)),\\n\\ttexture2D(u_boneMatricies,vec2(0.625,y)),\\n\\ttexture2D(u_boneMatricies,vec2(0.875,y)));\\n}\\n\\nmat4 getBoneTransform()\\n{\\n\\treturn boneWeights.x*matFromIndex(boneIndicies.x)\\n\\t+boneWeights.y*matFromIndex(boneIndicies.y)\\n\\t+boneWeights.z*matFromIndex(boneIndicies.z)\\n\\t+boneWeights.w*matFromIndex(boneIndicies.w);\\n}\\nvoid main(void){\\n\\tmat4 matMVP=matVP*getBoneTransform();\\n\\tvec4 p0 = matMVP*vec4(position,1);\\n\\tvec4 p1 = matMVP*vec4(position+normal,1);\\n\\tp0.xy/=p0.w;\\n\\tp1.xy/=p1.w;\\n\\tfloat coeff=(512./2.0)*distance(p0.xy,p1.xy);\\n\\tif(coeff > 1.0) coeff = 1.0/coeff;\\n\\tcoeff*=u_edgeSize*edgeScaling;\\n\\tgl_Position = matMVP*vec4(position + coeff*normal,1);\\n}\\n\"","module.exports = \"precision mediump float;\\nvarying vec3 v_normal;\\nvarying  vec2 v_uv;\\nvarying vec4 v_pos;\\nuniform vec4 u_diffuse;\\n\\nuniform vec4 u_specular;\\nuniform vec3 u_ambient;\\nuniform vec3 u_DirectionalLight;\\nuniform mat4 matMVP;\\nuniform mat4 matMV;\\nuniform mat4 matV;\\nuniform sampler2D dlight;\\nuniform sampler2D slight;\\nuniform sampler2D u_texture;\\nuniform sampler2D u_sphere;\\nuniform sampler2D u_toon;\\nvarying vec2 v_spuv;\\nuniform int u_textureUsed;\\nuniform int u_sphereMode;\\nuniform int u_toonFlag;\\nuniform vec4 u_addTexCoeff;\\nuniform vec4 u_mulTexCoeff;\\nuniform vec4 u_addSphereCoeff;\\nuniform vec4 u_mulSphereCoeff;\\nuniform vec4 u_addToonCoeff;\\nuniform vec4 u_mulToonCoeff;\\nuniform vec3 ambientCoefficient;\\n\\nvec2 calcLightUV(vec4 projectionSpacePos)\\n{\\n   return (projectionSpacePos.xy/projectionSpacePos.w+vec2(1,1))/2.;\\n}\\n\\nvec4 blendPMXTexture(sampler2D source,vec2 uv,vec4 addCoeff,vec4 mulCoeff)\\n{\\n    vec4 result=texture2D(source,uv);\\n    result.rgb=mix(mix(result.rgb,vec3(0,0,0),addCoeff.a),vec3(1,1,1),1.-mulCoeff.a);\\n    result.rgb=result.rgb*mulCoeff.rgb+addCoeff.rgb;\\n    return result;\\n}\\n\\n\\n\\nvoid main(void){\\n  gl_FragColor = vec4(0,0,0,0);\\n  vec2 lightUV=calcLightUV(v_pos);\\n  vec3 dlc = texture2D(dlight,lightUV).rgb;\\n  vec3 slc = texture2D(slight,lightUV).rgb;\\n  vec3 alc = u_ambient * ambientCoefficient;\\n  if(u_toonFlag==1)\\n  {\\n\\t\\t  float brightness = max(max(dlc.r,dlc.g),dlc.b);\\n      gl_FragColor.rgb+=blendPMXTexture(u_toon,vec2(0,1.-brightness),u_addToonCoeff  ,u_mulToonCoeff ).rgb * dlc;\\n  }else\\n  {\\n      gl_FragColor.rgb+=dlc;\\n  }\\n\\tgl_FragColor.a=u_diffuse.a;\\n  gl_FragColor.rgb += slc + alc;\\n}\\n\"","module.exports = \"precision mediump float;\\nattribute vec4 position;\\nattribute vec3 normal;\\nattribute vec4 boneWeights;\\nattribute vec4 boneIndicies;\\nattribute vec2 uv;\\n\\nuniform mat4 matVP;\\nuniform mat4 matV;\\nuniform mediump sampler2D boneMatricies;\\nuniform float boneCount;\\n\\nvarying vec4 vPosition;\\nvarying vec3 vNormal;\\nvarying vec2 vUV;\\nvarying vec2 vSphereUV;\\n\\nmat4 matFromIndex(float index)\\n{\\n\\tfloat y =index/boneCount+1./boneCount/2.;\\n\\treturn mat4(\\n\\ttexture2D(boneMatricies,vec2(0.125,y)),\\n\\ttexture2D(boneMatricies,vec2(0.375,y)),\\n\\ttexture2D(boneMatricies,vec2(0.625,y)),\\n\\ttexture2D(boneMatricies,vec2(0.875,y)));\\n}\\n\\nmat4 getBoneTransform()\\n{\\n\\treturn boneWeights.x*matFromIndex(boneIndicies.x)\\n\\t+boneWeights.y*matFromIndex(boneIndicies.y)\\n\\t+boneWeights.z*matFromIndex(boneIndicies.z)\\n\\t+boneWeights.w*matFromIndex(boneIndicies.w);\\n}\\n\\nvoid main(void){\\nmat4 boneTransform=getBoneTransform();\\nvec4 tNormal = matV * boneTransform * vec4(normal,0);\\nvPosition=gl_Position = matVP*boneTransform*position;\\nvNormal=normalize(tNormal.xyz);\\nvSphereUV=vNormal.xy/2.+vec2(0.5,0.5);\\nvUV=uv;\\n}\\n\"","module.exports = \"precision mediump float;\\nuniform vec4 areaIndex;\\nvoid main(void)\\n{\\n  gl_FragColor = areaIndex;\\n}\\n\"","module.exports = \"precision mediump float;\\n\\nattribute vec4 position;\\nattribute vec4 boneWeights;\\nattribute vec4 boneIndicies;\\n\\nuniform mat4 matVP;\\nuniform mediump sampler2D boneMatricies;\\nuniform float boneCount;\\n\\nmat4 matFromIndex(float index)\\n{\\n\\tfloat y =index/boneCount+1./boneCount/2.;\\n\\treturn mat4(\\n\\ttexture2D(boneMatricies,vec2(0.125,y)),\\n\\ttexture2D(boneMatricies,vec2(0.375,y)),\\n\\ttexture2D(boneMatricies,vec2(0.625,y)),\\n\\ttexture2D(boneMatricies,vec2(0.875,y)));\\n}\\n\\nmat4 getBoneTransform()\\n{\\n\\treturn boneWeights.x*matFromIndex(boneIndicies.x)\\n\\t+boneWeights.y*matFromIndex(boneIndicies.y)\\n\\t+boneWeights.z*matFromIndex(boneIndicies.z)\\n\\t+boneWeights.w*matFromIndex(boneIndicies.w);\\n}\\n\\nvoid main(void){\\nmat4 boneTransform=getBoneTransform();\\ngl_Position = matVP*boneTransform*position;\\n}\\n\"","module.exports = \"precision mediump float;\\n\\n//UNIFORM VARIABLES\\nuniform float specularCoefficient;\\n\\n//VARYING VARIABLES\\nvarying vec3 vNormal;\\nvarying vec4 vPosition;\\nvarying vec2 vUV;\\nvarying vec2 vSphereUV;\\n\\nvec2 compressNormal()\\n{\\n\\tfloat p = sqrt(vNormal.z * 8. + 8.);\\n\\treturn vNormal.xy/p + 0.5;\\n}\\n\\nfloat calcDepth()\\n{\\n\\treturn vPosition.z/vPosition.w;\\n}\\n\\nvoid main(void)\\n{\\n\\tgl_FragColor = vec4(compressNormal(),calcDepth(),specularCoefficient);\\n}\\n\"","module.exports = \"precision mediump float;\\n\\nvarying vec4 vPosition;\\nvarying vec3 vNormal;\\nvarying vec2 vUV;\\nvarying vec2 vSphereUV;\\n\\nuniform vec4 diffuse;\\nuniform sampler2D texture;\\nuniform sampler2D sphere;\\nuniform mat4 matV;\\nuniform int textureUsed;\\nuniform int sphereMode;\\nuniform vec4 addTextureCoefficient;\\nuniform vec4 mulTextureCoefficient;\\nuniform vec4 addSphereCoefficient;\\nuniform vec4 mulSphereCoefficient;\\n\\n\\nvec4 blendPMXTexture(sampler2D source,vec2 uv,vec4 addCoeff,vec4 mulCoeff)\\n{\\n    vec4 result=texture2D(source,abs(fract(uv)));\\n    result.rgb=mix(mix(result.rgb,vec3(0,0,0),addCoeff.a),vec3(1,1,1),1.-mulCoeff.a);\\n    result.rgb=result.rgb*mulCoeff.rgb+addCoeff.rgb;\\n    return result;\\n}\\n\\nvoid main(void){\\n  gl_FragColor.rgba=diffuse;\\n    if(textureUsed > 0){\\n       gl_FragColor=blendPMXTexture(texture,vUV,addTextureCoefficient,mulTextureCoefficient);\\n  }\\n    if(sphereMode==1)\\n    {\\n      gl_FragColor.rgb*=blendPMXTexture(sphere,vSphereUV,addSphereCoefficient,mulSphereCoefficient).rgb;\\n    }else if(sphereMode==2)\\n    {\\n      gl_FragColor.rgb+=blendPMXTexture(sphere,vSphereUV,addSphereCoefficient,mulSphereCoefficient).rgb;\\n    }\\n}\\n\"","module.exports = \"precision mediump float;\\nattribute vec4 position;\\nattribute vec4 boneWeights;\\nattribute vec4 boneIndicies;\\n\\nuniform mat4 matLVP;\\nuniform mediump sampler2D boneMatricies;\\nuniform float boneCount;\\n\\nvarying vec4 vPosition;\\n\\nmat4 matFromIndex(float index)\\n{\\n\\tfloat y =index/boneCount+1./boneCount/2.;\\n\\treturn mat4(\\n\\ttexture2D(boneMatricies,vec2(0.125,y)),\\n\\ttexture2D(boneMatricies,vec2(0.375,y)),\\n\\ttexture2D(boneMatricies,vec2(0.625,y)),\\n\\ttexture2D(boneMatricies,vec2(0.875,y)));\\n}\\n\\nmat4 getBoneTransform()\\n{\\n\\treturn boneWeights.x*matFromIndex(boneIndicies.x)\\n\\t+boneWeights.y*matFromIndex(boneIndicies.y)\\n\\t+boneWeights.z*matFromIndex(boneIndicies.z)\\n\\t+boneWeights.w*matFromIndex(boneIndicies.w);\\n}\\n\\nvoid main(void){\\nmat4 boneTransform=getBoneTransform();\\nvec4 tPos = boneTransform * position;\\n vPosition = gl_Position = matLVP * tPos;\\n}\\n\"","module.exports = \"precision mediump float;\\n\\nvarying vec4 vPosition;\\nvarying vec3 vNormal;\\nvarying vec2 vUV;\\nvarying vec2 vSphereUV;\\n\\nuniform vec3 specular;\\n\\nvoid main(void)\\n{\\n\\tgl_FragColor.rgb = specular;\\n}\\n\"","module.exports = \"precision mediump float;\\nattribute vec3 position;\\nattribute vec3 normal;\\nattribute vec2 uv;\\nattribute vec4 boneWeights;\\nattribute vec4 boneIndicies;\\nuniform mat4 matMVP;\\nuniform mat4 matMV;\\nuniform mat4 matVP;\\n\\nvarying vec3 v_normal;\\nvarying vec2 v_uv;\\nvarying vec4 v_pos;\\nvarying vec2 v_spuv;\\n\\n\\nuniform sampler2D u_boneMatricies;\\nuniform float u_boneCount;\\n\\nmat4 matFromIndex(float index)\\n{\\n\\tfloat y =index/u_boneCount+1./u_boneCount/2.;\\n\\ty=y;\\n\\treturn mat4(\\n\\ttexture2D(u_boneMatricies,vec2(0.125,y)),\\n\\ttexture2D(u_boneMatricies,vec2(0.375,y)),\\n\\ttexture2D(u_boneMatricies,vec2(0.625,y)),\\n\\ttexture2D(u_boneMatricies,vec2(0.875,y)));\\n}\\n\\nmat4 getBoneTransform()\\n{\\n\\treturn boneWeights.x*matFromIndex(boneIndicies.x)\\n\\t+boneWeights.y*matFromIndex(boneIndicies.y)\\n\\t+boneWeights.z*matFromIndex(boneIndicies.z)\\n\\t+boneWeights.w*matFromIndex(boneIndicies.w);\\n}\\n\\nvoid main(void){\\nmat4 boneTransform=getBoneTransform();\\nv_pos=gl_Position = matVP*boneTransform*vec4(position,1.0);\\nv_normal=normalize((matMV*vec4(normal,0)).xyz);\\nv_spuv=v_normal.xy/2.+vec2(0.5,0.5);\\nv_uv=uv;\\t\\n}\\n\"","import Geometry = require(\"../Core/Geometries/Geometry\");\nimport Material = require(\"../Core/Materials/Material\");\nimport Mesh = require('./Mesh');\nimport GBufferMaterial = require(\"../Core/Materials/Buffering/GBufferMaterial\");\nimport ShadowMapMaterial = require(\"../Core/Materials/Buffering/ShadowMapMaterial\");\nimport HitAreaTestMaterial = require(\"../Core/Materials/Buffering/HitTestMaterial\");\nclass BasicMeshObject extends Mesh\n    {\n        constructor(geometry:Geometry,mat:Material)\n        {\n            super(geometry,mat);\n            this.addMaterial(new GBufferMaterial());\n            this.addMaterial(new ShadowMapMaterial());\n            this.addMaterial(new HitAreaTestMaterial());\n        }\n    }\n\nexport=BasicMeshObject;\n","import SceneObject = require(\"../Core/SceneObject\");\nimport Geometry = require(\"../Core/Geometries/Geometry\");\nimport Material = require(\"../Core/Materials/Material\");\n\nclass Mesh extends SceneObject\n    {\n        constructor(geometry:Geometry,mat:Material)\n        {\n            super();\n            if(mat)this.addMaterial(mat);\n            if(geometry)this.geometry = geometry;\n        }\n    }\n\nexport=Mesh;\n","import GomlTreeNodeBase = require(\"../../Goml/GomlTreeNodeBase\");\nimport PMXNode = require(\"../../PMX/Goml/PMXNode\");\nimport PMXBone = require(\"../../PMX/Core/PMXBone\");\nimport VMDData = require(\"../Parser/VMDData\");\nimport Vector3 = require(\"../../Math/Vector3\");\nimport Quaternion = require(\"../../Math/Quaternion\");\nimport PMXMorph = require(\"../../PMX/Core/PMXMorph\");\nimport PMXBoneTransformer = require(\"../../PMX/Core/PMXBoneTransformer\");\nimport JThreeContext = require(\"../../JThreeContext\");\nimport ContextComponents = require(\"../../ContextComponents\");\nimport Timer = require(\"../../Core/Timer\");\nimport Q = require(\"q\");\nimport ResourceLoader = require(\"../../Core/ResourceLoader\");\n\nclass VMDNode extends GomlTreeNodeBase {\n    private targetPMX: PMXNode;\n\n    private targetVMD: VMDData;\n\n    private lastURL: string;\n\n    private enabled: boolean;\n\n    private autoSpeed: number = 0;\n\n    private lastTime: number = null;\n\n    private frame: number = 0;\n\n    private vmdLoadingDeferred: Q.Deferred<void>;\n\n    constructor(elem: HTMLElement, parent: GomlTreeNodeBase) {\n        super(elem, parent);\n        this.targetPMX = <PMXNode>this.parent;\n        this.targetPMX.onPMXTargetUpdate((e, o) => { this.attributes.updateValue(); });\n        this.attributes.defineAttribute({\n            \"src\":\n            {\n                value: \"\",\n                converter: \"string\",\n                handler: (v) => {\n                    if (!v.Value || v.Value == this.lastURL) return;\n                    if (this.vmdLoadingDeferred) this.vmdLoadingDeferred.resolve(null);\n                    this.vmdLoadingDeferred = JThreeContext.getContextComponent<ResourceLoader>(ContextComponents.ResourceLoader).getResourceLoadingDeffered();\n                    VMDData.LoadFromUrl(v.Value).then((data) => {\n                        this.lastURL = v.Value;\n                        this.targetVMD = data;\n                        this.attributes.applyDefaultValue();\n                        this.vmdLoadingDeferred.resolve(null);\n                    });\n                }\n            },\n            \"frame\":\n            {\n                value: 0,\n                converter: \"number\",\n                handler: (v) => {\n                    this.frame = Math.max(0, v.Value);\n                    if (!this.attributes.getValue(\"enabled\")) return;\n                    if (this.targetPMX.PMXModelReady && this.targetVMD) {\n                        for (var boneName in this.targetVMD.Motions) {\n                            var bone: PMXBone;\n                            if (bone = this.targetPMX.PMXModel.skeleton.getBoneByName(boneName)) {\n                                var current = this.targetVMD.getBoneFrame(this.frame, boneName);\n                                bone.Transformer.Position = new Vector3(current.position);\n                                (<PMXBoneTransformer>bone.Transformer).userRotation = new Quaternion(current.rotation);\n                            }\n                        }\n                        for (var morphName in this.targetVMD.Morphs) {\n                            var morph: PMXMorph;\n                            if (morph = this.targetPMX.PMXModel.MorphManager.getMorphByName(morphName)) {\n                                var morphCurrent = this.targetVMD.getMorphFrame(this.frame, morphName);\n                                if (morph) morph.Progress = morphCurrent.value;\n                            }\n                        }\n                    }\n                }\n            },\n            \"enabled\":\n            {\n                value: false,\n                converter: \"boolean\",\n                handler: (v) => {\n                    this.enabled = v.Value;\n                }\n            },\n            \"autoSpeed\":\n            {\n                value: \"0\",\n                converter: \"number\",\n                handler: (v) => {\n                    this.autoSpeed = v.Value;\n                }\n            }\n        });\n    }\n\n    public update() {\n        if (this.enabled && this.autoSpeed !== 0) {\n            var timer = JThreeContext.getContextComponent<Timer>(ContextComponents.Timer);\n            if (this.lastTime === null) {\n                this.lastTime = timer.Time;\n                return;\n            } else {\n                var dt = timer.Time - this.lastTime;\n                this.lastTime = timer.Time;\n                this.attributes.setValue(\"frame\", this.frame + dt / 1000 * 30 * this.autoSpeed);\n            }\n        }\n    }\n}\n\nexport =VMDNode;\n","class BezierCurve\n{\n  private static Epsilon = 1.0E-3;\n\n  private v1x:number;\n\n  private v2x:number;\n\n  private v1y:number;\n\n  private v2y:number;\n\n  constructor(v1x:number,v1y:number,v2x:number,v2y:number)\n  {\n    this.v1x = v1x;\n    this.v1y = v1y;\n    this.v2x = v2x;\n    this.v2y = v2y;\n  }\n\n  public evaluate(progress:number)\n  {\n    //Newton method\n    var t = this.clamp(progress, 0, 1);\n    var dt;\n    do\n    {\n        dt = -(this.fx(t) - progress) / this.dfxdt(t);\n        if (isNaN(dt))\n            break;\n        t += this.clamp(dt, -1, 1);\n    } while (Math.abs(dt) > BezierCurve.Epsilon);\n    return this.clamp(this.fy(t), 0, 1);\n  }\n\n  private clamp(p:number,min:number,max:number)\n  {\n    return Math.max(min,Math.min(p,max));\n  }\n\n  public fy(t:number)\n  {\n    //fy(t)=(1-t)^3*0+3*(1-t)^2*t*v1.y+3*(1-t)*t^2*v2.y+t^3*1\n    return 3 * (1 - t)*(1 - t)* t * this.v1y + 3 * (1 - t) * t * t * this.v2y + t * t * t;\n  }\n\n  public fx(t:number)\n  {\n    //fx(t)=(1-t)^3*0+3*(1-t)^2*t*v1.x+3*(1-t)*t^2*v2.x+t^3*1\n    return 3 * (1 - t) * (1 - t) * t * this.v1x + 3 * (1 - t) * t * t * this.v2x + t * t * t;\n  }\n\n  public dfxdt(t:number)\n  {\n    //dfx(t)/dt=-6(1-t)*t*v1.x+3(1-t)^2*v1.x-3t^2*v2.x+6(1-t)*t*v2.x+3t^2\n    return -6 * (1 - t) * t * this.v1x + 3 * (1 - t) * (1 - t) * this.v1x - 3 * t * t * this.v2x + 6 * (1 - t) * t * this.v2x + 3 * t * t;\n  }\n}\n\nexport = BezierCurve;\n","import VMDHeader = require(\"./VMDHeader\");\nimport VMDMotions = require(\"./VMDMotions\");\nimport VMDMorphs = require(\"./VMDMorphs\");\nimport VMDFrameData = require(\"./VMDFrameData\");\nimport VMDBoneStatus= require(\"./VMDBoneStatus\");\nimport Delegates = require(\"../../Base/Delegates\");\nimport VMDMorphStatus = require(\"./VMDMorphStatus\");\nimport glm = require(\"gl-matrix\");\nimport BezierCurve = require(\"./BezierCurve\");\nimport Q = require(\"q\");\nclass VMDData {\n\n\tpublic static LoadFromUrl(url: string):Q.Promise<VMDData> {\n\t\tvar d = Q.defer<VMDData>();\n\t\tvar targetUrl = url;\n\t\tvar oReq = new XMLHttpRequest();\n\t\toReq.open(\"GET\", targetUrl, true);\n\t\toReq.setRequestHeader(\"Accept\", \"*/*\");\n\t\toReq.responseType = \"arraybuffer\";\n\t\toReq.onload = () => {\n\t\t\tvar data = new VMDData(oReq.response);\n\t\t\td.resolve(data);\n\t\t};\n\t\toReq.send(null);\n\t\treturn d.promise;\n\t}\n\n\tprivate reader: jDataView;\n\n\tprivate header: VMDHeader;\n\n\tprivate motions: VMDMotions;\n\n\tprivate morphs: VMDMorphs;\n\n\tpublic get Motions()\n\t{\n\t\treturn this.motions;\n\t}\n\n\tpublic get Morphs()\n\t{\n\t\treturn this.morphs;\n\t}\n\n\tconstructor(data: ArrayBuffer) {\n\t\tthis.reader = new jDataView(data, 0, data.byteLength, true);\n\t\tthis.loadHeader();\n\t\tthis.loadMotion();\n\t\tthis.loadMorph();\n\t}\n\n\tprivate loadHeader() {\n\t\tvar r = this.reader;\n\t\tthis.header\n\t\t= {\n\t\t\theader: this.loadString(30),\n\t\t\tmodelName: this.loadString(20)\n\t\t};\n\t}\n\n\tprivate loadMotion() {\n\t\tthis.motions = {};\n\t\tvar r = this.reader;\n\t\tvar frameCount = r.getUint32();\n\t\tfor (var i = 0; i < frameCount; i++) {\n\t\t\tvar frameName = this.loadString(15);\n\t\t\tvar data =\n\t\t\t\t{\n\t\t\t\t\tframeNumber: r.getUint32(),\n\t\t\t\t\tposition: [r.getFloat32(), r.getFloat32(), -r.getFloat32()],\n\t\t\t\t\trotation: [-r.getFloat32(),-r.getFloat32(), r.getFloat32(), r.getFloat32()],\n\t\t\t\t\tinterpolation: this.loadInterpolation()\n\t\t\t\t};\n\t\t\tif (typeof this.motions[frameName] === \"undefined\") {\n\t\t\t\tthis.motions[frameName] = [];\n\t\t\t}\n\t\t\tthis.motions[frameName].push(data);\n\t\t}\n\t\tfor(var motion in this.motions)\n\t\t{//sort each bone frames\n\t\t\tthis.motions[motion].sort((i1,i2)=>i1.frameNumber-i2.frameNumber);\n\t\t}\n\t}\n\n\tprivate loadMorph() {\n\t\tthis.morphs = {};\n\t\tvar r = this.reader;\n\t\tvar frameCount = r.getUint32();\n\t\tfor (var i = 0; i < frameCount; i++) {\n\t\t\tvar frameName = this.loadString(15);\n\t\t\tvar data =\n\t\t\t\t{\n\t\t\t\t\tframeNumber: r.getUint32(),\n\t\t\t\t\tmorphValue: r.getFloat32()\n\t\t\t\t};\n\t\t\tif (typeof this.morphs[frameName] === \"undefined\") {\n\t\t\t\tthis.morphs[frameName] = [];\n\t\t\t}\n\t\t\tthis.morphs[frameName].push(data);\n\t\t}\n\t\tfor(var morph in this.morphs)\n\t\t{\n\t\t\tthis.morphs[morph].sort((i1,i2)=>i1.frameNumber - i2.frameNumber);\n\t\t}\n\t}\n\n\tprivate loadBytes(byteLength: number) {\n\t\tvar isPadding = false;\n\t\tvar arr = [];\n\t\tfor (var i = 0; i < byteLength; i++) {\n\t\t\tvar current = this.reader.getUint8();\n\t\t\tif (current == 0x00) {\n\t\t\t\tisPadding = true;\n\t\t\t}\n\t\t\tif (!isPadding) arr.push(current);\n\t\t}\n\t\treturn new Uint8Array(arr);\n\t}\n\n\tprivate loadString(length: number) {\n\t\tvar decoder = new TextDecoder(\"shift-jis\");\n\t\treturn decoder.decode(this.loadBytes(length));\n\t}\n\n\tprivate loadInterpolation() {\n\t\tvar interpolation = new Array(4);\n\t\tfor(var i = 0; i < 4; i++)\n\t\t{\n\t\t\tinterpolation[i] = new Array(4);\n\t\t\tfor(var j = 0; j < 4; j++)\n\t\t\t{\n\t\t\t\tinterpolation[i][j]=new Array(4);\n\t\t\t}\n\t\t}\n\t\tfor(var i = 0; i < 4; i++)\n\t\t\tfor(var j = 0; j < 4; j++)\n\t\t\t\tfor(var k = 0; k < 4; k++)\n\t\t\t\t\tinterpolation[i][j][k] = this.reader.getUint8();\n\t\tvar result = new Array(4);\n\t\tfor(var i = 0; i < 4; i++)\n\t\t{\n      result[i] = new BezierCurve(interpolation[0][0][i] / 128.0,interpolation[0][1][i] / 128.0,interpolation[0][2][i] / 128.0,interpolation[0][3][i] / 128);\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate binaryframeSearch(source: VMDFrameData[], frame: number) {\n\t\tvar minIndex = 0;\n\t\tvar maxIndex = source.length - 1;\n\t\tvar currentIndex=-1;\n\t\tvar currentElement: VMDFrameData;\n\t\tif (source.length == 1) return 0;\n\t\twhile (minIndex <= maxIndex) {\n\t\t\tcurrentIndex = (minIndex + maxIndex) / 2 | 0;\n\t\t\tcurrentElement = source[currentIndex];\n\n\t\t\tif (currentElement.frameNumber < frame) {\n\t\t\t\tif (currentIndex + 1 < source.length && source[currentIndex + 1].frameNumber > frame) {\n\t\t\t\t\treturn currentIndex;\n\t\t\t\t}\n\t\t\t\tminIndex = currentIndex + 1;\n\t\t\t}\n\t\t\telse if (currentElement.frameNumber > frame) {\n\t\t\t\tmaxIndex = currentIndex - 1;\n\t\t\t\tif (currentIndex-1 >=0&& source[currentIndex - 1].frameNumber <frame) {\n\t\t\t\t\treturn currentIndex-1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn currentIndex;\n\t\t\t}\n        }\n\t\treturn currentIndex;\n\t}\n\n\tpublic getBoneFrame(frame:number,boneName:string):VMDBoneStatus\n\t{\n\t\tvar frames = this.motions[boneName];\n\t\tif(typeof frames === \"undefined\")\n\t\t{\n\t\t\treturn null;\n\t\t}else\n\t\t{\n\t\t\tvar index=this.binaryframeSearch(frames, frame);\n\t\t\tif(index+1<frames.length)\n\t\t\t{\n\t\t\t\tvar nextFrame = frames[index + 1];\n\t\t\t    var currentFrame = frames[index];\n\t\t\t\tvar progress = (frame-currentFrame.frameNumber)/(nextFrame.frameNumber-currentFrame.frameNumber);\n\t\t\t\treturn {\n\t\t\t\t\tframeNumber:frame,\n\t\t\t\t\tposition:this.complementBoneTranslation(currentFrame.position,nextFrame.position,progress,currentFrame.interpolation),\n\t\t\t\t\trotation:<number[]>glm.quat.slerp([0,0,0,0],currentFrame.rotation,nextFrame.rotation,currentFrame.interpolation[3].evaluate(progress))\n\t\t\t\t}\n\t\t\t}else\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tframeNumber:frame,\n\t\t\t\t\tposition:frames[index].position,\n\t\t\t\t\trotation:frames[index].rotation\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate complementBoneTranslation(begin:number[],end:number[],progress:number,bezierCurves:BezierCurve[])\n\t{\n\t\tvar result = [0,0,0];//TODO optimize this\n\t\tfor(var i = 0; i < 3; i++)\n\t\t\tresult[i] = begin[i] + (end[i] - begin[i]) * bezierCurves[i].evaluate(progress);\n\t\treturn result;\n\t}\n\n\tpublic getMorphFrame(frame:number,morphName:string):VMDMorphStatus\n\t{\n\t\tvar frames = this.morphs[morphName];\n\t\tif(typeof frames === \"undefined\")\n\t\t{\n\t\t\treturn null;\n\t\t}else\n\t\t{\n\t\t\tvar index=this.binaryframeSearch(frames, frame);\n\t\t\tif(index+1<frames.length)\n\t\t\t{\n\t\t\t\tvar nextFrame = frames[index + 1];\n        var currentFrame = frames[index];\n\t\t\t\tvar progress = (frame-currentFrame.frameNumber)/(nextFrame.frameNumber-currentFrame.frameNumber);\n\t\t\t\treturn {\n\t\t\t\t\tframeNumber:frame,\n\t\t\t\t\tvalue:currentFrame.morphValue+(nextFrame.morphValue\t-currentFrame.morphValue)*progress,\n\t\t\t\t}\n\t\t\t}else\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tframeNumber:frame,\n\t\t\t\t\tvalue:frames[index].morphValue,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport = VMDData;\n","enum BlendFuncParamType\n{\n\tZero=0,\n\tOne=1,\n\tSrcColor=768,\n\tOneMinusSrcColor=769,\n\tOneMinusDstColor=775,\n\tSrcAlpha=770,\n\tOneMinusSrcAlpha=771,\n\tDstAlpha=772,\n\tOneMinusDstAlpha=773,\n\tConstantColor=32769,\n\tOneMinusConstantColor=32770,\n\tConstantAlpha=32771,\n\tOneMinusConstantAlpha=32772,\n\tSrcAlphaSaturate=776\n}\n\nexport=BlendFuncParamType;","/**\n* Enum type for representing BufferTargetType\n* gl.ARRAY_BUFFER,gl.ELEMENT_ARRAY_BUFFER\n*/\nenum BufferTargetType\n{\n    ArrayBuffer = 34962,//ARRAY_BUFFER\n    ElementArrayBuffer = 34963//ELEMENT_ARRAY_BUFFER\n}\nexport=BufferTargetType;\n","/**\n* Enum type for representing BufferUsageType\n* gl.STATIC_DRAW,\n* gl.STREAM_DRAW,\n* gl.DYNAMIC_DRAW\n*/\nenum BufferUsageType {\n    StaticDraw = 35044,//STATIC_DRAW,\n    StreamDraw = 35040,//STREAM_DRAW,\n    DynamicDraw=35048//WebGLRenderingContext.DYNAMIC_DRAW\n}\n\nexport=BufferUsageType;\n","/**\n* Enum type for representing ClearTargetType\n* gl.COLOR_BUFFER_BIT,\n* gl.DEPTH_BUFFER_BIT,\n* gl.STENCIL_BUFFER_BIT\n*/\nenum ClearTargetType {\n    ColorBits = 16384,//COLOR_BUFFER_BIT,\n    DepthBits = 256,//DEPTH_BUFFER_BIT,\n    StencilBits=1024//STENCIL_BUFFER_BIT\n}\n\nexport=ClearTargetType;\n","enum ElementType {\n    Float = 5126,//FLOAT,\n    UnsignedByte = 5121,//WebGLRenderingContext.UNSIGNED_BYTE,\n    Short = 5122,//WebGLRenderingContext.SHORT,\n    UnsignedShort =5123,// WebGLRenderingContext.UNSIGNED_SHORT,\n    UnsignedInt = 5125,//WebGLRenderingContext.UNSIGNED_INT,\n    Int=5124//WebGLRenderingContext.INT\n}\n\nexport=ElementType;\n","enum FrameBufferAttachmentType\n{\n  ColorAttachment0=36064,\n  /*You can use these feature if the browser supports EXT_draw_buffers*/\n  /*BEGIN*/\n  ColorAttachment1=36065,\n  ColorAttachment2=36066,\n  ColorAttachment3=36067,\n  ColorAttachment4=36068,\n  ColorAttachment5=36069,\n  ColorAttachment6=36070,\n  ColorAttachment7=36071,\n  ColorAttachment8=36072,\n  ColorAttachment9=36073,\n  ColorAttachment10=36074,\n  ColorAttachment11=36075,\n  ColorAttachment12=36076,\n  ColorAttachment13=36077,\n  ColorAttachment14=36078,\n  ColorAttachment15=36079,\n  /*END*/\n\n  DepthAttachment=36096,\n  StencilAttachment=36128,\n  DepthStencilAttachment=33306\n}\nexport=FrameBufferAttachmentType;\n","enum GLFeatureType\n{\n  DepthTest=2929,\n  CullFace=2884,\n  Blend=3042\n}\nexport=GLFeatureType;\n","enum GetParameterType\n{\n\tMaxCombinedTextureImageUnits =  35661,\n\tMaxCubeMapTextureSize =  34076,\n\tMaxFragmentUniformVectors =  36349,\n\tMaxRenderbufferSize =  34024,\n\tMaxTextureImageUnits =  34930,\n\tMaxTextureSize =  3379,\n\tMaxVaryingVectors =  36348,\n\tMaxVertexAttribs =  34921,\n\tMaxVertexTextureImageUnits =  35660,\n\tMaxVertexUniformVectors =  36347,\n\tMaxViewportDims =  3386\n}\n\nexport = GetParameterType;\n","enum PrimitiveTopology {\n    Triangles=4,//TRIANGLES\n    TriangleStrip=5,\n    TriangleFan=6,\n    Lines=1,\n    LineStrip=3,\n    LineLoop=2,\n    Points=0\n}\n\nexport=PrimitiveTopology;\n","enum RBOInternalFormat\n{\n\tRGBA4=32854,\n\tRGB565=36194,\n\tRGB5A1=32855,\n\tDepthComponent16=33189\n}\n\nexport = RBOInternalFormat;","enum ShaderType {\n    VertexShader = 35633,//VERTEX_SHADER,\n    FragmentShader=35632//FRAGMENT_SHADER\n}\n\nexport=ShaderType;\n","enum TargetTextureType\n{\n  Texture2D=3553,\n  CubeTexture=34067\n}\n\nexport=TargetTextureType;\n","enum PixelStoreParamType\n{\n\tPackAlignment=3333,\n\tUnpackAlignment=3317,\n\tUnpackFlipYWebGL=37440,\n\tUnpackPremultiplyAlphaWebGL=37441,\n\tUnpackColorSpaceConversionWebGL=37443\n}\n\nexport = PixelStoreParamType;","enum TargetTextureType\n{\n    Texture2D = 3553,\n    CubePositiveX = 34069,\n    CubeNegativeX = 34070,\n    CubePositiveY = 34071,\n    CubeNegativeY = 34072,\n    CubePositiveZ = 34073,\n    CubeNegativeZ = 34074,\n}\n\nexport =TargetTextureType; ","enum TextureMagFilterType\n{\n  Nearest=9728,\n  Linear=9729\n}\n\nexport = TextureMagFilterType;\n","enum TextureMinFilterType\n{\n  Nearest=9728,\n  Linear=9729,\n  NearestMipmapNearest=9984,\n  LinearMipmapNearest=9985,\n  NearestMipmapLinear=9986,\n  LinearMipmapLinear=9987\n}\n\nexport = TextureMinFilterType;\n","enum TextureParameterType\n{\n  MinFilter=10241,\n  MagFilter=10240,\n  WrapS=10242,\n  WrapT=10243\n}\n\nexport = TextureParameterType;\n","enum TextureRegister\n{\n  Texture0=33984,\n  Texture1=33985,\n  Texture2=33986,\n  Texture3=33987,\n  Texture4=33988,\n  Texture5=33989,\n  Texture6=33990,\n  Texture7=33991,\n  Texture8=33992,\n  Texture9=33993,\n  Texture10=33994,\n  Texture11=33995,\n  Texture12=33996,\n  Texture13=33997,//TODO Add texture enum element ....troublesome\n}\n\nexport = TextureRegister;\n","enum TextureWrapType\n{\n  ClampToEdge=33071,\n  MirroredRepeat=33648,\n  Repeat=10497\n}\n\nexport = TextureWrapType;\n","enum TextureInternalFormatType\n{\n  Alpha=6406,\n  Luminance=6409,\n  LuminanceAlpha=6410,\n  RGB=6407,\n  RGBA=6408,\n  //when WEBGL_depth_texture was enabled(https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n  DEPTH_COMPONENT=6402,\n  DEPTH_STENCIL=34041\n}\nexport = TextureInternalFormatType;\n","enum TextureType\n{\n  UnsignedByte=5121,\n  Float=5126,\n  UnsignedShort565=33635,\n  UnsignedShort4444=32819,\n  UnsignedShort5551=32820,\n  //when WEBGL_depth_texture was enabled(https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n  UnsignedShort=5123,\n  UnsignedInt=5125,\n  UnsignedInt24_8WebGL=0x84FA\n}\n\nexport = TextureType;\n","module.exports={\n\t\"aliceblue\": \"#F0F8FF\",\n\t\"antiquewhite\": \"#FAEBD7\",\n\t\"aqua\": \"#00FFFF\",\n\t\"aquamarine\": \"#7FFFD4\",\n\t\"azure\": \"#F0FFFF\",\n\t\"beige\": \"#F5F5DC\",\n\t\"bisque\": \"#FFE4C4\",\n\t\"black\": \"#000000\",\n\t\"blanchedalmond\": \"#FFEBCD\",\n\t\"blue\": \"#0000FF\",\n\t\"blueviolet\": \"#8A2BE2\",\n\t\"brown\": \"#A52A2A\",\n\t\"burlywood\": \"#DEB887\",\n\t\"cadetblue\": \"#5F9EA0\",\n\t\"chartreuse\": \"#7FFF00\",\n\t\"chocolate\": \"#D2691E\",\n\t\"coral\": \"#FF7F50\",\n\t\"cornflowerblue\": \"#6495ED\",\n\t\"cornsilk\": \"#FFF8DC\",\n\t\"crimson\": \"#DC143C\",\n\t\"cyan\": \"#00FFFF\",\n\t\"darkblue\": \"#00008B\",\n\t\"darkcyan\": \"#008B8B\",\n\t\"darkgoldenrod\": \"#B8860B\",\n\t\"darkgray\": \"#A9A9A9\",\n\t\"darkgreen\": \"#006400\",\n\t\"darkgrey\": \"#A9A9A9\",\n\t\"darkkhaki\": \"#BDB76B\",\n\t\"darkmagenta\": \"#8B008B\",\n\t\"darkolivegreen\": \"#556B2F\",\n\t\"darkorange\": \"#FF8C00\",\n\t\"darkorchid\": \"#9932CC\",\n\t\"darkred\": \"#8B0000\",\n\t\"darksalmon\": \"#E9967A\",\n\t\"darkseagreen\": \"#8FBC8F\",\n\t\"darkslateblue\": \"#483D8B\",\n\t\"darkslategray\": \"#2F4F4F\",\n\t\"darkslategrey\": \"#2F4F4F\",\n\t\"darkturquoise\": \"#00CED1\",\n\t\"darkviolet\": \"#9400D3\",\n\t\"deeppink\": \"#FF1493\",\n\t\"deepskyblue\": \"#00BFFF\",\n\t\"dimgray\": \"#696969\",\n\t\"dimgrey\": \"#696969\",\n\t\"dodgerblue\": \"#1E90FF\",\n\t\"firebrick\": \"#B22222\",\n\t\"floralwhite\": \"#FFFAF0\",\n\t\"forestgreen\": \"#228B22\",\n\t\"fuchsia\": \"#FF00FF\",\n\t\"gainsboro\": \"#DCDCDC\",\n\t\"ghostwhite\": \"#F8F8FF\",\n\t\"gold\": \"#FFD700\",\n\t\"goldenrod\": \"#DAA520\",\n\t\"gray\": \"#808080\",\n\t\"green\": \"#008000\",\n\t\"greenyellow\": \"#ADFF2F\",\n\t\"grey\": \"#808080\",\n\t\"honeydew\": \"#F0FFF0\",\n\t\"hotpink\": \"#FF69B4\",\n\t\"indianred\": \"#CD5C5C\",\n\t\"indigo\": \"#4B0082\",\n\t\"ivory\": \"#FFFFF0\",\n\t\"khaki\": \"#F0E68C\",\n\t\"lavender\": \"#E6E6FA\",\n\t\"lavenderblush\": \"#FFF0F5\",\n\t\"lawngreen\": \"#7CFC00\",\n\t\"lemonchiffon\": \"#FFFACD\",\n\t\"lightblue\": \"#ADD8E6\",\n\t\"lightcoral\": \"#F08080\",\n\t\"lightcyan\": \"#E0FFFF\",\n\t\"lightgoldenrodyellow\": \"#FAFAD2\",\n\t\"lightgray\": \"#D3D3D3\",\n\t\"lightgreen\": \"#90EE90\",\n\t\"lightgrey\": \"#D3D3D3\",\n\t\"lightpink\": \"#FFB6C1\",\n\t\"lightsalmon\": \"#FFA07A\",\n\t\"lightseagreen\": \"#20B2AA\",\n\t\"lightskyblue\": \"#87CEFA\",\n\t\"lightslategray\": \"#778899\",\n\t\"lightslategrey\": \"#778899\",\n\t\"lightsteelblue\": \"#B0C4DE\",\n\t\"lightyellow\": \"#FFFFE0\",\n\t\"lime\": \"#00FF00\",\n\t\"limegreen\": \"#32CD32\",\n\t\"linen\": \"#FAF0E6\",\n\t\"magenta\": \"#FF00FF\",\n\t\"maroon\": \"#800000\",\n\t\"mediumaquamarine\": \"#66CDAA\",\n\t\"mediumblue\": \"#0000CD\",\n\t\"mediumorchid\": \"#BA55D3\",\n\t\"mediumpurple\": \"#9370DB\",\n\t\"mediumseagreen\": \"#3CB371\",\n\t\"mediumslateblue\": \"#7B68EE\",\n\t\"mediumspringgreen\": \"#00FA9A\",\n\t\"mediumturquoise\": \"#48D1CC\",\n\t\"mediumvioletred\": \"#C71585\",\n\t\"midnightblue\": \"#191970\",\n\t\"mintcream\": \"#F5FFFA\",\n\t\"mistyrose\": \"#FFE4E1\",\n\t\"moccasin\": \"#FFE4B5\",\n\t\"navajowhite\": \"#FFDEAD\",\n\t\"navy\": \"#000080\",\n\t\"oldlace\": \"#FDF5E6\",\n\t\"olive\": \"#808000\",\n\t\"olivedrab\": \"#6B8E23\",\n\t\"orange\": \"#FFA500\",\n\t\"orangered\": \"#FF4500\",\n\t\"orchid\": \"#DA70D6\",\n\t\"palegoldenrod\": \"#EEE8AA\",\n\t\"palegreen\": \"#98FB98\",\n\t\"paleturquoise\": \"#AFEEEE\",\n\t\"palevioletred\": \"#DB7093\",\n\t\"papayawhip\": \"#FFEFD5\",\n\t\"peachpuff\": \"#FFDAB9\",\n\t\"peru\": \"#CD853F\",\n\t\"pink\": \"#FFC0CB\",\n\t\"plum\": \"#DDA0DD\",\n\t\"powderblue\": \"#B0E0E6\",\n\t\"purple\": \"#800080\",\n\t\"red\": \"#FF0000\",\n\t\"rosybrown\": \"#BC8F8F\",\n\t\"royalblue\": \"#4169E1\",\n\t\"saddlebrown\": \"#8B4513\",\n\t\"salmon\": \"#FA8072\",\n\t\"sandybrown\": \"#F4A460\",\n\t\"seagreen\": \"#2E8B57\",\n\t\"seashell\": \"#FFF5EE\",\n\t\"sienna\": \"#A0522D\",\n\t\"silver\": \"#C0C0C0\",\n\t\"skyblue\": \"#87CEEB\",\n\t\"slateblue\": \"#6A5ACD\",\n\t\"slategray\": \"#708090\",\n\t\"slategrey\": \"#708090\",\n\t\"snow\": \"#FFFAFA\",\n\t\"springgreen\": \"#00FF7F\",\n\t\"steelblue\": \"#4682B4\",\n\t\"tan\": \"#D2B48C\",\n\t\"teal\": \"#008080\",\n\t\"thistle\": \"#D8BFD8\",\n\t\"tomato\": \"#FF6347\",\n\t\"turquoise\": \"#40E0D0\",\n\t\"violet\": \"#EE82EE\",\n\t\"wheat\": \"#F5DEB3\",\n\t\"white\": \"#FFFFFF\",\n\t\"whitesmoke\": \"#F5F5F5\",\n\t\"yellow\": \"#FFFF00\",\n\t\"yellowgreen\": \"#9ACD32\"\n}\n","module.exports = \"<div style=\\\"background:black;height:100%;\\\">\\n  <div style=\\\"position:relative;top: 50%;-webkit-transform: translateY(-50%);-ms-transform: translateY(-50%);transform: translateY(-50%);\\\">\\n      <svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 128 128\\\" style=\\\"width:128px;height:128px;display:block;position:relative;left: 50%;-webkit-transform: translateX(-50%);-ms-transform: translateX(-50%);transform: translateX(-50%);\\\" xml:space=\\\"preserve\\\">\\n        <g>\\n          <path style=\\\"fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;\\\" d=\\\"M64,55.967L1.5,20.701l14.223,62.696l11.873,10.601L16.819,29.244l4.079,24.204l21.555,15.126l3.713,42.002L64,126.5V55.967z\\\"/>\\n          <path style=\\\"fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;\\\" d=\\\"M126.5,20.701L64,1.5L1.5,20.701l15.021,8.476L64,11.686l23.507,8.655L39.754,42.286L64,55.967L126.5,20.701z\\\"/>\\n          <path style=\\\"fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;\\\" d=\\\"M64,109.793l38.989-32.105l3.905-23.793L64,83.405V55.967l62.5-35.266l-13.822,62.696L64,126.5V109.793z\\\"/>\\n        </g>\\n      </svg>\\n    <div style=\\\"height:5px;background:white;width:30%;margin-left:auto;margin-right:auto;margin-top:30px;border:white solid 2px;\\\">\\n      <div class=\\\"x-j3-loader-progress\\\" style=\\\"background:lime;height:5px;width:0%;\\\"/>\\n    </div>\\n  </div>\\n</div>\\n\"","/**\n * @fileoverview gl-matrix - High performance matrix and vector operations\n * @author Brandon Jones\n * @author Colin MacKenzie IV\n * @version 2.3.0\n */\n\n/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n// END HEADER\n\nexports.glMatrix = require(\"./gl-matrix/common.js\");\nexports.mat2 = require(\"./gl-matrix/mat2.js\");\nexports.mat2d = require(\"./gl-matrix/mat2d.js\");\nexports.mat3 = require(\"./gl-matrix/mat3.js\");\nexports.mat4 = require(\"./gl-matrix/mat4.js\");\nexports.quat = require(\"./gl-matrix/quat.js\");\nexports.vec2 = require(\"./gl-matrix/vec2.js\");\nexports.vec3 = require(\"./gl-matrix/vec3.js\");\nexports.vec4 = require(\"./gl-matrix/vec4.js\");","/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n\n/**\n * @class Common utilities\n * @name glMatrix\n */\nvar glMatrix = {};\n\n// Constants\nglMatrix.EPSILON = 0.000001;\nglMatrix.ARRAY_TYPE = (typeof Float32Array !== 'undefined') ? Float32Array : Array;\nglMatrix.RANDOM = Math.random;\n\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Type} type Array type, such as Float32Array or Array\n */\nglMatrix.setMatrixArrayType = function(type) {\n    GLMAT_ARRAY_TYPE = type;\n}\n\nvar degree = Math.PI / 180;\n\n/**\n* Convert Degree To Radian\n*\n* @param {Number} Angle in Degrees\n*/\nglMatrix.toRadian = function(a){\n     return a * degree;\n}\n\nmodule.exports = glMatrix;\n","/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n\nvar glMatrix = require(\"./common.js\");\n\n/**\n * @class 2x2 Matrix\n * @name mat2\n */\nvar mat2 = {};\n\n/**\n * Creates a new identity mat2\n *\n * @returns {mat2} a new 2x2 matrix\n */\nmat2.create = function() {\n    var out = new glMatrix.ARRAY_TYPE(4);\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    return out;\n};\n\n/**\n * Creates a new mat2 initialized with values from an existing matrix\n *\n * @param {mat2} a matrix to clone\n * @returns {mat2} a new 2x2 matrix\n */\nmat2.clone = function(a) {\n    var out = new glMatrix.ARRAY_TYPE(4);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Copy the values from one mat2 to another\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the source matrix\n * @returns {mat2} out\n */\nmat2.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Set a mat2 to the identity matrix\n *\n * @param {mat2} out the receiving matrix\n * @returns {mat2} out\n */\nmat2.identity = function(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    return out;\n};\n\n/**\n * Transpose the values of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the source matrix\n * @returns {mat2} out\n */\nmat2.transpose = function(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        var a1 = a[1];\n        out[1] = a[2];\n        out[2] = a1;\n    } else {\n        out[0] = a[0];\n        out[1] = a[2];\n        out[2] = a[1];\n        out[3] = a[3];\n    }\n    \n    return out;\n};\n\n/**\n * Inverts a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the source matrix\n * @returns {mat2} out\n */\nmat2.invert = function(out, a) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3],\n\n        // Calculate the determinant\n        det = a0 * a3 - a2 * a1;\n\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n    \n    out[0] =  a3 * det;\n    out[1] = -a1 * det;\n    out[2] = -a2 * det;\n    out[3] =  a0 * det;\n\n    return out;\n};\n\n/**\n * Calculates the adjugate of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the source matrix\n * @returns {mat2} out\n */\nmat2.adjoint = function(out, a) {\n    // Caching this value is nessecary if out == a\n    var a0 = a[0];\n    out[0] =  a[3];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    out[3] =  a0;\n\n    return out;\n};\n\n/**\n * Calculates the determinant of a mat2\n *\n * @param {mat2} a the source matrix\n * @returns {Number} determinant of a\n */\nmat2.determinant = function (a) {\n    return a[0] * a[3] - a[2] * a[1];\n};\n\n/**\n * Multiplies two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the first operand\n * @param {mat2} b the second operand\n * @returns {mat2} out\n */\nmat2.multiply = function (out, a, b) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];\n    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\n    out[0] = a0 * b0 + a2 * b1;\n    out[1] = a1 * b0 + a3 * b1;\n    out[2] = a0 * b2 + a2 * b3;\n    out[3] = a1 * b2 + a3 * b3;\n    return out;\n};\n\n/**\n * Alias for {@link mat2.multiply}\n * @function\n */\nmat2.mul = mat2.multiply;\n\n/**\n * Rotates a mat2 by the given angle\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\nmat2.rotate = function (out, a, rad) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3],\n        s = Math.sin(rad),\n        c = Math.cos(rad);\n    out[0] = a0 *  c + a2 * s;\n    out[1] = a1 *  c + a3 * s;\n    out[2] = a0 * -s + a2 * c;\n    out[3] = a1 * -s + a3 * c;\n    return out;\n};\n\n/**\n * Scales the mat2 by the dimensions in the given vec2\n *\n * @param {mat2} out the receiving matrix\n * @param {mat2} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat2} out\n **/\nmat2.scale = function(out, a, v) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3],\n        v0 = v[0], v1 = v[1];\n    out[0] = a0 * v0;\n    out[1] = a1 * v0;\n    out[2] = a2 * v1;\n    out[3] = a3 * v1;\n    return out;\n};\n\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat2.identity(dest);\n *     mat2.rotate(dest, dest, rad);\n *\n * @param {mat2} out mat2 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\nmat2.fromRotation = function(out, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad);\n    out[0] = c;\n    out[1] = s;\n    out[2] = -s;\n    out[3] = c;\n    return out;\n}\n\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat2.identity(dest);\n *     mat2.scale(dest, dest, vec);\n *\n * @param {mat2} out mat2 receiving operation result\n * @param {vec2} v Scaling vector\n * @returns {mat2} out\n */\nmat2.fromScaling = function(out, v) {\n    out[0] = v[0];\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = v[1];\n    return out;\n}\n\n/**\n * Returns a string representation of a mat2\n *\n * @param {mat2} mat matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nmat2.str = function (a) {\n    return 'mat2(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n};\n\n/**\n * Returns Frobenius norm of a mat2\n *\n * @param {mat2} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nmat2.frob = function (a) {\n    return(Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2)))\n};\n\n/**\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\n * @param {mat2} L the lower triangular matrix \n * @param {mat2} D the diagonal matrix \n * @param {mat2} U the upper triangular matrix \n * @param {mat2} a the input matrix to factorize\n */\n\nmat2.LDU = function (L, D, U, a) { \n    L[2] = a[2]/a[0]; \n    U[0] = a[0]; \n    U[1] = a[1]; \n    U[3] = a[3] - L[2] * U[1]; \n    return [L, D, U];       \n}; \n\n\nmodule.exports = mat2;\n","/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n\nvar glMatrix = require(\"./common.js\");\n\n/**\n * @class 2x3 Matrix\n * @name mat2d\n * \n * @description \n * A mat2d contains six elements defined as:\n * <pre>\n * [a, c, tx,\n *  b, d, ty]\n * </pre>\n * This is a short form for the 3x3 matrix:\n * <pre>\n * [a, c, tx,\n *  b, d, ty,\n *  0, 0, 1]\n * </pre>\n * The last row is ignored so the array is shorter and operations are faster.\n */\nvar mat2d = {};\n\n/**\n * Creates a new identity mat2d\n *\n * @returns {mat2d} a new 2x3 matrix\n */\nmat2d.create = function() {\n    var out = new glMatrix.ARRAY_TYPE(6);\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    out[4] = 0;\n    out[5] = 0;\n    return out;\n};\n\n/**\n * Creates a new mat2d initialized with values from an existing matrix\n *\n * @param {mat2d} a matrix to clone\n * @returns {mat2d} a new 2x3 matrix\n */\nmat2d.clone = function(a) {\n    var out = new glMatrix.ARRAY_TYPE(6);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    return out;\n};\n\n/**\n * Copy the values from one mat2d to another\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the source matrix\n * @returns {mat2d} out\n */\nmat2d.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    return out;\n};\n\n/**\n * Set a mat2d to the identity matrix\n *\n * @param {mat2d} out the receiving matrix\n * @returns {mat2d} out\n */\nmat2d.identity = function(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    out[4] = 0;\n    out[5] = 0;\n    return out;\n};\n\n/**\n * Inverts a mat2d\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the source matrix\n * @returns {mat2d} out\n */\nmat2d.invert = function(out, a) {\n    var aa = a[0], ab = a[1], ac = a[2], ad = a[3],\n        atx = a[4], aty = a[5];\n\n    var det = aa * ad - ab * ac;\n    if(!det){\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = ad * det;\n    out[1] = -ab * det;\n    out[2] = -ac * det;\n    out[3] = aa * det;\n    out[4] = (ac * aty - ad * atx) * det;\n    out[5] = (ab * atx - aa * aty) * det;\n    return out;\n};\n\n/**\n * Calculates the determinant of a mat2d\n *\n * @param {mat2d} a the source matrix\n * @returns {Number} determinant of a\n */\nmat2d.determinant = function (a) {\n    return a[0] * a[3] - a[1] * a[2];\n};\n\n/**\n * Multiplies two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the first operand\n * @param {mat2d} b the second operand\n * @returns {mat2d} out\n */\nmat2d.multiply = function (out, a, b) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5],\n        b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3], b4 = b[4], b5 = b[5];\n    out[0] = a0 * b0 + a2 * b1;\n    out[1] = a1 * b0 + a3 * b1;\n    out[2] = a0 * b2 + a2 * b3;\n    out[3] = a1 * b2 + a3 * b3;\n    out[4] = a0 * b4 + a2 * b5 + a4;\n    out[5] = a1 * b4 + a3 * b5 + a5;\n    return out;\n};\n\n/**\n * Alias for {@link mat2d.multiply}\n * @function\n */\nmat2d.mul = mat2d.multiply;\n\n/**\n * Rotates a mat2d by the given angle\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\nmat2d.rotate = function (out, a, rad) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5],\n        s = Math.sin(rad),\n        c = Math.cos(rad);\n    out[0] = a0 *  c + a2 * s;\n    out[1] = a1 *  c + a3 * s;\n    out[2] = a0 * -s + a2 * c;\n    out[3] = a1 * -s + a3 * c;\n    out[4] = a4;\n    out[5] = a5;\n    return out;\n};\n\n/**\n * Scales the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the matrix to translate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat2d} out\n **/\nmat2d.scale = function(out, a, v) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5],\n        v0 = v[0], v1 = v[1];\n    out[0] = a0 * v0;\n    out[1] = a1 * v0;\n    out[2] = a2 * v1;\n    out[3] = a3 * v1;\n    out[4] = a4;\n    out[5] = a5;\n    return out;\n};\n\n/**\n * Translates the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {mat2d} a the matrix to translate\n * @param {vec2} v the vec2 to translate the matrix by\n * @returns {mat2d} out\n **/\nmat2d.translate = function(out, a, v) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5],\n        v0 = v[0], v1 = v[1];\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = a0 * v0 + a2 * v1 + a4;\n    out[5] = a1 * v0 + a3 * v1 + a5;\n    return out;\n};\n\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.rotate(dest, dest, rad);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\nmat2d.fromRotation = function(out, rad) {\n    var s = Math.sin(rad), c = Math.cos(rad);\n    out[0] = c;\n    out[1] = s;\n    out[2] = -s;\n    out[3] = c;\n    out[4] = 0;\n    out[5] = 0;\n    return out;\n}\n\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.scale(dest, dest, vec);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {vec2} v Scaling vector\n * @returns {mat2d} out\n */\nmat2d.fromScaling = function(out, v) {\n    out[0] = v[0];\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = v[1];\n    out[4] = 0;\n    out[5] = 0;\n    return out;\n}\n\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.translate(dest, dest, vec);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {vec2} v Translation vector\n * @returns {mat2d} out\n */\nmat2d.fromTranslation = function(out, v) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    out[4] = v[0];\n    out[5] = v[1];\n    return out;\n}\n\n/**\n * Returns a string representation of a mat2d\n *\n * @param {mat2d} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nmat2d.str = function (a) {\n    return 'mat2d(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + \n                    a[3] + ', ' + a[4] + ', ' + a[5] + ')';\n};\n\n/**\n * Returns Frobenius norm of a mat2d\n *\n * @param {mat2d} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nmat2d.frob = function (a) { \n    return(Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + 1))\n}; \n\nmodule.exports = mat2d;\n","/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n\nvar glMatrix = require(\"./common.js\");\n\n/**\n * @class 3x3 Matrix\n * @name mat3\n */\nvar mat3 = {};\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\nmat3.create = function() {\n    var out = new glMatrix.ARRAY_TYPE(9);\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 1;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 1;\n    return out;\n};\n\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {mat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\nmat3.fromMat4 = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[4];\n    out[4] = a[5];\n    out[5] = a[6];\n    out[6] = a[8];\n    out[7] = a[9];\n    out[8] = a[10];\n    return out;\n};\n\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {mat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\nmat3.clone = function(a) {\n    var out = new glMatrix.ARRAY_TYPE(9);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    return out;\n};\n\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nmat3.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    return out;\n};\n\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\nmat3.identity = function(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 1;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 1;\n    return out;\n};\n\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nmat3.transpose = function(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        var a01 = a[1], a02 = a[2], a12 = a[5];\n        out[1] = a[3];\n        out[2] = a[6];\n        out[3] = a01;\n        out[5] = a[7];\n        out[6] = a02;\n        out[7] = a12;\n    } else {\n        out[0] = a[0];\n        out[1] = a[3];\n        out[2] = a[6];\n        out[3] = a[1];\n        out[4] = a[4];\n        out[5] = a[7];\n        out[6] = a[2];\n        out[7] = a[5];\n        out[8] = a[8];\n    }\n    \n    return out;\n};\n\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nmat3.invert = function(out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8],\n\n        b01 = a22 * a11 - a12 * a21,\n        b11 = -a22 * a10 + a12 * a20,\n        b21 = a21 * a10 - a11 * a20,\n\n        // Calculate the determinant\n        det = a00 * b01 + a01 * b11 + a02 * b21;\n\n    if (!det) { \n        return null; \n    }\n    det = 1.0 / det;\n\n    out[0] = b01 * det;\n    out[1] = (-a22 * a01 + a02 * a21) * det;\n    out[2] = (a12 * a01 - a02 * a11) * det;\n    out[3] = b11 * det;\n    out[4] = (a22 * a00 - a02 * a20) * det;\n    out[5] = (-a12 * a00 + a02 * a10) * det;\n    out[6] = b21 * det;\n    out[7] = (-a21 * a00 + a01 * a20) * det;\n    out[8] = (a11 * a00 - a01 * a10) * det;\n    return out;\n};\n\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nmat3.adjoint = function(out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8];\n\n    out[0] = (a11 * a22 - a12 * a21);\n    out[1] = (a02 * a21 - a01 * a22);\n    out[2] = (a01 * a12 - a02 * a11);\n    out[3] = (a12 * a20 - a10 * a22);\n    out[4] = (a00 * a22 - a02 * a20);\n    out[5] = (a02 * a10 - a00 * a12);\n    out[6] = (a10 * a21 - a11 * a20);\n    out[7] = (a01 * a20 - a00 * a21);\n    out[8] = (a00 * a11 - a01 * a10);\n    return out;\n};\n\n/**\n * Calculates the determinant of a mat3\n *\n * @param {mat3} a the source matrix\n * @returns {Number} determinant of a\n */\nmat3.determinant = function (a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8];\n\n    return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n};\n\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nmat3.multiply = function (out, a, b) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8],\n\n        b00 = b[0], b01 = b[1], b02 = b[2],\n        b10 = b[3], b11 = b[4], b12 = b[5],\n        b20 = b[6], b21 = b[7], b22 = b[8];\n\n    out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n\n    out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n\n    out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return out;\n};\n\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\nmat3.mul = mat3.multiply;\n\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to translate\n * @param {vec2} v vector to translate by\n * @returns {mat3} out\n */\nmat3.translate = function(out, a, v) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8],\n        x = v[0], y = v[1];\n\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n\n    out[3] = a10;\n    out[4] = a11;\n    out[5] = a12;\n\n    out[6] = x * a00 + y * a10 + a20;\n    out[7] = x * a01 + y * a11 + a21;\n    out[8] = x * a02 + y * a12 + a22;\n    return out;\n};\n\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nmat3.rotate = function (out, a, rad) {\n    var a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8],\n\n        s = Math.sin(rad),\n        c = Math.cos(rad);\n\n    out[0] = c * a00 + s * a10;\n    out[1] = c * a01 + s * a11;\n    out[2] = c * a02 + s * a12;\n\n    out[3] = c * a10 - s * a00;\n    out[4] = c * a11 - s * a01;\n    out[5] = c * a12 - s * a02;\n\n    out[6] = a20;\n    out[7] = a21;\n    out[8] = a22;\n    return out;\n};\n\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\nmat3.scale = function(out, a, v) {\n    var x = v[0], y = v[1];\n\n    out[0] = x * a[0];\n    out[1] = x * a[1];\n    out[2] = x * a[2];\n\n    out[3] = y * a[3];\n    out[4] = y * a[4];\n    out[5] = y * a[5];\n\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    return out;\n};\n\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Translation vector\n * @returns {mat3} out\n */\nmat3.fromTranslation = function(out, v) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 1;\n    out[5] = 0;\n    out[6] = v[0];\n    out[7] = v[1];\n    out[8] = 1;\n    return out;\n}\n\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nmat3.fromRotation = function(out, rad) {\n    var s = Math.sin(rad), c = Math.cos(rad);\n\n    out[0] = c;\n    out[1] = s;\n    out[2] = 0;\n\n    out[3] = -s;\n    out[4] = c;\n    out[5] = 0;\n\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 1;\n    return out;\n}\n\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Scaling vector\n * @returns {mat3} out\n */\nmat3.fromScaling = function(out, v) {\n    out[0] = v[0];\n    out[1] = 0;\n    out[2] = 0;\n\n    out[3] = 0;\n    out[4] = v[1];\n    out[5] = 0;\n\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 1;\n    return out;\n}\n\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat2d} a the matrix to copy\n * @returns {mat3} out\n **/\nmat3.fromMat2d = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = 0;\n\n    out[3] = a[2];\n    out[4] = a[3];\n    out[5] = 0;\n\n    out[6] = a[4];\n    out[7] = a[5];\n    out[8] = 1;\n    return out;\n};\n\n/**\n* Calculates a 3x3 matrix from the given quaternion\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {quat} q Quaternion to create matrix from\n*\n* @returns {mat3} out\n*/\nmat3.fromQuat = function (out, q) {\n    var x = q[0], y = q[1], z = q[2], w = q[3],\n        x2 = x + x,\n        y2 = y + y,\n        z2 = z + z,\n\n        xx = x * x2,\n        yx = y * x2,\n        yy = y * y2,\n        zx = z * x2,\n        zy = z * y2,\n        zz = z * z2,\n        wx = w * x2,\n        wy = w * y2,\n        wz = w * z2;\n\n    out[0] = 1 - yy - zz;\n    out[3] = yx - wz;\n    out[6] = zx + wy;\n\n    out[1] = yx + wz;\n    out[4] = 1 - xx - zz;\n    out[7] = zy - wx;\n\n    out[2] = zx - wy;\n    out[5] = zy + wx;\n    out[8] = 1 - xx - yy;\n\n    return out;\n};\n\n/**\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {mat4} a Mat4 to derive the normal matrix from\n*\n* @returns {mat3} out\n*/\nmat3.normalFromMat4 = function (out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\n\n        b00 = a00 * a11 - a01 * a10,\n        b01 = a00 * a12 - a02 * a10,\n        b02 = a00 * a13 - a03 * a10,\n        b03 = a01 * a12 - a02 * a11,\n        b04 = a01 * a13 - a03 * a11,\n        b05 = a02 * a13 - a03 * a12,\n        b06 = a20 * a31 - a21 * a30,\n        b07 = a20 * a32 - a22 * a30,\n        b08 = a20 * a33 - a23 * a30,\n        b09 = a21 * a32 - a22 * a31,\n        b10 = a21 * a33 - a23 * a31,\n        b11 = a22 * a33 - a23 * a32,\n\n        // Calculate the determinant\n        det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n    if (!det) { \n        return null; \n    }\n    det = 1.0 / det;\n\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n    out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n    out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n\n    out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n    out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n    out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n\n    out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n    out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n    out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n\n    return out;\n};\n\n/**\n * Returns a string representation of a mat3\n *\n * @param {mat3} mat matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nmat3.str = function (a) {\n    return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + \n                    a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + \n                    a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n};\n\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {mat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nmat3.frob = function (a) {\n    return(Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2)))\n};\n\n\nmodule.exports = mat3;\n","/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n\nvar glMatrix = require(\"./common.js\");\n\n/**\n * @class 4x4 Matrix\n * @name mat4\n */\nvar mat4 = {};\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\nmat4.create = function() {\n    var out = new glMatrix.ARRAY_TYPE(16);\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = 1;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 1;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n};\n\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {mat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\nmat4.clone = function(a) {\n    var out = new glMatrix.ARRAY_TYPE(16);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n};\n\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n};\n\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\nmat4.identity = function(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = 1;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 1;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n};\n\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.transpose = function(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        var a01 = a[1], a02 = a[2], a03 = a[3],\n            a12 = a[6], a13 = a[7],\n            a23 = a[11];\n\n        out[1] = a[4];\n        out[2] = a[8];\n        out[3] = a[12];\n        out[4] = a01;\n        out[6] = a[9];\n        out[7] = a[13];\n        out[8] = a02;\n        out[9] = a12;\n        out[11] = a[14];\n        out[12] = a03;\n        out[13] = a13;\n        out[14] = a23;\n    } else {\n        out[0] = a[0];\n        out[1] = a[4];\n        out[2] = a[8];\n        out[3] = a[12];\n        out[4] = a[1];\n        out[5] = a[5];\n        out[6] = a[9];\n        out[7] = a[13];\n        out[8] = a[2];\n        out[9] = a[6];\n        out[10] = a[10];\n        out[11] = a[14];\n        out[12] = a[3];\n        out[13] = a[7];\n        out[14] = a[11];\n        out[15] = a[15];\n    }\n    \n    return out;\n};\n\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.invert = function(out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\n\n        b00 = a00 * a11 - a01 * a10,\n        b01 = a00 * a12 - a02 * a10,\n        b02 = a00 * a13 - a03 * a10,\n        b03 = a01 * a12 - a02 * a11,\n        b04 = a01 * a13 - a03 * a11,\n        b05 = a02 * a13 - a03 * a12,\n        b06 = a20 * a31 - a21 * a30,\n        b07 = a20 * a32 - a22 * a30,\n        b08 = a20 * a33 - a23 * a30,\n        b09 = a21 * a32 - a22 * a31,\n        b10 = a21 * a33 - a23 * a31,\n        b11 = a22 * a33 - a23 * a32,\n\n        // Calculate the determinant\n        det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n    if (!det) { \n        return null; \n    }\n    det = 1.0 / det;\n\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n\n    return out;\n};\n\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.adjoint = function(out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n    out[0]  =  (a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22));\n    out[1]  = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n    out[2]  =  (a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12));\n    out[3]  = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n    out[4]  = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n    out[5]  =  (a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22));\n    out[6]  = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n    out[7]  =  (a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12));\n    out[8]  =  (a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21));\n    out[9]  = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n    out[10] =  (a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11));\n    out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n    out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n    out[13] =  (a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21));\n    out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n    out[15] =  (a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11));\n    return out;\n};\n\n/**\n * Calculates the determinant of a mat4\n *\n * @param {mat4} a the source matrix\n * @returns {Number} determinant of a\n */\nmat4.determinant = function (a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\n\n        b00 = a00 * a11 - a01 * a10,\n        b01 = a00 * a12 - a02 * a10,\n        b02 = a00 * a13 - a03 * a10,\n        b03 = a01 * a12 - a02 * a11,\n        b04 = a01 * a13 - a03 * a11,\n        b05 = a02 * a13 - a03 * a12,\n        b06 = a20 * a31 - a21 * a30,\n        b07 = a20 * a32 - a22 * a30,\n        b08 = a20 * a33 - a23 * a30,\n        b09 = a21 * a32 - a22 * a31,\n        b10 = a21 * a33 - a23 * a31,\n        b11 = a22 * a33 - a23 * a32;\n\n    // Calculate the determinant\n    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n};\n\n/**\n * Multiplies two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nmat4.multiply = function (out, a, b) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n    // Cache only the current line of the second matrix\n    var b0  = b[0], b1 = b[1], b2 = b[2], b3 = b[3];  \n    out[0] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[1] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[2] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[3] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n    b0 = b[4]; b1 = b[5]; b2 = b[6]; b3 = b[7];\n    out[4] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[5] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[6] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[7] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n    b0 = b[8]; b1 = b[9]; b2 = b[10]; b3 = b[11];\n    out[8] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[9] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[10] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[11] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n    b0 = b[12]; b1 = b[13]; b2 = b[14]; b3 = b[15];\n    out[12] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[13] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[14] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[15] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n    return out;\n};\n\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\nmat4.mul = mat4.multiply;\n\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to translate\n * @param {vec3} v vector to translate by\n * @returns {mat4} out\n */\nmat4.translate = function (out, a, v) {\n    var x = v[0], y = v[1], z = v[2],\n        a00, a01, a02, a03,\n        a10, a11, a12, a13,\n        a20, a21, a22, a23;\n\n    if (a === out) {\n        out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n        out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n        out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n        out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n    } else {\n        a00 = a[0]; a01 = a[1]; a02 = a[2]; a03 = a[3];\n        a10 = a[4]; a11 = a[5]; a12 = a[6]; a13 = a[7];\n        a20 = a[8]; a21 = a[9]; a22 = a[10]; a23 = a[11];\n\n        out[0] = a00; out[1] = a01; out[2] = a02; out[3] = a03;\n        out[4] = a10; out[5] = a11; out[6] = a12; out[7] = a13;\n        out[8] = a20; out[9] = a21; out[10] = a22; out[11] = a23;\n\n        out[12] = a00 * x + a10 * y + a20 * z + a[12];\n        out[13] = a01 * x + a11 * y + a21 * z + a[13];\n        out[14] = a02 * x + a12 * y + a22 * z + a[14];\n        out[15] = a03 * x + a13 * y + a23 * z + a[15];\n    }\n\n    return out;\n};\n\n/**\n * Scales the mat4 by the dimensions in the given vec3\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to scale\n * @param {vec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\nmat4.scale = function(out, a, v) {\n    var x = v[0], y = v[1], z = v[2];\n\n    out[0] = a[0] * x;\n    out[1] = a[1] * x;\n    out[2] = a[2] * x;\n    out[3] = a[3] * x;\n    out[4] = a[4] * y;\n    out[5] = a[5] * y;\n    out[6] = a[6] * y;\n    out[7] = a[7] * y;\n    out[8] = a[8] * z;\n    out[9] = a[9] * z;\n    out[10] = a[10] * z;\n    out[11] = a[11] * z;\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n};\n\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {vec3} axis the axis to rotate around\n * @returns {mat4} out\n */\nmat4.rotate = function (out, a, rad, axis) {\n    var x = axis[0], y = axis[1], z = axis[2],\n        len = Math.sqrt(x * x + y * y + z * z),\n        s, c, t,\n        a00, a01, a02, a03,\n        a10, a11, a12, a13,\n        a20, a21, a22, a23,\n        b00, b01, b02,\n        b10, b11, b12,\n        b20, b21, b22;\n\n    if (Math.abs(len) < glMatrix.EPSILON) { return null; }\n    \n    len = 1 / len;\n    x *= len;\n    y *= len;\n    z *= len;\n\n    s = Math.sin(rad);\n    c = Math.cos(rad);\n    t = 1 - c;\n\n    a00 = a[0]; a01 = a[1]; a02 = a[2]; a03 = a[3];\n    a10 = a[4]; a11 = a[5]; a12 = a[6]; a13 = a[7];\n    a20 = a[8]; a21 = a[9]; a22 = a[10]; a23 = a[11];\n\n    // Construct the elements of the rotation matrix\n    b00 = x * x * t + c; b01 = y * x * t + z * s; b02 = z * x * t - y * s;\n    b10 = x * y * t - z * s; b11 = y * y * t + c; b12 = z * y * t + x * s;\n    b20 = x * z * t + y * s; b21 = y * z * t - x * s; b22 = z * z * t + c;\n\n    // Perform rotation-specific matrix multiplication\n    out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n    out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n    out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n    out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n    out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n    out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n    out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n    out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n    out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n    out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n    out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n    out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged last row\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n    return out;\n};\n\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.rotateX = function (out, a, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad),\n        a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7],\n        a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged rows\n        out[0]  = a[0];\n        out[1]  = a[1];\n        out[2]  = a[2];\n        out[3]  = a[3];\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n\n    // Perform axis-specific matrix multiplication\n    out[4] = a10 * c + a20 * s;\n    out[5] = a11 * c + a21 * s;\n    out[6] = a12 * c + a22 * s;\n    out[7] = a13 * c + a23 * s;\n    out[8] = a20 * c - a10 * s;\n    out[9] = a21 * c - a11 * s;\n    out[10] = a22 * c - a12 * s;\n    out[11] = a23 * c - a13 * s;\n    return out;\n};\n\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.rotateY = function (out, a, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad),\n        a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3],\n        a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged rows\n        out[4]  = a[4];\n        out[5]  = a[5];\n        out[6]  = a[6];\n        out[7]  = a[7];\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n\n    // Perform axis-specific matrix multiplication\n    out[0] = a00 * c - a20 * s;\n    out[1] = a01 * c - a21 * s;\n    out[2] = a02 * c - a22 * s;\n    out[3] = a03 * c - a23 * s;\n    out[8] = a00 * s + a20 * c;\n    out[9] = a01 * s + a21 * c;\n    out[10] = a02 * s + a22 * c;\n    out[11] = a03 * s + a23 * c;\n    return out;\n};\n\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.rotateZ = function (out, a, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad),\n        a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3],\n        a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7];\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged last row\n        out[8]  = a[8];\n        out[9]  = a[9];\n        out[10] = a[10];\n        out[11] = a[11];\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n\n    // Perform axis-specific matrix multiplication\n    out[0] = a00 * c + a10 * s;\n    out[1] = a01 * c + a11 * s;\n    out[2] = a02 * c + a12 * s;\n    out[3] = a03 * c + a13 * s;\n    out[4] = a10 * c - a00 * s;\n    out[5] = a11 * c - a01 * s;\n    out[6] = a12 * c - a02 * s;\n    out[7] = a13 * c - a03 * s;\n    return out;\n};\n\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {vec3} v Translation vector\n * @returns {mat4} out\n */\nmat4.fromTranslation = function(out, v) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = 1;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 1;\n    out[11] = 0;\n    out[12] = v[0];\n    out[13] = v[1];\n    out[14] = v[2];\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {vec3} v Scaling vector\n * @returns {mat4} out\n */\nmat4.fromScaling = function(out, v) {\n    out[0] = v[0];\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = v[1];\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = v[2];\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {vec3} axis the axis to rotate around\n * @returns {mat4} out\n */\nmat4.fromRotation = function(out, rad, axis) {\n    var x = axis[0], y = axis[1], z = axis[2],\n        len = Math.sqrt(x * x + y * y + z * z),\n        s, c, t;\n    \n    if (Math.abs(len) < glMatrix.EPSILON) { return null; }\n    \n    len = 1 / len;\n    x *= len;\n    y *= len;\n    z *= len;\n    \n    s = Math.sin(rad);\n    c = Math.cos(rad);\n    t = 1 - c;\n    \n    // Perform rotation-specific matrix multiplication\n    out[0] = x * x * t + c;\n    out[1] = y * x * t + z * s;\n    out[2] = z * x * t - y * s;\n    out[3] = 0;\n    out[4] = x * y * t - z * s;\n    out[5] = y * y * t + c;\n    out[6] = z * y * t + x * s;\n    out[7] = 0;\n    out[8] = x * z * t + y * s;\n    out[9] = y * z * t - x * s;\n    out[10] = z * z * t + c;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.fromXRotation = function(out, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad);\n    \n    // Perform axis-specific matrix multiplication\n    out[0]  = 1;\n    out[1]  = 0;\n    out[2]  = 0;\n    out[3]  = 0;\n    out[4] = 0;\n    out[5] = c;\n    out[6] = s;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = -s;\n    out[10] = c;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.fromYRotation = function(out, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad);\n    \n    // Perform axis-specific matrix multiplication\n    out[0]  = c;\n    out[1]  = 0;\n    out[2]  = -s;\n    out[3]  = 0;\n    out[4] = 0;\n    out[5] = 1;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = s;\n    out[9] = 0;\n    out[10] = c;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.fromZRotation = function(out, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad);\n    \n    // Perform axis-specific matrix multiplication\n    out[0]  = c;\n    out[1]  = s;\n    out[2]  = 0;\n    out[3]  = 0;\n    out[4] = -s;\n    out[5] = c;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 1;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     var quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {vec3} v Translation vector\n * @returns {mat4} out\n */\nmat4.fromRotationTranslation = function (out, q, v) {\n    // Quaternion math\n    var x = q[0], y = q[1], z = q[2], w = q[3],\n        x2 = x + x,\n        y2 = y + y,\n        z2 = z + z,\n\n        xx = x * x2,\n        xy = x * y2,\n        xz = x * z2,\n        yy = y * y2,\n        yz = y * z2,\n        zz = z * z2,\n        wx = w * x2,\n        wy = w * y2,\n        wz = w * z2;\n\n    out[0] = 1 - (yy + zz);\n    out[1] = xy + wz;\n    out[2] = xz - wy;\n    out[3] = 0;\n    out[4] = xy - wz;\n    out[5] = 1 - (xx + zz);\n    out[6] = yz + wx;\n    out[7] = 0;\n    out[8] = xz + wy;\n    out[9] = yz - wx;\n    out[10] = 1 - (xx + yy);\n    out[11] = 0;\n    out[12] = v[0];\n    out[13] = v[1];\n    out[14] = v[2];\n    out[15] = 1;\n    \n    return out;\n};\n\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     var quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {vec3} v Translation vector\n * @param {vec3} s Scaling vector\n * @returns {mat4} out\n */\nmat4.fromRotationTranslationScale = function (out, q, v, s) {\n    // Quaternion math\n    var x = q[0], y = q[1], z = q[2], w = q[3],\n        x2 = x + x,\n        y2 = y + y,\n        z2 = z + z,\n\n        xx = x * x2,\n        xy = x * y2,\n        xz = x * z2,\n        yy = y * y2,\n        yz = y * z2,\n        zz = z * z2,\n        wx = w * x2,\n        wy = w * y2,\n        wz = w * z2,\n        sx = s[0],\n        sy = s[1],\n        sz = s[2];\n\n    out[0] = (1 - (yy + zz)) * sx;\n    out[1] = (xy + wz) * sx;\n    out[2] = (xz - wy) * sx;\n    out[3] = 0;\n    out[4] = (xy - wz) * sy;\n    out[5] = (1 - (xx + zz)) * sy;\n    out[6] = (yz + wx) * sy;\n    out[7] = 0;\n    out[8] = (xz + wy) * sz;\n    out[9] = (yz - wx) * sz;\n    out[10] = (1 - (xx + yy)) * sz;\n    out[11] = 0;\n    out[12] = v[0];\n    out[13] = v[1];\n    out[14] = v[2];\n    out[15] = 1;\n    \n    return out;\n};\n\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     var quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {vec3} v Translation vector\n * @param {vec3} s Scaling vector\n * @param {vec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\nmat4.fromRotationTranslationScaleOrigin = function (out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0], y = q[1], z = q[2], w = q[3],\n      x2 = x + x,\n      y2 = y + y,\n      z2 = z + z,\n\n      xx = x * x2,\n      xy = x * y2,\n      xz = x * z2,\n      yy = y * y2,\n      yz = y * z2,\n      zz = z * z2,\n      wx = w * x2,\n      wy = w * y2,\n      wz = w * z2,\n      \n      sx = s[0],\n      sy = s[1],\n      sz = s[2],\n\n      ox = o[0],\n      oy = o[1],\n      oz = o[2];\n      \n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out[0] * ox + out[4] * oy + out[8] * oz);\n  out[13] = v[1] + oy - (out[1] * ox + out[5] * oy + out[9] * oz);\n  out[14] = v[2] + oz - (out[2] * ox + out[6] * oy + out[10] * oz);\n  out[15] = 1;\n        \n  return out;\n};\n\nmat4.fromQuat = function (out, q) {\n    var x = q[0], y = q[1], z = q[2], w = q[3],\n        x2 = x + x,\n        y2 = y + y,\n        z2 = z + z,\n\n        xx = x * x2,\n        yx = y * x2,\n        yy = y * y2,\n        zx = z * x2,\n        zy = z * y2,\n        zz = z * z2,\n        wx = w * x2,\n        wy = w * y2,\n        wz = w * z2;\n\n    out[0] = 1 - yy - zz;\n    out[1] = yx + wz;\n    out[2] = zx - wy;\n    out[3] = 0;\n\n    out[4] = yx - wz;\n    out[5] = 1 - xx - zz;\n    out[6] = zy + wx;\n    out[7] = 0;\n\n    out[8] = zx + wy;\n    out[9] = zy - wx;\n    out[10] = 1 - xx - yy;\n    out[11] = 0;\n\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n\n    return out;\n};\n\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\nmat4.frustum = function (out, left, right, bottom, top, near, far) {\n    var rl = 1 / (right - left),\n        tb = 1 / (top - bottom),\n        nf = 1 / (near - far);\n    out[0] = (near * 2) * rl;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = (near * 2) * tb;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = (right + left) * rl;\n    out[9] = (top + bottom) * tb;\n    out[10] = (far + near) * nf;\n    out[11] = -1;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = (far * near * 2) * nf;\n    out[15] = 0;\n    return out;\n};\n\n/**\n * Generates a perspective projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nmat4.perspective = function (out, fovy, aspect, near, far) {\n    var f = 1.0 / Math.tan(fovy / 2),\n        nf = 1 / (near - far);\n    out[0] = f / aspect;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = f;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = (far + near) * nf;\n    out[11] = -1;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = (2 * far * near) * nf;\n    out[15] = 0;\n    return out;\n};\n\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nmat4.perspectiveFromFieldOfView = function (out, fov, near, far) {\n    var upTan = Math.tan(fov.upDegrees * Math.PI/180.0),\n        downTan = Math.tan(fov.downDegrees * Math.PI/180.0),\n        leftTan = Math.tan(fov.leftDegrees * Math.PI/180.0),\n        rightTan = Math.tan(fov.rightDegrees * Math.PI/180.0),\n        xScale = 2.0 / (leftTan + rightTan),\n        yScale = 2.0 / (upTan + downTan);\n\n    out[0] = xScale;\n    out[1] = 0.0;\n    out[2] = 0.0;\n    out[3] = 0.0;\n    out[4] = 0.0;\n    out[5] = yScale;\n    out[6] = 0.0;\n    out[7] = 0.0;\n    out[8] = -((leftTan - rightTan) * xScale * 0.5);\n    out[9] = ((upTan - downTan) * yScale * 0.5);\n    out[10] = far / (near - far);\n    out[11] = -1.0;\n    out[12] = 0.0;\n    out[13] = 0.0;\n    out[14] = (far * near) / (near - far);\n    out[15] = 0.0;\n    return out;\n}\n\n/**\n * Generates a orthogonal projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nmat4.ortho = function (out, left, right, bottom, top, near, far) {\n    var lr = 1 / (left - right),\n        bt = 1 / (bottom - top),\n        nf = 1 / (near - far);\n    out[0] = -2 * lr;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = -2 * bt;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 2 * nf;\n    out[11] = 0;\n    out[12] = (left + right) * lr;\n    out[13] = (top + bottom) * bt;\n    out[14] = (far + near) * nf;\n    out[15] = 1;\n    return out;\n};\n\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {vec3} eye Position of the viewer\n * @param {vec3} center Point the viewer is looking at\n * @param {vec3} up vec3 pointing up\n * @returns {mat4} out\n */\nmat4.lookAt = function (out, eye, center, up) {\n    var x0, x1, x2, y0, y1, y2, z0, z1, z2, len,\n        eyex = eye[0],\n        eyey = eye[1],\n        eyez = eye[2],\n        upx = up[0],\n        upy = up[1],\n        upz = up[2],\n        centerx = center[0],\n        centery = center[1],\n        centerz = center[2];\n\n    if (Math.abs(eyex - centerx) < glMatrix.EPSILON &&\n        Math.abs(eyey - centery) < glMatrix.EPSILON &&\n        Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n        return mat4.identity(out);\n    }\n\n    z0 = eyex - centerx;\n    z1 = eyey - centery;\n    z2 = eyez - centerz;\n\n    len = 1 / Math.sqrt(z0 * z0 + z1 * z1 + z2 * z2);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n\n    x0 = upy * z2 - upz * z1;\n    x1 = upz * z0 - upx * z2;\n    x2 = upx * z1 - upy * z0;\n    len = Math.sqrt(x0 * x0 + x1 * x1 + x2 * x2);\n    if (!len) {\n        x0 = 0;\n        x1 = 0;\n        x2 = 0;\n    } else {\n        len = 1 / len;\n        x0 *= len;\n        x1 *= len;\n        x2 *= len;\n    }\n\n    y0 = z1 * x2 - z2 * x1;\n    y1 = z2 * x0 - z0 * x2;\n    y2 = z0 * x1 - z1 * x0;\n\n    len = Math.sqrt(y0 * y0 + y1 * y1 + y2 * y2);\n    if (!len) {\n        y0 = 0;\n        y1 = 0;\n        y2 = 0;\n    } else {\n        len = 1 / len;\n        y0 *= len;\n        y1 *= len;\n        y2 *= len;\n    }\n\n    out[0] = x0;\n    out[1] = y0;\n    out[2] = z0;\n    out[3] = 0;\n    out[4] = x1;\n    out[5] = y1;\n    out[6] = z1;\n    out[7] = 0;\n    out[8] = x2;\n    out[9] = y2;\n    out[10] = z2;\n    out[11] = 0;\n    out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n    out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n    out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n    out[15] = 1;\n\n    return out;\n};\n\n/**\n * Returns a string representation of a mat4\n *\n * @param {mat4} mat matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nmat4.str = function (a) {\n    return 'mat4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' +\n                    a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' +\n                    a[8] + ', ' + a[9] + ', ' + a[10] + ', ' + a[11] + ', ' + \n                    a[12] + ', ' + a[13] + ', ' + a[14] + ', ' + a[15] + ')';\n};\n\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {mat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nmat4.frob = function (a) {\n    return(Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2) + Math.pow(a[9], 2) + Math.pow(a[10], 2) + Math.pow(a[11], 2) + Math.pow(a[12], 2) + Math.pow(a[13], 2) + Math.pow(a[14], 2) + Math.pow(a[15], 2) ))\n};\n\n\nmodule.exports = mat4;\n","/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n\nvar glMatrix = require(\"./common.js\");\nvar mat3 = require(\"./mat3.js\");\nvar vec3 = require(\"./vec3.js\");\nvar vec4 = require(\"./vec4.js\");\n\n/**\n * @class Quaternion\n * @name quat\n */\nvar quat = {};\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\nquat.create = function() {\n    var out = new glMatrix.ARRAY_TYPE(4);\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    return out;\n};\n\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {vec3} a the initial vector\n * @param {vec3} b the destination vector\n * @returns {quat} out\n */\nquat.rotationTo = (function() {\n    var tmpvec3 = vec3.create();\n    var xUnitVec3 = vec3.fromValues(1,0,0);\n    var yUnitVec3 = vec3.fromValues(0,1,0);\n\n    return function(out, a, b) {\n        var dot = vec3.dot(a, b);\n        if (dot < -0.999999) {\n            vec3.cross(tmpvec3, xUnitVec3, a);\n            if (vec3.length(tmpvec3) < 0.000001)\n                vec3.cross(tmpvec3, yUnitVec3, a);\n            vec3.normalize(tmpvec3, tmpvec3);\n            quat.setAxisAngle(out, tmpvec3, Math.PI);\n            return out;\n        } else if (dot > 0.999999) {\n            out[0] = 0;\n            out[1] = 0;\n            out[2] = 0;\n            out[3] = 1;\n            return out;\n        } else {\n            vec3.cross(tmpvec3, a, b);\n            out[0] = tmpvec3[0];\n            out[1] = tmpvec3[1];\n            out[2] = tmpvec3[2];\n            out[3] = 1 + dot;\n            return quat.normalize(out, out);\n        }\n    };\n})();\n\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {vec3} view  the vector representing the viewing direction\n * @param {vec3} right the vector representing the local \"right\" direction\n * @param {vec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\nquat.setAxes = (function() {\n    var matr = mat3.create();\n\n    return function(out, view, right, up) {\n        matr[0] = right[0];\n        matr[3] = right[1];\n        matr[6] = right[2];\n\n        matr[1] = up[0];\n        matr[4] = up[1];\n        matr[7] = up[2];\n\n        matr[2] = -view[0];\n        matr[5] = -view[1];\n        matr[8] = -view[2];\n\n        return quat.normalize(out, quat.fromMat3(out, matr));\n    };\n})();\n\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {quat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\nquat.clone = vec4.clone;\n\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\nquat.fromValues = vec4.fromValues;\n\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the source quaternion\n * @returns {quat} out\n * @function\n */\nquat.copy = vec4.copy;\n\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\nquat.set = vec4.set;\n\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\nquat.identity = function(out) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    return out;\n};\n\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {vec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\nquat.setAxisAngle = function(out, axis, rad) {\n    rad = rad * 0.5;\n    var s = Math.sin(rad);\n    out[0] = s * axis[0];\n    out[1] = s * axis[1];\n    out[2] = s * axis[2];\n    out[3] = Math.cos(rad);\n    return out;\n};\n\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {quat} out\n * @function\n */\nquat.add = vec4.add;\n\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {quat} out\n */\nquat.multiply = function(out, a, b) {\n    var ax = a[0], ay = a[1], az = a[2], aw = a[3],\n        bx = b[0], by = b[1], bz = b[2], bw = b[3];\n\n    out[0] = ax * bw + aw * bx + ay * bz - az * by;\n    out[1] = ay * bw + aw * by + az * bx - ax * bz;\n    out[2] = az * bw + aw * bz + ax * by - ay * bx;\n    out[3] = aw * bw - ax * bx - ay * by - az * bz;\n    return out;\n};\n\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\nquat.mul = quat.multiply;\n\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {quat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\nquat.scale = vec4.scale;\n\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nquat.rotateX = function (out, a, rad) {\n    rad *= 0.5; \n\n    var ax = a[0], ay = a[1], az = a[2], aw = a[3],\n        bx = Math.sin(rad), bw = Math.cos(rad);\n\n    out[0] = ax * bw + aw * bx;\n    out[1] = ay * bw + az * bx;\n    out[2] = az * bw - ay * bx;\n    out[3] = aw * bw - ax * bx;\n    return out;\n};\n\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nquat.rotateY = function (out, a, rad) {\n    rad *= 0.5; \n\n    var ax = a[0], ay = a[1], az = a[2], aw = a[3],\n        by = Math.sin(rad), bw = Math.cos(rad);\n\n    out[0] = ax * bw - az * by;\n    out[1] = ay * bw + aw * by;\n    out[2] = az * bw + ax * by;\n    out[3] = aw * bw - ay * by;\n    return out;\n};\n\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nquat.rotateZ = function (out, a, rad) {\n    rad *= 0.5; \n\n    var ax = a[0], ay = a[1], az = a[2], aw = a[3],\n        bz = Math.sin(rad), bw = Math.cos(rad);\n\n    out[0] = ax * bw + ay * bz;\n    out[1] = ay * bw - ax * bz;\n    out[2] = az * bw + aw * bz;\n    out[3] = aw * bw - az * bz;\n    return out;\n};\n\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate W component of\n * @returns {quat} out\n */\nquat.calculateW = function (out, a) {\n    var x = a[0], y = a[1], z = a[2];\n\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n    return out;\n};\n\n/**\n * Calculates the dot product of two quat's\n *\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\nquat.dot = vec4.dot;\n\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {quat} out\n * @function\n */\nquat.lerp = vec4.lerp;\n\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {quat} out\n */\nquat.slerp = function (out, a, b, t) {\n    // benchmarks:\n    //    http://jsperf.com/quaternion-slerp-implementations\n\n    var ax = a[0], ay = a[1], az = a[2], aw = a[3],\n        bx = b[0], by = b[1], bz = b[2], bw = b[3];\n\n    var        omega, cosom, sinom, scale0, scale1;\n\n    // calc cosine\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\n    // adjust signs (if necessary)\n    if ( cosom < 0.0 ) {\n        cosom = -cosom;\n        bx = - bx;\n        by = - by;\n        bz = - bz;\n        bw = - bw;\n    }\n    // calculate coefficients\n    if ( (1.0 - cosom) > 0.000001 ) {\n        // standard case (slerp)\n        omega  = Math.acos(cosom);\n        sinom  = Math.sin(omega);\n        scale0 = Math.sin((1.0 - t) * omega) / sinom;\n        scale1 = Math.sin(t * omega) / sinom;\n    } else {        \n        // \"from\" and \"to\" quaternions are very close \n        //  ... so we can do a linear interpolation\n        scale0 = 1.0 - t;\n        scale1 = t;\n    }\n    // calculate final values\n    out[0] = scale0 * ax + scale1 * bx;\n    out[1] = scale0 * ay + scale1 * by;\n    out[2] = scale0 * az + scale1 * bz;\n    out[3] = scale0 * aw + scale1 * bw;\n    \n    return out;\n};\n\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {quat} c the third operand\n * @param {quat} d the fourth operand\n * @param {Number} t interpolation amount\n * @returns {quat} out\n */\nquat.sqlerp = (function () {\n  var temp1 = quat.create();\n  var temp2 = quat.create();\n  \n  return function (out, a, b, c, d, t) {\n    quat.slerp(temp1, a, d, t);\n    quat.slerp(temp2, b, c, t);\n    quat.slerp(out, temp1, temp2, 2 * t * (1 - t));\n    \n    return out;\n  };\n}());\n\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate inverse of\n * @returns {quat} out\n */\nquat.invert = function(out, a) {\n    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3],\n        dot = a0*a0 + a1*a1 + a2*a2 + a3*a3,\n        invDot = dot ? 1.0/dot : 0;\n    \n    // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n    out[0] = -a0*invDot;\n    out[1] = -a1*invDot;\n    out[2] = -a2*invDot;\n    out[3] = a3*invDot;\n    return out;\n};\n\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate conjugate of\n * @returns {quat} out\n */\nquat.conjugate = function (out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Calculates the length of a quat\n *\n * @param {quat} a vector to calculate length of\n * @returns {Number} length of a\n * @function\n */\nquat.length = vec4.length;\n\n/**\n * Alias for {@link quat.length}\n * @function\n */\nquat.len = quat.length;\n\n/**\n * Calculates the squared length of a quat\n *\n * @param {quat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\nquat.squaredLength = vec4.squaredLength;\n\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\nquat.sqrLen = quat.squaredLength;\n\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\nquat.normalize = vec4.normalize;\n\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {mat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\nquat.fromMat3 = function(out, m) {\n    // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n    // article \"Quaternion Calculus and Fast Animation\".\n    var fTrace = m[0] + m[4] + m[8];\n    var fRoot;\n\n    if ( fTrace > 0.0 ) {\n        // |w| > 1/2, may as well choose w > 1/2\n        fRoot = Math.sqrt(fTrace + 1.0);  // 2w\n        out[3] = 0.5 * fRoot;\n        fRoot = 0.5/fRoot;  // 1/(4w)\n        out[0] = (m[5]-m[7])*fRoot;\n        out[1] = (m[6]-m[2])*fRoot;\n        out[2] = (m[1]-m[3])*fRoot;\n    } else {\n        // |w| <= 1/2\n        var i = 0;\n        if ( m[4] > m[0] )\n          i = 1;\n        if ( m[8] > m[i*3+i] )\n          i = 2;\n        var j = (i+1)%3;\n        var k = (i+2)%3;\n        \n        fRoot = Math.sqrt(m[i*3+i]-m[j*3+j]-m[k*3+k] + 1.0);\n        out[i] = 0.5 * fRoot;\n        fRoot = 0.5 / fRoot;\n        out[3] = (m[j*3+k] - m[k*3+j]) * fRoot;\n        out[j] = (m[j*3+i] + m[i*3+j]) * fRoot;\n        out[k] = (m[k*3+i] + m[i*3+k]) * fRoot;\n    }\n    \n    return out;\n};\n\n/**\n * Returns a string representation of a quatenion\n *\n * @param {quat} vec vector to represent as a string\n * @returns {String} string representation of the vector\n */\nquat.str = function (a) {\n    return 'quat(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n};\n\nmodule.exports = quat;\n","/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n\nvar glMatrix = require(\"./common.js\");\n\n/**\n * @class 2 Dimensional Vector\n * @name vec2\n */\nvar vec2 = {};\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\nvec2.create = function() {\n    var out = new glMatrix.ARRAY_TYPE(2);\n    out[0] = 0;\n    out[1] = 0;\n    return out;\n};\n\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {vec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\nvec2.clone = function(a) {\n    var out = new glMatrix.ARRAY_TYPE(2);\n    out[0] = a[0];\n    out[1] = a[1];\n    return out;\n};\n\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\nvec2.fromValues = function(x, y) {\n    var out = new glMatrix.ARRAY_TYPE(2);\n    out[0] = x;\n    out[1] = y;\n    return out;\n};\n\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the source vector\n * @returns {vec2} out\n */\nvec2.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    return out;\n};\n\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\nvec2.set = function(out, x, y) {\n    out[0] = x;\n    out[1] = y;\n    return out;\n};\n\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nvec2.add = function(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    return out;\n};\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nvec2.subtract = function(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    return out;\n};\n\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\nvec2.sub = vec2.subtract;\n\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nvec2.multiply = function(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    return out;\n};\n\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\nvec2.mul = vec2.multiply;\n\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nvec2.divide = function(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    return out;\n};\n\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\nvec2.div = vec2.divide;\n\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nvec2.min = function(out, a, b) {\n    out[0] = Math.min(a[0], b[0]);\n    out[1] = Math.min(a[1], b[1]);\n    return out;\n};\n\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nvec2.max = function(out, a, b) {\n    out[0] = Math.max(a[0], b[0]);\n    out[1] = Math.max(a[1], b[1]);\n    return out;\n};\n\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\nvec2.scale = function(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    return out;\n};\n\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\nvec2.scaleAndAdd = function(out, a, b, scale) {\n    out[0] = a[0] + (b[0] * scale);\n    out[1] = a[1] + (b[1] * scale);\n    return out;\n};\n\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} distance between a and b\n */\nvec2.distance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1];\n    return Math.sqrt(x*x + y*y);\n};\n\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\nvec2.dist = vec2.distance;\n\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\nvec2.squaredDistance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1];\n    return x*x + y*y;\n};\n\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\nvec2.sqrDist = vec2.squaredDistance;\n\n/**\n * Calculates the length of a vec2\n *\n * @param {vec2} a vector to calculate length of\n * @returns {Number} length of a\n */\nvec2.length = function (a) {\n    var x = a[0],\n        y = a[1];\n    return Math.sqrt(x*x + y*y);\n};\n\n/**\n * Alias for {@link vec2.length}\n * @function\n */\nvec2.len = vec2.length;\n\n/**\n * Calculates the squared length of a vec2\n *\n * @param {vec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nvec2.squaredLength = function (a) {\n    var x = a[0],\n        y = a[1];\n    return x*x + y*y;\n};\n\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\nvec2.sqrLen = vec2.squaredLength;\n\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to negate\n * @returns {vec2} out\n */\nvec2.negate = function(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    return out;\n};\n\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to invert\n * @returns {vec2} out\n */\nvec2.inverse = function(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n};\n\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to normalize\n * @returns {vec2} out\n */\nvec2.normalize = function(out, a) {\n    var x = a[0],\n        y = a[1];\n    var len = x*x + y*y;\n    if (len > 0) {\n        //TODO: evaluate use of glm_invsqrt here?\n        len = 1 / Math.sqrt(len);\n        out[0] = a[0] * len;\n        out[1] = a[1] * len;\n    }\n    return out;\n};\n\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} dot product of a and b\n */\nvec2.dot = function (a, b) {\n    return a[0] * b[0] + a[1] * b[1];\n};\n\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec3} out\n */\nvec2.cross = function(out, a, b) {\n    var z = a[0] * b[1] - a[1] * b[0];\n    out[0] = out[1] = 0;\n    out[2] = z;\n    return out;\n};\n\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec2} out\n */\nvec2.lerp = function (out, a, b, t) {\n    var ax = a[0],\n        ay = a[1];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    return out;\n};\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\nvec2.random = function (out, scale) {\n    scale = scale || 1.0;\n    var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n    out[0] = Math.cos(r) * scale;\n    out[1] = Math.sin(r) * scale;\n    return out;\n};\n\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2} m matrix to transform with\n * @returns {vec2} out\n */\nvec2.transformMat2 = function(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[2] * y;\n    out[1] = m[1] * x + m[3] * y;\n    return out;\n};\n\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2d} m matrix to transform with\n * @returns {vec2} out\n */\nvec2.transformMat2d = function(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[2] * y + m[4];\n    out[1] = m[1] * x + m[3] * y + m[5];\n    return out;\n};\n\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat3} m matrix to transform with\n * @returns {vec2} out\n */\nvec2.transformMat3 = function(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[3] * y + m[6];\n    out[1] = m[1] * x + m[4] * y + m[7];\n    return out;\n};\n\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec2} out\n */\nvec2.transformMat4 = function(out, a, m) {\n    var x = a[0], \n        y = a[1];\n    out[0] = m[0] * x + m[4] * y + m[12];\n    out[1] = m[1] * x + m[5] * y + m[13];\n    return out;\n};\n\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nvec2.forEach = (function() {\n    var vec = vec2.create();\n\n    return function(a, stride, offset, count, fn, arg) {\n        var i, l;\n        if(!stride) {\n            stride = 2;\n        }\n\n        if(!offset) {\n            offset = 0;\n        }\n        \n        if(count) {\n            l = Math.min((count * stride) + offset, a.length);\n        } else {\n            l = a.length;\n        }\n\n        for(i = offset; i < l; i += stride) {\n            vec[0] = a[i]; vec[1] = a[i+1];\n            fn(vec, vec, arg);\n            a[i] = vec[0]; a[i+1] = vec[1];\n        }\n        \n        return a;\n    };\n})();\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec2} vec vector to represent as a string\n * @returns {String} string representation of the vector\n */\nvec2.str = function (a) {\n    return 'vec2(' + a[0] + ', ' + a[1] + ')';\n};\n\nmodule.exports = vec2;\n","/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n\nvar glMatrix = require(\"./common.js\");\n\n/**\n * @class 3 Dimensional Vector\n * @name vec3\n */\nvar vec3 = {};\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\nvec3.create = function() {\n    var out = new glMatrix.ARRAY_TYPE(3);\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    return out;\n};\n\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {vec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\nvec3.clone = function(a) {\n    var out = new glMatrix.ARRAY_TYPE(3);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    return out;\n};\n\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\nvec3.fromValues = function(x, y, z) {\n    var out = new glMatrix.ARRAY_TYPE(3);\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    return out;\n};\n\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the source vector\n * @returns {vec3} out\n */\nvec3.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    return out;\n};\n\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\nvec3.set = function(out, x, y, z) {\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    return out;\n};\n\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.add = function(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    return out;\n};\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.subtract = function(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    return out;\n};\n\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\nvec3.sub = vec3.subtract;\n\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.multiply = function(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    out[2] = a[2] * b[2];\n    return out;\n};\n\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\nvec3.mul = vec3.multiply;\n\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.divide = function(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    out[2] = a[2] / b[2];\n    return out;\n};\n\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\nvec3.div = vec3.divide;\n\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.min = function(out, a, b) {\n    out[0] = Math.min(a[0], b[0]);\n    out[1] = Math.min(a[1], b[1]);\n    out[2] = Math.min(a[2], b[2]);\n    return out;\n};\n\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.max = function(out, a, b) {\n    out[0] = Math.max(a[0], b[0]);\n    out[1] = Math.max(a[1], b[1]);\n    out[2] = Math.max(a[2], b[2]);\n    return out;\n};\n\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\nvec3.scale = function(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    return out;\n};\n\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\nvec3.scaleAndAdd = function(out, a, b, scale) {\n    out[0] = a[0] + (b[0] * scale);\n    out[1] = a[1] + (b[1] * scale);\n    out[2] = a[2] + (b[2] * scale);\n    return out;\n};\n\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} distance between a and b\n */\nvec3.distance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1],\n        z = b[2] - a[2];\n    return Math.sqrt(x*x + y*y + z*z);\n};\n\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\nvec3.dist = vec3.distance;\n\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\nvec3.squaredDistance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1],\n        z = b[2] - a[2];\n    return x*x + y*y + z*z;\n};\n\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\nvec3.sqrDist = vec3.squaredDistance;\n\n/**\n * Calculates the length of a vec3\n *\n * @param {vec3} a vector to calculate length of\n * @returns {Number} length of a\n */\nvec3.length = function (a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2];\n    return Math.sqrt(x*x + y*y + z*z);\n};\n\n/**\n * Alias for {@link vec3.length}\n * @function\n */\nvec3.len = vec3.length;\n\n/**\n * Calculates the squared length of a vec3\n *\n * @param {vec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nvec3.squaredLength = function (a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2];\n    return x*x + y*y + z*z;\n};\n\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\nvec3.sqrLen = vec3.squaredLength;\n\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to negate\n * @returns {vec3} out\n */\nvec3.negate = function(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    return out;\n};\n\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to invert\n * @returns {vec3} out\n */\nvec3.inverse = function(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n};\n\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to normalize\n * @returns {vec3} out\n */\nvec3.normalize = function(out, a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2];\n    var len = x*x + y*y + z*z;\n    if (len > 0) {\n        //TODO: evaluate use of glm_invsqrt here?\n        len = 1 / Math.sqrt(len);\n        out[0] = a[0] * len;\n        out[1] = a[1] * len;\n        out[2] = a[2] * len;\n    }\n    return out;\n};\n\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} dot product of a and b\n */\nvec3.dot = function (a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n};\n\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nvec3.cross = function(out, a, b) {\n    var ax = a[0], ay = a[1], az = a[2],\n        bx = b[0], by = b[1], bz = b[2];\n\n    out[0] = ay * bz - az * by;\n    out[1] = az * bx - ax * bz;\n    out[2] = ax * by - ay * bx;\n    return out;\n};\n\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec3} out\n */\nvec3.lerp = function (out, a, b, t) {\n    var ax = a[0],\n        ay = a[1],\n        az = a[2];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    out[2] = az + t * (b[2] - az);\n    return out;\n};\n\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec3} out\n */\nvec3.hermite = function (out, a, b, c, d, t) {\n  var factorTimes2 = t * t,\n      factor1 = factorTimes2 * (2 * t - 3) + 1,\n      factor2 = factorTimes2 * (t - 2) + t,\n      factor3 = factorTimes2 * (t - 1),\n      factor4 = factorTimes2 * (3 - 2 * t);\n  \n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  \n  return out;\n};\n\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec3} out\n */\nvec3.bezier = function (out, a, b, c, d, t) {\n  var inverseFactor = 1 - t,\n      inverseFactorTimesTwo = inverseFactor * inverseFactor,\n      factorTimes2 = t * t,\n      factor1 = inverseFactorTimesTwo * inverseFactor,\n      factor2 = 3 * t * inverseFactorTimesTwo,\n      factor3 = 3 * factorTimes2 * inverseFactor,\n      factor4 = factorTimes2 * t;\n  \n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  \n  return out;\n};\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\nvec3.random = function (out, scale) {\n    scale = scale || 1.0;\n\n    var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n    var z = (glMatrix.RANDOM() * 2.0) - 1.0;\n    var zScale = Math.sqrt(1.0-z*z) * scale;\n\n    out[0] = Math.cos(r) * zScale;\n    out[1] = Math.sin(r) * zScale;\n    out[2] = z * scale;\n    return out;\n};\n\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec3} out\n */\nvec3.transformMat4 = function(out, a, m) {\n    var x = a[0], y = a[1], z = a[2],\n        w = m[3] * x + m[7] * y + m[11] * z + m[15];\n    w = w || 1.0;\n    out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n    out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n    out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n    return out;\n};\n\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\nvec3.transformMat3 = function(out, a, m) {\n    var x = a[0], y = a[1], z = a[2];\n    out[0] = x * m[0] + y * m[3] + z * m[6];\n    out[1] = x * m[1] + y * m[4] + z * m[7];\n    out[2] = x * m[2] + y * m[5] + z * m[8];\n    return out;\n};\n\n/**\n * Transforms the vec3 with a quat\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec3} out\n */\nvec3.transformQuat = function(out, a, q) {\n    // benchmarks: http://jsperf.com/quaternion-transform-vec3-implementations\n\n    var x = a[0], y = a[1], z = a[2],\n        qx = q[0], qy = q[1], qz = q[2], qw = q[3],\n\n        // calculate quat * vec\n        ix = qw * x + qy * z - qz * y,\n        iy = qw * y + qz * x - qx * z,\n        iz = qw * z + qx * y - qy * x,\n        iw = -qx * x - qy * y - qz * z;\n\n    // calculate result * inverse quat\n    out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n    out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n    out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n    return out;\n};\n\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nvec3.rotateX = function(out, a, b, c){\n   var p = [], r=[];\n\t  //Translate point to the origin\n\t  p[0] = a[0] - b[0];\n\t  p[1] = a[1] - b[1];\n  \tp[2] = a[2] - b[2];\n\n\t  //perform rotation\n\t  r[0] = p[0];\n\t  r[1] = p[1]*Math.cos(c) - p[2]*Math.sin(c);\n\t  r[2] = p[1]*Math.sin(c) + p[2]*Math.cos(c);\n\n\t  //translate to correct position\n\t  out[0] = r[0] + b[0];\n\t  out[1] = r[1] + b[1];\n\t  out[2] = r[2] + b[2];\n\n  \treturn out;\n};\n\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nvec3.rotateY = function(out, a, b, c){\n  \tvar p = [], r=[];\n  \t//Translate point to the origin\n  \tp[0] = a[0] - b[0];\n  \tp[1] = a[1] - b[1];\n  \tp[2] = a[2] - b[2];\n  \n  \t//perform rotation\n  \tr[0] = p[2]*Math.sin(c) + p[0]*Math.cos(c);\n  \tr[1] = p[1];\n  \tr[2] = p[2]*Math.cos(c) - p[0]*Math.sin(c);\n  \n  \t//translate to correct position\n  \tout[0] = r[0] + b[0];\n  \tout[1] = r[1] + b[1];\n  \tout[2] = r[2] + b[2];\n  \n  \treturn out;\n};\n\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nvec3.rotateZ = function(out, a, b, c){\n  \tvar p = [], r=[];\n  \t//Translate point to the origin\n  \tp[0] = a[0] - b[0];\n  \tp[1] = a[1] - b[1];\n  \tp[2] = a[2] - b[2];\n  \n  \t//perform rotation\n  \tr[0] = p[0]*Math.cos(c) - p[1]*Math.sin(c);\n  \tr[1] = p[0]*Math.sin(c) + p[1]*Math.cos(c);\n  \tr[2] = p[2];\n  \n  \t//translate to correct position\n  \tout[0] = r[0] + b[0];\n  \tout[1] = r[1] + b[1];\n  \tout[2] = r[2] + b[2];\n  \n  \treturn out;\n};\n\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nvec3.forEach = (function() {\n    var vec = vec3.create();\n\n    return function(a, stride, offset, count, fn, arg) {\n        var i, l;\n        if(!stride) {\n            stride = 3;\n        }\n\n        if(!offset) {\n            offset = 0;\n        }\n        \n        if(count) {\n            l = Math.min((count * stride) + offset, a.length);\n        } else {\n            l = a.length;\n        }\n\n        for(i = offset; i < l; i += stride) {\n            vec[0] = a[i]; vec[1] = a[i+1]; vec[2] = a[i+2];\n            fn(vec, vec, arg);\n            a[i] = vec[0]; a[i+1] = vec[1]; a[i+2] = vec[2];\n        }\n        \n        return a;\n    };\n})();\n\n/**\n * Get the angle between two 3D vectors\n * @param {vec3} a The first operand\n * @param {vec3} b The second operand\n * @returns {Number} The angle in radians\n */\nvec3.angle = function(a, b) {\n   \n    var tempA = vec3.fromValues(a[0], a[1], a[2]);\n    var tempB = vec3.fromValues(b[0], b[1], b[2]);\n \n    vec3.normalize(tempA, tempA);\n    vec3.normalize(tempB, tempB);\n \n    var cosine = vec3.dot(tempA, tempB);\n\n    if(cosine > 1.0){\n        return 0;\n    } else {\n        return Math.acos(cosine);\n    }     \n};\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec3} vec vector to represent as a string\n * @returns {String} string representation of the vector\n */\nvec3.str = function (a) {\n    return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n};\n\nmodule.exports = vec3;\n","/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n\nvar glMatrix = require(\"./common.js\");\n\n/**\n * @class 4 Dimensional Vector\n * @name vec4\n */\nvar vec4 = {};\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\nvec4.create = function() {\n    var out = new glMatrix.ARRAY_TYPE(4);\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    return out;\n};\n\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {vec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\nvec4.clone = function(a) {\n    var out = new glMatrix.ARRAY_TYPE(4);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\nvec4.fromValues = function(x, y, z, w) {\n    var out = new glMatrix.ARRAY_TYPE(4);\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    out[3] = w;\n    return out;\n};\n\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the source vector\n * @returns {vec4} out\n */\nvec4.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\nvec4.set = function(out, x, y, z, w) {\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    out[3] = w;\n    return out;\n};\n\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nvec4.add = function(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    out[3] = a[3] + b[3];\n    return out;\n};\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nvec4.subtract = function(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    out[3] = a[3] - b[3];\n    return out;\n};\n\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\nvec4.sub = vec4.subtract;\n\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nvec4.multiply = function(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    out[2] = a[2] * b[2];\n    out[3] = a[3] * b[3];\n    return out;\n};\n\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\nvec4.mul = vec4.multiply;\n\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nvec4.divide = function(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    out[2] = a[2] / b[2];\n    out[3] = a[3] / b[3];\n    return out;\n};\n\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\nvec4.div = vec4.divide;\n\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nvec4.min = function(out, a, b) {\n    out[0] = Math.min(a[0], b[0]);\n    out[1] = Math.min(a[1], b[1]);\n    out[2] = Math.min(a[2], b[2]);\n    out[3] = Math.min(a[3], b[3]);\n    return out;\n};\n\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nvec4.max = function(out, a, b) {\n    out[0] = Math.max(a[0], b[0]);\n    out[1] = Math.max(a[1], b[1]);\n    out[2] = Math.max(a[2], b[2]);\n    out[3] = Math.max(a[3], b[3]);\n    return out;\n};\n\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\nvec4.scale = function(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    out[3] = a[3] * b;\n    return out;\n};\n\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\nvec4.scaleAndAdd = function(out, a, b, scale) {\n    out[0] = a[0] + (b[0] * scale);\n    out[1] = a[1] + (b[1] * scale);\n    out[2] = a[2] + (b[2] * scale);\n    out[3] = a[3] + (b[3] * scale);\n    return out;\n};\n\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} distance between a and b\n */\nvec4.distance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1],\n        z = b[2] - a[2],\n        w = b[3] - a[3];\n    return Math.sqrt(x*x + y*y + z*z + w*w);\n};\n\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\nvec4.dist = vec4.distance;\n\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\nvec4.squaredDistance = function(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1],\n        z = b[2] - a[2],\n        w = b[3] - a[3];\n    return x*x + y*y + z*z + w*w;\n};\n\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\nvec4.sqrDist = vec4.squaredDistance;\n\n/**\n * Calculates the length of a vec4\n *\n * @param {vec4} a vector to calculate length of\n * @returns {Number} length of a\n */\nvec4.length = function (a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2],\n        w = a[3];\n    return Math.sqrt(x*x + y*y + z*z + w*w);\n};\n\n/**\n * Alias for {@link vec4.length}\n * @function\n */\nvec4.len = vec4.length;\n\n/**\n * Calculates the squared length of a vec4\n *\n * @param {vec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nvec4.squaredLength = function (a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2],\n        w = a[3];\n    return x*x + y*y + z*z + w*w;\n};\n\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\nvec4.sqrLen = vec4.squaredLength;\n\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to negate\n * @returns {vec4} out\n */\nvec4.negate = function(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    out[3] = -a[3];\n    return out;\n};\n\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to invert\n * @returns {vec4} out\n */\nvec4.inverse = function(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n};\n\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to normalize\n * @returns {vec4} out\n */\nvec4.normalize = function(out, a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2],\n        w = a[3];\n    var len = x*x + y*y + z*z + w*w;\n    if (len > 0) {\n        len = 1 / Math.sqrt(len);\n        out[0] = x * len;\n        out[1] = y * len;\n        out[2] = z * len;\n        out[3] = w * len;\n    }\n    return out;\n};\n\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} dot product of a and b\n */\nvec4.dot = function (a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n};\n\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec4} out\n */\nvec4.lerp = function (out, a, b, t) {\n    var ax = a[0],\n        ay = a[1],\n        az = a[2],\n        aw = a[3];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    out[2] = az + t * (b[2] - az);\n    out[3] = aw + t * (b[3] - aw);\n    return out;\n};\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\nvec4.random = function (out, scale) {\n    scale = scale || 1.0;\n\n    //TODO: This is a pretty awful way of doing this. Find something better.\n    out[0] = glMatrix.RANDOM();\n    out[1] = glMatrix.RANDOM();\n    out[2] = glMatrix.RANDOM();\n    out[3] = glMatrix.RANDOM();\n    vec4.normalize(out, out);\n    vec4.scale(out, out, scale);\n    return out;\n};\n\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec4} out\n */\nvec4.transformMat4 = function(out, a, m) {\n    var x = a[0], y = a[1], z = a[2], w = a[3];\n    out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n    out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n    out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n    out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n    return out;\n};\n\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec4} out\n */\nvec4.transformQuat = function(out, a, q) {\n    var x = a[0], y = a[1], z = a[2],\n        qx = q[0], qy = q[1], qz = q[2], qw = q[3],\n\n        // calculate quat * vec\n        ix = qw * x + qy * z - qz * y,\n        iy = qw * y + qz * x - qx * z,\n        iz = qw * z + qx * y - qy * x,\n        iw = -qx * x - qy * y - qz * z;\n\n    // calculate result * inverse quat\n    out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n    out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n    out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n    out[3] = a[3];\n    return out;\n};\n\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nvec4.forEach = (function() {\n    var vec = vec4.create();\n\n    return function(a, stride, offset, count, fn, arg) {\n        var i, l;\n        if(!stride) {\n            stride = 4;\n        }\n\n        if(!offset) {\n            offset = 0;\n        }\n        \n        if(count) {\n            l = Math.min((count * stride) + offset, a.length);\n        } else {\n            l = a.length;\n        }\n\n        for(i = offset; i < l; i += stride) {\n            vec[0] = a[i]; vec[1] = a[i+1]; vec[2] = a[i+2]; vec[3] = a[i+3];\n            fn(vec, vec, arg);\n            a[i] = vec[0]; a[i+1] = vec[1]; a[i+2] = vec[2]; a[i+3] = vec[3];\n        }\n        \n        return a;\n    };\n})();\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec4} vec vector to represent as a string\n * @returns {String} string representation of the vector\n */\nvec4.str = function (a) {\n    return 'vec4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n};\n\nmodule.exports = vec4;\n","// vim:ts=4:sts=4:sw=4:\n/*!\n *\n * Copyright 2009-2012 Kris Kowal under the terms of the MIT\n * license found at http://github.com/kriskowal/q/raw/master/LICENSE\n *\n * With parts by Tyler Close\n * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\n * at http://www.opensource.org/licenses/mit-license.html\n * Forked at ref_send.js version: 2009-05-11\n *\n * With parts by Mark Miller\n * Copyright (C) 2011 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n(function (definition) {\n    \"use strict\";\n\n    // This file will function properly as a <script> tag, or a module\n    // using CommonJS and NodeJS or RequireJS module formats.  In\n    // Common/Node/RequireJS, the module exports the Q API and when\n    // executed as a simple <script>, it creates a Q global instead.\n\n    // Montage Require\n    if (typeof bootstrap === \"function\") {\n        bootstrap(\"promise\", definition);\n\n    // CommonJS\n    } else if (typeof exports === \"object\" && typeof module === \"object\") {\n        module.exports = definition();\n\n    // RequireJS\n    } else if (typeof define === \"function\" && define.amd) {\n        define(definition);\n\n    // SES (Secure EcmaScript)\n    } else if (typeof ses !== \"undefined\") {\n        if (!ses.ok()) {\n            return;\n        } else {\n            ses.makeQ = definition;\n        }\n\n    // <script>\n    } else if (typeof window !== \"undefined\" || typeof self !== \"undefined\") {\n        // Prefer window over self for add-on scripts. Use self for\n        // non-windowed contexts.\n        var global = typeof window !== \"undefined\" ? window : self;\n\n        // Get the `window` object, save the previous Q global\n        // and initialize Q as a global.\n        var previousQ = global.Q;\n        global.Q = definition();\n\n        // Add a noConflict function so Q can be removed from the\n        // global namespace.\n        global.Q.noConflict = function () {\n            global.Q = previousQ;\n            return this;\n        };\n\n    } else {\n        throw new Error(\"This environment was not anticipated by Q. Please file a bug.\");\n    }\n\n})(function () {\n\"use strict\";\n\nvar hasStacks = false;\ntry {\n    throw new Error();\n} catch (e) {\n    hasStacks = !!e.stack;\n}\n\n// All code after this point will be filtered from stack traces reported\n// by Q.\nvar qStartingLine = captureLine();\nvar qFileName;\n\n// shims\n\n// used for fallback in \"allResolved\"\nvar noop = function () {};\n\n// Use the fastest possible means to execute a task in a future turn\n// of the event loop.\nvar nextTick =(function () {\n    // linked list of tasks (single, with head node)\n    var head = {task: void 0, next: null};\n    var tail = head;\n    var flushing = false;\n    var requestTick = void 0;\n    var isNodeJS = false;\n    // queue for late tasks, used by unhandled rejection tracking\n    var laterQueue = [];\n\n    function flush() {\n        /* jshint loopfunc: true */\n        var task, domain;\n\n        while (head.next) {\n            head = head.next;\n            task = head.task;\n            head.task = void 0;\n            domain = head.domain;\n\n            if (domain) {\n                head.domain = void 0;\n                domain.enter();\n            }\n            runSingle(task, domain);\n\n        }\n        while (laterQueue.length) {\n            task = laterQueue.pop();\n            runSingle(task);\n        }\n        flushing = false;\n    }\n    // runs a single function in the async queue\n    function runSingle(task, domain) {\n        try {\n            task();\n\n        } catch (e) {\n            if (isNodeJS) {\n                // In node, uncaught exceptions are considered fatal errors.\n                // Re-throw them synchronously to interrupt flushing!\n\n                // Ensure continuation if the uncaught exception is suppressed\n                // listening \"uncaughtException\" events (as domains does).\n                // Continue in next event to avoid tick recursion.\n                if (domain) {\n                    domain.exit();\n                }\n                setTimeout(flush, 0);\n                if (domain) {\n                    domain.enter();\n                }\n\n                throw e;\n\n            } else {\n                // In browsers, uncaught exceptions are not fatal.\n                // Re-throw them asynchronously to avoid slow-downs.\n                setTimeout(function () {\n                    throw e;\n                }, 0);\n            }\n        }\n\n        if (domain) {\n            domain.exit();\n        }\n    }\n\n    nextTick = function (task) {\n        tail = tail.next = {\n            task: task,\n            domain: isNodeJS && process.domain,\n            next: null\n        };\n\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n\n    if (typeof process === \"object\" &&\n        process.toString() === \"[object process]\" && process.nextTick) {\n        // Ensure Q is in a real Node environment, with a `process.nextTick`.\n        // To see through fake Node environments:\n        // * Mocha test runner - exposes a `process` global without a `nextTick`\n        // * Browserify - exposes a `process.nexTick` function that uses\n        //   `setTimeout`. In this case `setImmediate` is preferred because\n        //    it is faster. Browserify's `process.toString()` yields\n        //   \"[object Object]\", while in a real Node environment\n        //   `process.nextTick()` yields \"[object process]\".\n        isNodeJS = true;\n\n        requestTick = function () {\n            process.nextTick(flush);\n        };\n\n    } else if (typeof setImmediate === \"function\") {\n        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\n        if (typeof window !== \"undefined\") {\n            requestTick = setImmediate.bind(window, flush);\n        } else {\n            requestTick = function () {\n                setImmediate(flush);\n            };\n        }\n\n    } else if (typeof MessageChannel !== \"undefined\") {\n        // modern browsers\n        // http://www.nonblocking.io/2011/06/windownexttick.html\n        var channel = new MessageChannel();\n        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create\n        // working message ports the first time a page loads.\n        channel.port1.onmessage = function () {\n            requestTick = requestPortTick;\n            channel.port1.onmessage = flush;\n            flush();\n        };\n        var requestPortTick = function () {\n            // Opera requires us to provide a message payload, regardless of\n            // whether we use it.\n            channel.port2.postMessage(0);\n        };\n        requestTick = function () {\n            setTimeout(flush, 0);\n            requestPortTick();\n        };\n\n    } else {\n        // old browsers\n        requestTick = function () {\n            setTimeout(flush, 0);\n        };\n    }\n    // runs a task after all other tasks have been run\n    // this is useful for unhandled rejection tracking that needs to happen\n    // after all `then`d tasks have been run.\n    nextTick.runAfter = function (task) {\n        laterQueue.push(task);\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n    return nextTick;\n})();\n\n// Attempt to make generics safe in the face of downstream\n// modifications.\n// There is no situation where this is necessary.\n// If you need a security guarantee, these primordials need to be\n// deeply frozen anyway, and if you dont need a security guarantee,\n// this is just plain paranoid.\n// However, this **might** have the nice side-effect of reducing the size of\n// the minified code by reducing x.call() to merely x()\n// See Mark Millers explanation of what this does.\n// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming\nvar call = Function.call;\nfunction uncurryThis(f) {\n    return function () {\n        return call.apply(f, arguments);\n    };\n}\n// This is equivalent, but slower:\n// uncurryThis = Function_bind.bind(Function_bind.call);\n// http://jsperf.com/uncurrythis\n\nvar array_slice = uncurryThis(Array.prototype.slice);\n\nvar array_reduce = uncurryThis(\n    Array.prototype.reduce || function (callback, basis) {\n        var index = 0,\n            length = this.length;\n        // concerning the initial value, if one is not provided\n        if (arguments.length === 1) {\n            // seek to the first value in the array, accounting\n            // for the possibility that is is a sparse array\n            do {\n                if (index in this) {\n                    basis = this[index++];\n                    break;\n                }\n                if (++index >= length) {\n                    throw new TypeError();\n                }\n            } while (1);\n        }\n        // reduce\n        for (; index < length; index++) {\n            // account for the possibility that the array is sparse\n            if (index in this) {\n                basis = callback(basis, this[index], index);\n            }\n        }\n        return basis;\n    }\n);\n\nvar array_indexOf = uncurryThis(\n    Array.prototype.indexOf || function (value) {\n        // not a very good shim, but good enough for our one use of it\n        for (var i = 0; i < this.length; i++) {\n            if (this[i] === value) {\n                return i;\n            }\n        }\n        return -1;\n    }\n);\n\nvar array_map = uncurryThis(\n    Array.prototype.map || function (callback, thisp) {\n        var self = this;\n        var collect = [];\n        array_reduce(self, function (undefined, value, index) {\n            collect.push(callback.call(thisp, value, index, self));\n        }, void 0);\n        return collect;\n    }\n);\n\nvar object_create = Object.create || function (prototype) {\n    function Type() { }\n    Type.prototype = prototype;\n    return new Type();\n};\n\nvar object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\n\nvar object_keys = Object.keys || function (object) {\n    var keys = [];\n    for (var key in object) {\n        if (object_hasOwnProperty(object, key)) {\n            keys.push(key);\n        }\n    }\n    return keys;\n};\n\nvar object_toString = uncurryThis(Object.prototype.toString);\n\nfunction isObject(value) {\n    return value === Object(value);\n}\n\n// generator related shims\n\n// FIXME: Remove this function once ES6 generators are in SpiderMonkey.\nfunction isStopIteration(exception) {\n    return (\n        object_toString(exception) === \"[object StopIteration]\" ||\n        exception instanceof QReturnValue\n    );\n}\n\n// FIXME: Remove this helper and Q.return once ES6 generators are in\n// SpiderMonkey.\nvar QReturnValue;\nif (typeof ReturnValue !== \"undefined\") {\n    QReturnValue = ReturnValue;\n} else {\n    QReturnValue = function (value) {\n        this.value = value;\n    };\n}\n\n// long stack traces\n\nvar STACK_JUMP_SEPARATOR = \"From previous event:\";\n\nfunction makeStackTraceLong(error, promise) {\n    // If possible, transform the error stack trace by removing Node and Q\n    // cruft, then concatenating with the stack trace of `promise`. See #57.\n    if (hasStacks &&\n        promise.stack &&\n        typeof error === \"object\" &&\n        error !== null &&\n        error.stack &&\n        error.stack.indexOf(STACK_JUMP_SEPARATOR) === -1\n    ) {\n        var stacks = [];\n        for (var p = promise; !!p; p = p.source) {\n            if (p.stack) {\n                stacks.unshift(p.stack);\n            }\n        }\n        stacks.unshift(error.stack);\n\n        var concatedStacks = stacks.join(\"\\n\" + STACK_JUMP_SEPARATOR + \"\\n\");\n        error.stack = filterStackString(concatedStacks);\n    }\n}\n\nfunction filterStackString(stackString) {\n    var lines = stackString.split(\"\\n\");\n    var desiredLines = [];\n    for (var i = 0; i < lines.length; ++i) {\n        var line = lines[i];\n\n        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {\n            desiredLines.push(line);\n        }\n    }\n    return desiredLines.join(\"\\n\");\n}\n\nfunction isNodeFrame(stackLine) {\n    return stackLine.indexOf(\"(module.js:\") !== -1 ||\n           stackLine.indexOf(\"(node.js:\") !== -1;\n}\n\nfunction getFileNameAndLineNumber(stackLine) {\n    // Named functions: \"at functionName (filename:lineNumber:columnNumber)\"\n    // In IE10 function name can have spaces (\"Anonymous function\") O_o\n    var attempt1 = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(stackLine);\n    if (attempt1) {\n        return [attempt1[1], Number(attempt1[2])];\n    }\n\n    // Anonymous functions: \"at filename:lineNumber:columnNumber\"\n    var attempt2 = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(stackLine);\n    if (attempt2) {\n        return [attempt2[1], Number(attempt2[2])];\n    }\n\n    // Firefox style: \"function@filename:lineNumber or @filename:lineNumber\"\n    var attempt3 = /.*@(.+):(\\d+)$/.exec(stackLine);\n    if (attempt3) {\n        return [attempt3[1], Number(attempt3[2])];\n    }\n}\n\nfunction isInternalFrame(stackLine) {\n    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);\n\n    if (!fileNameAndLineNumber) {\n        return false;\n    }\n\n    var fileName = fileNameAndLineNumber[0];\n    var lineNumber = fileNameAndLineNumber[1];\n\n    return fileName === qFileName &&\n        lineNumber >= qStartingLine &&\n        lineNumber <= qEndingLine;\n}\n\n// discover own file name and line number range for filtering stack\n// traces\nfunction captureLine() {\n    if (!hasStacks) {\n        return;\n    }\n\n    try {\n        throw new Error();\n    } catch (e) {\n        var lines = e.stack.split(\"\\n\");\n        var firstLine = lines[0].indexOf(\"@\") > 0 ? lines[1] : lines[2];\n        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);\n        if (!fileNameAndLineNumber) {\n            return;\n        }\n\n        qFileName = fileNameAndLineNumber[0];\n        return fileNameAndLineNumber[1];\n    }\n}\n\nfunction deprecate(callback, name, alternative) {\n    return function () {\n        if (typeof console !== \"undefined\" &&\n            typeof console.warn === \"function\") {\n            console.warn(name + \" is deprecated, use \" + alternative +\n                         \" instead.\", new Error(\"\").stack);\n        }\n        return callback.apply(callback, arguments);\n    };\n}\n\n// end of shims\n// beginning of real work\n\n/**\n * Constructs a promise for an immediate reference, passes promises through, or\n * coerces promises from different systems.\n * @param value immediate reference or promise\n */\nfunction Q(value) {\n    // If the object is already a Promise, return it directly.  This enables\n    // the resolve function to both be used to created references from objects,\n    // but to tolerably coerce non-promises to promises.\n    if (value instanceof Promise) {\n        return value;\n    }\n\n    // assimilate thenables\n    if (isPromiseAlike(value)) {\n        return coerce(value);\n    } else {\n        return fulfill(value);\n    }\n}\nQ.resolve = Q;\n\n/**\n * Performs a task in a future turn of the event loop.\n * @param {Function} task\n */\nQ.nextTick = nextTick;\n\n/**\n * Controls whether or not long stack traces will be on\n */\nQ.longStackSupport = false;\n\n// enable long stacks if Q_DEBUG is set\nif (typeof process === \"object\" && process && process.env && process.env.Q_DEBUG) {\n    Q.longStackSupport = true;\n}\n\n/**\n * Constructs a {promise, resolve, reject} object.\n *\n * `resolve` is a callback to invoke with a more resolved value for the\n * promise. To fulfill the promise, invoke `resolve` with any value that is\n * not a thenable. To reject the promise, invoke `resolve` with a rejected\n * thenable, or invoke `reject` with the reason directly. To resolve the\n * promise to another thenable, thus putting it in the same state, invoke\n * `resolve` with that other thenable.\n */\nQ.defer = defer;\nfunction defer() {\n    // if \"messages\" is an \"Array\", that indicates that the promise has not yet\n    // been resolved.  If it is \"undefined\", it has been resolved.  Each\n    // element of the messages array is itself an array of complete arguments to\n    // forward to the resolved promise.  We coerce the resolution value to a\n    // promise using the `resolve` function because it handles both fully\n    // non-thenable values and other thenables gracefully.\n    var messages = [], progressListeners = [], resolvedPromise;\n\n    var deferred = object_create(defer.prototype);\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, operands) {\n        var args = array_slice(arguments);\n        if (messages) {\n            messages.push(args);\n            if (op === \"when\" && operands[1]) { // progress operand\n                progressListeners.push(operands[1]);\n            }\n        } else {\n            Q.nextTick(function () {\n                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);\n            });\n        }\n    };\n\n    // XXX deprecated\n    promise.valueOf = function () {\n        if (messages) {\n            return promise;\n        }\n        var nearerValue = nearer(resolvedPromise);\n        if (isPromise(nearerValue)) {\n            resolvedPromise = nearerValue; // shorten chain\n        }\n        return nearerValue;\n    };\n\n    promise.inspect = function () {\n        if (!resolvedPromise) {\n            return { state: \"pending\" };\n        }\n        return resolvedPromise.inspect();\n    };\n\n    if (Q.longStackSupport && hasStacks) {\n        try {\n            throw new Error();\n        } catch (e) {\n            // NOTE: don't try to use `Error.captureStackTrace` or transfer the\n            // accessor around; that causes memory leaks as per GH-111. Just\n            // reify the stack trace as a string ASAP.\n            //\n            // At the same time, cut off the first line; it's always just\n            // \"[object Promise]\\n\", as per the `toString`.\n            promise.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);\n        }\n    }\n\n    // NOTE: we do the checks for `resolvedPromise` in each method, instead of\n    // consolidating them into `become`, since otherwise we'd create new\n    // promises with the lines `become(whatever(value))`. See e.g. GH-252.\n\n    function become(newPromise) {\n        resolvedPromise = newPromise;\n        promise.source = newPromise;\n\n        array_reduce(messages, function (undefined, message) {\n            Q.nextTick(function () {\n                newPromise.promiseDispatch.apply(newPromise, message);\n            });\n        }, void 0);\n\n        messages = void 0;\n        progressListeners = void 0;\n    }\n\n    deferred.promise = promise;\n    deferred.resolve = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(Q(value));\n    };\n\n    deferred.fulfill = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(fulfill(value));\n    };\n    deferred.reject = function (reason) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(reject(reason));\n    };\n    deferred.notify = function (progress) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        array_reduce(progressListeners, function (undefined, progressListener) {\n            Q.nextTick(function () {\n                progressListener(progress);\n            });\n        }, void 0);\n    };\n\n    return deferred;\n}\n\n/**\n * Creates a Node-style callback that will resolve or reject the deferred\n * promise.\n * @returns a nodeback\n */\ndefer.prototype.makeNodeResolver = function () {\n    var self = this;\n    return function (error, value) {\n        if (error) {\n            self.reject(error);\n        } else if (arguments.length > 2) {\n            self.resolve(array_slice(arguments, 1));\n        } else {\n            self.resolve(value);\n        }\n    };\n};\n\n/**\n * @param resolver {Function} a function that returns nothing and accepts\n * the resolve, reject, and notify functions for a deferred.\n * @returns a promise that may be resolved with the given resolve and reject\n * functions, or rejected by a thrown exception in resolver\n */\nQ.Promise = promise; // ES6\nQ.promise = promise;\nfunction promise(resolver) {\n    if (typeof resolver !== \"function\") {\n        throw new TypeError(\"resolver must be a function.\");\n    }\n    var deferred = defer();\n    try {\n        resolver(deferred.resolve, deferred.reject, deferred.notify);\n    } catch (reason) {\n        deferred.reject(reason);\n    }\n    return deferred.promise;\n}\n\npromise.race = race; // ES6\npromise.all = all; // ES6\npromise.reject = reject; // ES6\npromise.resolve = Q; // ES6\n\n// XXX experimental.  This method is a way to denote that a local value is\n// serializable and should be immediately dispatched to a remote upon request,\n// instead of passing a reference.\nQ.passByCopy = function (object) {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return object;\n};\n\nPromise.prototype.passByCopy = function () {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return this;\n};\n\n/**\n * If two promises eventually fulfill to the same value, promises that value,\n * but otherwise rejects.\n * @param x {Any*}\n * @param y {Any*}\n * @returns {Any*} a promise for x and y if they are the same, but a rejection\n * otherwise.\n *\n */\nQ.join = function (x, y) {\n    return Q(x).join(y);\n};\n\nPromise.prototype.join = function (that) {\n    return Q([this, that]).spread(function (x, y) {\n        if (x === y) {\n            // TODO: \"===\" should be Object.is or equiv\n            return x;\n        } else {\n            throw new Error(\"Can't join: not the same: \" + x + \" \" + y);\n        }\n    });\n};\n\n/**\n * Returns a promise for the first of an array of promises to become settled.\n * @param answers {Array[Any*]} promises to race\n * @returns {Any*} the first promise to be settled\n */\nQ.race = race;\nfunction race(answerPs) {\n    return promise(function (resolve, reject) {\n        // Switch to this once we can assume at least ES5\n        // answerPs.forEach(function (answerP) {\n        //     Q(answerP).then(resolve, reject);\n        // });\n        // Use this in the meantime\n        for (var i = 0, len = answerPs.length; i < len; i++) {\n            Q(answerPs[i]).then(resolve, reject);\n        }\n    });\n}\n\nPromise.prototype.race = function () {\n    return this.then(Q.race);\n};\n\n/**\n * Constructs a Promise with a promise descriptor object and optional fallback\n * function.  The descriptor contains methods like when(rejected), get(name),\n * set(name, value), post(name, args), and delete(name), which all\n * return either a value, a promise for a value, or a rejection.  The fallback\n * accepts the operation name, a resolver, and any further arguments that would\n * have been forwarded to the appropriate method above had a method been\n * provided with the proper name.  The API makes no guarantees about the nature\n * of the returned object, apart from that it is usable whereever promises are\n * bought and sold.\n */\nQ.makePromise = Promise;\nfunction Promise(descriptor, fallback, inspect) {\n    if (fallback === void 0) {\n        fallback = function (op) {\n            return reject(new Error(\n                \"Promise does not support operation: \" + op\n            ));\n        };\n    }\n    if (inspect === void 0) {\n        inspect = function () {\n            return {state: \"unknown\"};\n        };\n    }\n\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, args) {\n        var result;\n        try {\n            if (descriptor[op]) {\n                result = descriptor[op].apply(promise, args);\n            } else {\n                result = fallback.call(promise, op, args);\n            }\n        } catch (exception) {\n            result = reject(exception);\n        }\n        if (resolve) {\n            resolve(result);\n        }\n    };\n\n    promise.inspect = inspect;\n\n    // XXX deprecated `valueOf` and `exception` support\n    if (inspect) {\n        var inspected = inspect();\n        if (inspected.state === \"rejected\") {\n            promise.exception = inspected.reason;\n        }\n\n        promise.valueOf = function () {\n            var inspected = inspect();\n            if (inspected.state === \"pending\" ||\n                inspected.state === \"rejected\") {\n                return promise;\n            }\n            return inspected.value;\n        };\n    }\n\n    return promise;\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.then = function (fulfilled, rejected, progressed) {\n    var self = this;\n    var deferred = defer();\n    var done = false;   // ensure the untrusted promise makes at most a\n                        // single call to one of the callbacks\n\n    function _fulfilled(value) {\n        try {\n            return typeof fulfilled === \"function\" ? fulfilled(value) : value;\n        } catch (exception) {\n            return reject(exception);\n        }\n    }\n\n    function _rejected(exception) {\n        if (typeof rejected === \"function\") {\n            makeStackTraceLong(exception, self);\n            try {\n                return rejected(exception);\n            } catch (newException) {\n                return reject(newException);\n            }\n        }\n        return reject(exception);\n    }\n\n    function _progressed(value) {\n        return typeof progressed === \"function\" ? progressed(value) : value;\n    }\n\n    Q.nextTick(function () {\n        self.promiseDispatch(function (value) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_fulfilled(value));\n        }, \"when\", [function (exception) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_rejected(exception));\n        }]);\n    });\n\n    // Progress propagator need to be attached in the current tick.\n    self.promiseDispatch(void 0, \"when\", [void 0, function (value) {\n        var newValue;\n        var threw = false;\n        try {\n            newValue = _progressed(value);\n        } catch (e) {\n            threw = true;\n            if (Q.onerror) {\n                Q.onerror(e);\n            } else {\n                throw e;\n            }\n        }\n\n        if (!threw) {\n            deferred.notify(newValue);\n        }\n    }]);\n\n    return deferred.promise;\n};\n\nQ.tap = function (promise, callback) {\n    return Q(promise).tap(callback);\n};\n\n/**\n * Works almost like \"finally\", but not called for rejections.\n * Original resolution value is passed through callback unaffected.\n * Callback may return a promise that will be awaited for.\n * @param {Function} callback\n * @returns {Q.Promise}\n * @example\n * doSomething()\n *   .then(...)\n *   .tap(console.log)\n *   .then(...);\n */\nPromise.prototype.tap = function (callback) {\n    callback = Q(callback);\n\n    return this.then(function (value) {\n        return callback.fcall(value).thenResolve(value);\n    });\n};\n\n/**\n * Registers an observer on a promise.\n *\n * Guarantees:\n *\n * 1. that fulfilled and rejected will be called only once.\n * 2. that either the fulfilled callback or the rejected callback will be\n *    called, but not both.\n * 3. that fulfilled and rejected will not be called in this turn.\n *\n * @param value      promise or immediate reference to observe\n * @param fulfilled  function to be called with the fulfilled value\n * @param rejected   function to be called with the rejection exception\n * @param progressed function to be called on any progress notifications\n * @return promise for the return value from the invoked callback\n */\nQ.when = when;\nfunction when(value, fulfilled, rejected, progressed) {\n    return Q(value).then(fulfilled, rejected, progressed);\n}\n\nPromise.prototype.thenResolve = function (value) {\n    return this.then(function () { return value; });\n};\n\nQ.thenResolve = function (promise, value) {\n    return Q(promise).thenResolve(value);\n};\n\nPromise.prototype.thenReject = function (reason) {\n    return this.then(function () { throw reason; });\n};\n\nQ.thenReject = function (promise, reason) {\n    return Q(promise).thenReject(reason);\n};\n\n/**\n * If an object is not a promise, it is as \"near\" as possible.\n * If a promise is rejected, it is as \"near\" as possible too.\n * If its a fulfilled promise, the fulfillment value is nearer.\n * If its a deferred promise and the deferred has been resolved, the\n * resolution is \"nearer\".\n * @param object\n * @returns most resolved (nearest) form of the object\n */\n\n// XXX should we re-do this?\nQ.nearer = nearer;\nfunction nearer(value) {\n    if (isPromise(value)) {\n        var inspected = value.inspect();\n        if (inspected.state === \"fulfilled\") {\n            return inspected.value;\n        }\n    }\n    return value;\n}\n\n/**\n * @returns whether the given object is a promise.\n * Otherwise it is a fulfilled value.\n */\nQ.isPromise = isPromise;\nfunction isPromise(object) {\n    return object instanceof Promise;\n}\n\nQ.isPromiseAlike = isPromiseAlike;\nfunction isPromiseAlike(object) {\n    return isObject(object) && typeof object.then === \"function\";\n}\n\n/**\n * @returns whether the given object is a pending promise, meaning not\n * fulfilled or rejected.\n */\nQ.isPending = isPending;\nfunction isPending(object) {\n    return isPromise(object) && object.inspect().state === \"pending\";\n}\n\nPromise.prototype.isPending = function () {\n    return this.inspect().state === \"pending\";\n};\n\n/**\n * @returns whether the given object is a value or fulfilled\n * promise.\n */\nQ.isFulfilled = isFulfilled;\nfunction isFulfilled(object) {\n    return !isPromise(object) || object.inspect().state === \"fulfilled\";\n}\n\nPromise.prototype.isFulfilled = function () {\n    return this.inspect().state === \"fulfilled\";\n};\n\n/**\n * @returns whether the given object is a rejected promise.\n */\nQ.isRejected = isRejected;\nfunction isRejected(object) {\n    return isPromise(object) && object.inspect().state === \"rejected\";\n}\n\nPromise.prototype.isRejected = function () {\n    return this.inspect().state === \"rejected\";\n};\n\n//// BEGIN UNHANDLED REJECTION TRACKING\n\n// This promise library consumes exceptions thrown in handlers so they can be\n// handled by a subsequent promise.  The exceptions get added to this array when\n// they are created, and removed when they are handled.  Note that in ES6 or\n// shimmed environments, this would naturally be a `Set`.\nvar unhandledReasons = [];\nvar unhandledRejections = [];\nvar reportedUnhandledRejections = [];\nvar trackUnhandledRejections = true;\n\nfunction resetUnhandledRejections() {\n    unhandledReasons.length = 0;\n    unhandledRejections.length = 0;\n\n    if (!trackUnhandledRejections) {\n        trackUnhandledRejections = true;\n    }\n}\n\nfunction trackRejection(promise, reason) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n    if (typeof process === \"object\" && typeof process.emit === \"function\") {\n        Q.nextTick.runAfter(function () {\n            if (array_indexOf(unhandledRejections, promise) !== -1) {\n                process.emit(\"unhandledRejection\", reason, promise);\n                reportedUnhandledRejections.push(promise);\n            }\n        });\n    }\n\n    unhandledRejections.push(promise);\n    if (reason && typeof reason.stack !== \"undefined\") {\n        unhandledReasons.push(reason.stack);\n    } else {\n        unhandledReasons.push(\"(no stack) \" + reason);\n    }\n}\n\nfunction untrackRejection(promise) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    var at = array_indexOf(unhandledRejections, promise);\n    if (at !== -1) {\n        if (typeof process === \"object\" && typeof process.emit === \"function\") {\n            Q.nextTick.runAfter(function () {\n                var atReport = array_indexOf(reportedUnhandledRejections, promise);\n                if (atReport !== -1) {\n                    process.emit(\"rejectionHandled\", unhandledReasons[at], promise);\n                    reportedUnhandledRejections.splice(atReport, 1);\n                }\n            });\n        }\n        unhandledRejections.splice(at, 1);\n        unhandledReasons.splice(at, 1);\n    }\n}\n\nQ.resetUnhandledRejections = resetUnhandledRejections;\n\nQ.getUnhandledReasons = function () {\n    // Make a copy so that consumers can't interfere with our internal state.\n    return unhandledReasons.slice();\n};\n\nQ.stopUnhandledRejectionTracking = function () {\n    resetUnhandledRejections();\n    trackUnhandledRejections = false;\n};\n\nresetUnhandledRejections();\n\n//// END UNHANDLED REJECTION TRACKING\n\n/**\n * Constructs a rejected promise.\n * @param reason value describing the failure\n */\nQ.reject = reject;\nfunction reject(reason) {\n    var rejection = Promise({\n        \"when\": function (rejected) {\n            // note that the error has been handled\n            if (rejected) {\n                untrackRejection(this);\n            }\n            return rejected ? rejected(reason) : this;\n        }\n    }, function fallback() {\n        return this;\n    }, function inspect() {\n        return { state: \"rejected\", reason: reason };\n    });\n\n    // Note that the reason has not been handled.\n    trackRejection(rejection, reason);\n\n    return rejection;\n}\n\n/**\n * Constructs a fulfilled promise for an immediate reference.\n * @param value immediate reference\n */\nQ.fulfill = fulfill;\nfunction fulfill(value) {\n    return Promise({\n        \"when\": function () {\n            return value;\n        },\n        \"get\": function (name) {\n            return value[name];\n        },\n        \"set\": function (name, rhs) {\n            value[name] = rhs;\n        },\n        \"delete\": function (name) {\n            delete value[name];\n        },\n        \"post\": function (name, args) {\n            // Mark Miller proposes that post with no name should apply a\n            // promised function.\n            if (name === null || name === void 0) {\n                return value.apply(void 0, args);\n            } else {\n                return value[name].apply(value, args);\n            }\n        },\n        \"apply\": function (thisp, args) {\n            return value.apply(thisp, args);\n        },\n        \"keys\": function () {\n            return object_keys(value);\n        }\n    }, void 0, function inspect() {\n        return { state: \"fulfilled\", value: value };\n    });\n}\n\n/**\n * Converts thenables to Q promises.\n * @param promise thenable promise\n * @returns a Q promise\n */\nfunction coerce(promise) {\n    var deferred = defer();\n    Q.nextTick(function () {\n        try {\n            promise.then(deferred.resolve, deferred.reject, deferred.notify);\n        } catch (exception) {\n            deferred.reject(exception);\n        }\n    });\n    return deferred.promise;\n}\n\n/**\n * Annotates an object such that it will never be\n * transferred away from this process over any promise\n * communication channel.\n * @param object\n * @returns promise a wrapping of that object that\n * additionally responds to the \"isDef\" message\n * without a rejection.\n */\nQ.master = master;\nfunction master(object) {\n    return Promise({\n        \"isDef\": function () {}\n    }, function fallback(op, args) {\n        return dispatch(object, op, args);\n    }, function () {\n        return Q(object).inspect();\n    });\n}\n\n/**\n * Spreads the values of a promised array of arguments into the\n * fulfillment callback.\n * @param fulfilled callback that receives variadic arguments from the\n * promised array\n * @param rejected callback that receives the exception if the promise\n * is rejected.\n * @returns a promise for the return value or thrown exception of\n * either callback.\n */\nQ.spread = spread;\nfunction spread(value, fulfilled, rejected) {\n    return Q(value).spread(fulfilled, rejected);\n}\n\nPromise.prototype.spread = function (fulfilled, rejected) {\n    return this.all().then(function (array) {\n        return fulfilled.apply(void 0, array);\n    }, rejected);\n};\n\n/**\n * The async function is a decorator for generator functions, turning\n * them into asynchronous generators.  Although generators are only part\n * of the newest ECMAScript 6 drafts, this code does not cause syntax\n * errors in older engines.  This code should continue to work and will\n * in fact improve over time as the language improves.\n *\n * ES6 generators are currently part of V8 version 3.19 with the\n * --harmony-generators runtime flag enabled.  SpiderMonkey has had them\n * for longer, but under an older Python-inspired form.  This function\n * works on both kinds of generators.\n *\n * Decorates a generator function such that:\n *  - it may yield promises\n *  - execution will continue when that promise is fulfilled\n *  - the value of the yield expression will be the fulfilled value\n *  - it returns a promise for the return value (when the generator\n *    stops iterating)\n *  - the decorated function returns a promise for the return value\n *    of the generator or the first rejected promise among those\n *    yielded.\n *  - if an error is thrown in the generator, it propagates through\n *    every following yield until it is caught, or until it escapes\n *    the generator function altogether, and is translated into a\n *    rejection for the promise returned by the decorated generator.\n */\nQ.async = async;\nfunction async(makeGenerator) {\n    return function () {\n        // when verb is \"send\", arg is a value\n        // when verb is \"throw\", arg is an exception\n        function continuer(verb, arg) {\n            var result;\n\n            // Until V8 3.19 / Chromium 29 is released, SpiderMonkey is the only\n            // engine that has a deployed base of browsers that support generators.\n            // However, SM's generators use the Python-inspired semantics of\n            // outdated ES6 drafts.  We would like to support ES6, but we'd also\n            // like to make it possible to use generators in deployed browsers, so\n            // we also support Python-style generators.  At some point we can remove\n            // this block.\n\n            if (typeof StopIteration === \"undefined\") {\n                // ES6 Generators\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    return reject(exception);\n                }\n                if (result.done) {\n                    return Q(result.value);\n                } else {\n                    return when(result.value, callback, errback);\n                }\n            } else {\n                // SpiderMonkey Generators\n                // FIXME: Remove this case when SM does ES6 generators.\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    if (isStopIteration(exception)) {\n                        return Q(exception.value);\n                    } else {\n                        return reject(exception);\n                    }\n                }\n                return when(result, callback, errback);\n            }\n        }\n        var generator = makeGenerator.apply(this, arguments);\n        var callback = continuer.bind(continuer, \"next\");\n        var errback = continuer.bind(continuer, \"throw\");\n        return callback();\n    };\n}\n\n/**\n * The spawn function is a small wrapper around async that immediately\n * calls the generator and also ends the promise chain, so that any\n * unhandled errors are thrown instead of forwarded to the error\n * handler. This is useful because it's extremely common to run\n * generators at the top-level to work with libraries.\n */\nQ.spawn = spawn;\nfunction spawn(makeGenerator) {\n    Q.done(Q.async(makeGenerator)());\n}\n\n// FIXME: Remove this interface once ES6 generators are in SpiderMonkey.\n/**\n * Throws a ReturnValue exception to stop an asynchronous generator.\n *\n * This interface is a stop-gap measure to support generator return\n * values in older Firefox/SpiderMonkey.  In browsers that support ES6\n * generators like Chromium 29, just use \"return\" in your generator\n * functions.\n *\n * @param value the return value for the surrounding generator\n * @throws ReturnValue exception with the value.\n * @example\n * // ES6 style\n * Q.async(function* () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      return foo + bar;\n * })\n * // Older SpiderMonkey style\n * Q.async(function () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      Q.return(foo + bar);\n * })\n */\nQ[\"return\"] = _return;\nfunction _return(value) {\n    throw new QReturnValue(value);\n}\n\n/**\n * The promised function decorator ensures that any promise arguments\n * are settled and passed as values (`this` is also settled and passed\n * as a value).  It will also ensure that the result of a function is\n * always a promise.\n *\n * @example\n * var add = Q.promised(function (a, b) {\n *     return a + b;\n * });\n * add(Q(a), Q(B));\n *\n * @param {function} callback The function to decorate\n * @returns {function} a function that has been decorated.\n */\nQ.promised = promised;\nfunction promised(callback) {\n    return function () {\n        return spread([this, all(arguments)], function (self, args) {\n            return callback.apply(self, args);\n        });\n    };\n}\n\n/**\n * sends a message to a value in a future turn\n * @param object* the recipient\n * @param op the name of the message operation, e.g., \"when\",\n * @param args further arguments to be forwarded to the operation\n * @returns result {Promise} a promise for the result of the operation\n */\nQ.dispatch = dispatch;\nfunction dispatch(object, op, args) {\n    return Q(object).dispatch(op, args);\n}\n\nPromise.prototype.dispatch = function (op, args) {\n    var self = this;\n    var deferred = defer();\n    Q.nextTick(function () {\n        self.promiseDispatch(deferred.resolve, op, args);\n    });\n    return deferred.promise;\n};\n\n/**\n * Gets the value of a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to get\n * @return promise for the property value\n */\nQ.get = function (object, key) {\n    return Q(object).dispatch(\"get\", [key]);\n};\n\nPromise.prototype.get = function (key) {\n    return this.dispatch(\"get\", [key]);\n};\n\n/**\n * Sets the value of a property in a future turn.\n * @param object    promise or immediate reference for object object\n * @param name      name of property to set\n * @param value     new value of property\n * @return promise for the return value\n */\nQ.set = function (object, key, value) {\n    return Q(object).dispatch(\"set\", [key, value]);\n};\n\nPromise.prototype.set = function (key, value) {\n    return this.dispatch(\"set\", [key, value]);\n};\n\n/**\n * Deletes a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to delete\n * @return promise for the return value\n */\nQ.del = // XXX legacy\nQ[\"delete\"] = function (object, key) {\n    return Q(object).dispatch(\"delete\", [key]);\n};\n\nPromise.prototype.del = // XXX legacy\nPromise.prototype[\"delete\"] = function (key) {\n    return this.dispatch(\"delete\", [key]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param value     a value to post, typically an array of\n *                  invocation arguments for promises that\n *                  are ultimately backed with `resolve` values,\n *                  as opposed to those backed with URLs\n *                  wherein the posted value can be any\n *                  JSON serializable object.\n * @return promise for the return value\n */\n// bound locally because it is used by other methods\nQ.mapply = // XXX As proposed by \"Redsandro\"\nQ.post = function (object, name, args) {\n    return Q(object).dispatch(\"post\", [name, args]);\n};\n\nPromise.prototype.mapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.post = function (name, args) {\n    return this.dispatch(\"post\", [name, args]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param ...args   array of invocation arguments\n * @return promise for the return value\n */\nQ.send = // XXX Mark Miller's proposed parlance\nQ.mcall = // XXX As proposed by \"Redsandro\"\nQ.invoke = function (object, name /*...args*/) {\n    return Q(object).dispatch(\"post\", [name, array_slice(arguments, 2)]);\n};\n\nPromise.prototype.send = // XXX Mark Miller's proposed parlance\nPromise.prototype.mcall = // XXX As proposed by \"Redsandro\"\nPromise.prototype.invoke = function (name /*...args*/) {\n    return this.dispatch(\"post\", [name, array_slice(arguments, 1)]);\n};\n\n/**\n * Applies the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param args      array of application arguments\n */\nQ.fapply = function (object, args) {\n    return Q(object).dispatch(\"apply\", [void 0, args]);\n};\n\nPromise.prototype.fapply = function (args) {\n    return this.dispatch(\"apply\", [void 0, args]);\n};\n\n/**\n * Calls the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ[\"try\"] =\nQ.fcall = function (object /* ...args*/) {\n    return Q(object).dispatch(\"apply\", [void 0, array_slice(arguments, 1)]);\n};\n\nPromise.prototype.fcall = function (/*...args*/) {\n    return this.dispatch(\"apply\", [void 0, array_slice(arguments)]);\n};\n\n/**\n * Binds the promised function, transforming return values into a fulfilled\n * promise and thrown errors into a rejected one.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ.fbind = function (object /*...args*/) {\n    var promise = Q(object);\n    var args = array_slice(arguments, 1);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\nPromise.prototype.fbind = function (/*...args*/) {\n    var promise = this;\n    var args = array_slice(arguments);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\n\n/**\n * Requests the names of the owned properties of a promised\n * object in a future turn.\n * @param object    promise or immediate reference for target object\n * @return promise for the keys of the eventually settled object\n */\nQ.keys = function (object) {\n    return Q(object).dispatch(\"keys\", []);\n};\n\nPromise.prototype.keys = function () {\n    return this.dispatch(\"keys\", []);\n};\n\n/**\n * Turns an array of promises into a promise for an array.  If any of\n * the promises gets rejected, the whole array is rejected immediately.\n * @param {Array*} an array (or promise for an array) of values (or\n * promises for values)\n * @returns a promise for an array of the corresponding values\n */\n// By Mark Miller\n// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled\nQ.all = all;\nfunction all(promises) {\n    return when(promises, function (promises) {\n        var pendingCount = 0;\n        var deferred = defer();\n        array_reduce(promises, function (undefined, promise, index) {\n            var snapshot;\n            if (\n                isPromise(promise) &&\n                (snapshot = promise.inspect()).state === \"fulfilled\"\n            ) {\n                promises[index] = snapshot.value;\n            } else {\n                ++pendingCount;\n                when(\n                    promise,\n                    function (value) {\n                        promises[index] = value;\n                        if (--pendingCount === 0) {\n                            deferred.resolve(promises);\n                        }\n                    },\n                    deferred.reject,\n                    function (progress) {\n                        deferred.notify({ index: index, value: progress });\n                    }\n                );\n            }\n        }, void 0);\n        if (pendingCount === 0) {\n            deferred.resolve(promises);\n        }\n        return deferred.promise;\n    });\n}\n\nPromise.prototype.all = function () {\n    return all(this);\n};\n\n/**\n * Returns the first resolved promise of an array. Prior rejected promises are\n * ignored.  Rejects only if all promises are rejected.\n * @param {Array*} an array containing values or promises for values\n * @returns a promise fulfilled with the value of the first resolved promise,\n * or a rejected promise if all promises are rejected.\n */\nQ.any = any;\n\nfunction any(promises) {\n    if (promises.length === 0) {\n        return Q.resolve();\n    }\n\n    var deferred = Q.defer();\n    var pendingCount = 0;\n    array_reduce(promises, function (prev, current, index) {\n        var promise = promises[index];\n\n        pendingCount++;\n\n        when(promise, onFulfilled, onRejected, onProgress);\n        function onFulfilled(result) {\n            deferred.resolve(result);\n        }\n        function onRejected() {\n            pendingCount--;\n            if (pendingCount === 0) {\n                deferred.reject(new Error(\n                    \"Can't get fulfillment value from any promise, all \" +\n                    \"promises were rejected.\"\n                ));\n            }\n        }\n        function onProgress(progress) {\n            deferred.notify({\n                index: index,\n                value: progress\n            });\n        }\n    }, undefined);\n\n    return deferred.promise;\n}\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n/**\n * Waits for all promises to be settled, either fulfilled or\n * rejected.  This is distinct from `all` since that would stop\n * waiting at the first rejection.  The promise returned by\n * `allResolved` will never be rejected.\n * @param promises a promise for an array (or an array) of promises\n * (or values)\n * @return a promise for an array of promises\n */\nQ.allResolved = deprecate(allResolved, \"allResolved\", \"allSettled\");\nfunction allResolved(promises) {\n    return when(promises, function (promises) {\n        promises = array_map(promises, Q);\n        return when(all(array_map(promises, function (promise) {\n            return when(promise, noop, noop);\n        })), function () {\n            return promises;\n        });\n    });\n}\n\nPromise.prototype.allResolved = function () {\n    return allResolved(this);\n};\n\n/**\n * @see Promise#allSettled\n */\nQ.allSettled = allSettled;\nfunction allSettled(promises) {\n    return Q(promises).allSettled();\n}\n\n/**\n * Turns an array of promises into a promise for an array of their states (as\n * returned by `inspect`) when they have all settled.\n * @param {Array[Any*]} values an array (or promise for an array) of values (or\n * promises for values)\n * @returns {Array[State]} an array of states for the respective values.\n */\nPromise.prototype.allSettled = function () {\n    return this.then(function (promises) {\n        return all(array_map(promises, function (promise) {\n            promise = Q(promise);\n            function regardless() {\n                return promise.inspect();\n            }\n            return promise.then(regardless, regardless);\n        }));\n    });\n};\n\n/**\n * Captures the failure of a promise, giving an oportunity to recover\n * with a callback.  If the given promise is fulfilled, the returned\n * promise is fulfilled.\n * @param {Any*} promise for something\n * @param {Function} callback to fulfill the returned promise if the\n * given promise is rejected\n * @returns a promise for the return value of the callback\n */\nQ.fail = // XXX legacy\nQ[\"catch\"] = function (object, rejected) {\n    return Q(object).then(void 0, rejected);\n};\n\nPromise.prototype.fail = // XXX legacy\nPromise.prototype[\"catch\"] = function (rejected) {\n    return this.then(void 0, rejected);\n};\n\n/**\n * Attaches a listener that can respond to progress notifications from a\n * promise's originating deferred. This listener receives the exact arguments\n * passed to ``deferred.notify``.\n * @param {Any*} promise for something\n * @param {Function} callback to receive any progress notifications\n * @returns the given promise, unchanged\n */\nQ.progress = progress;\nfunction progress(object, progressed) {\n    return Q(object).then(void 0, void 0, progressed);\n}\n\nPromise.prototype.progress = function (progressed) {\n    return this.then(void 0, void 0, progressed);\n};\n\n/**\n * Provides an opportunity to observe the settling of a promise,\n * regardless of whether the promise is fulfilled or rejected.  Forwards\n * the resolution to the returned promise when the callback is done.\n * The callback can return a promise to defer completion.\n * @param {Any*} promise\n * @param {Function} callback to observe the resolution of the given\n * promise, takes no arguments.\n * @returns a promise for the resolution of the given promise when\n * ``fin`` is done.\n */\nQ.fin = // XXX legacy\nQ[\"finally\"] = function (object, callback) {\n    return Q(object)[\"finally\"](callback);\n};\n\nPromise.prototype.fin = // XXX legacy\nPromise.prototype[\"finally\"] = function (callback) {\n    callback = Q(callback);\n    return this.then(function (value) {\n        return callback.fcall().then(function () {\n            return value;\n        });\n    }, function (reason) {\n        // TODO attempt to recycle the rejection with \"this\".\n        return callback.fcall().then(function () {\n            throw reason;\n        });\n    });\n};\n\n/**\n * Terminates a chain of promises, forcing rejections to be\n * thrown as exceptions.\n * @param {Any*} promise at the end of a chain of promises\n * @returns nothing\n */\nQ.done = function (object, fulfilled, rejected, progress) {\n    return Q(object).done(fulfilled, rejected, progress);\n};\n\nPromise.prototype.done = function (fulfilled, rejected, progress) {\n    var onUnhandledError = function (error) {\n        // forward to a future turn so that ``when``\n        // does not catch it and turn it into a rejection.\n        Q.nextTick(function () {\n            makeStackTraceLong(error, promise);\n            if (Q.onerror) {\n                Q.onerror(error);\n            } else {\n                throw error;\n            }\n        });\n    };\n\n    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.\n    var promise = fulfilled || rejected || progress ?\n        this.then(fulfilled, rejected, progress) :\n        this;\n\n    if (typeof process === \"object\" && process && process.domain) {\n        onUnhandledError = process.domain.bind(onUnhandledError);\n    }\n\n    promise.then(void 0, onUnhandledError);\n};\n\n/**\n * Causes a promise to be rejected if it does not get fulfilled before\n * some milliseconds time out.\n * @param {Any*} promise\n * @param {Number} milliseconds timeout\n * @param {Any*} custom error message or Error object (optional)\n * @returns a promise for the resolution of the given promise if it is\n * fulfilled before the timeout, otherwise rejected.\n */\nQ.timeout = function (object, ms, error) {\n    return Q(object).timeout(ms, error);\n};\n\nPromise.prototype.timeout = function (ms, error) {\n    var deferred = defer();\n    var timeoutId = setTimeout(function () {\n        if (!error || \"string\" === typeof error) {\n            error = new Error(error || \"Timed out after \" + ms + \" ms\");\n            error.code = \"ETIMEDOUT\";\n        }\n        deferred.reject(error);\n    }, ms);\n\n    this.then(function (value) {\n        clearTimeout(timeoutId);\n        deferred.resolve(value);\n    }, function (exception) {\n        clearTimeout(timeoutId);\n        deferred.reject(exception);\n    }, deferred.notify);\n\n    return deferred.promise;\n};\n\n/**\n * Returns a promise for the given value (or promised value), some\n * milliseconds after it resolved. Passes rejections immediately.\n * @param {Any*} promise\n * @param {Number} milliseconds\n * @returns a promise for the resolution of the given promise after milliseconds\n * time has elapsed since the resolution of the given promise.\n * If the given promise rejects, that is passed immediately.\n */\nQ.delay = function (object, timeout) {\n    if (timeout === void 0) {\n        timeout = object;\n        object = void 0;\n    }\n    return Q(object).delay(timeout);\n};\n\nPromise.prototype.delay = function (timeout) {\n    return this.then(function (value) {\n        var deferred = defer();\n        setTimeout(function () {\n            deferred.resolve(value);\n        }, timeout);\n        return deferred.promise;\n    });\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided as an array, and returns a promise.\n *\n *      Q.nfapply(FS.readFile, [__filename])\n *      .then(function (content) {\n *      })\n *\n */\nQ.nfapply = function (callback, args) {\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfapply = function (args) {\n    var deferred = defer();\n    var nodeArgs = array_slice(args);\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided individually, and returns a promise.\n * @example\n * Q.nfcall(FS.readFile, __filename)\n * .then(function (content) {\n * })\n *\n */\nQ.nfcall = function (callback /*...args*/) {\n    var args = array_slice(arguments, 1);\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfcall = function (/*...args*/) {\n    var nodeArgs = array_slice(arguments);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Wraps a NodeJS continuation passing function and returns an equivalent\n * version that returns a promise.\n * @example\n * Q.nfbind(FS.readFile, __filename)(\"utf-8\")\n * .then(console.log)\n * .done()\n */\nQ.nfbind =\nQ.denodeify = function (callback /*...args*/) {\n    var baseArgs = array_slice(arguments, 1);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        Q(callback).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nfbind =\nPromise.prototype.denodeify = function (/*...args*/) {\n    var args = array_slice(arguments);\n    args.unshift(this);\n    return Q.denodeify.apply(void 0, args);\n};\n\nQ.nbind = function (callback, thisp /*...args*/) {\n    var baseArgs = array_slice(arguments, 2);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        function bound() {\n            return callback.apply(thisp, arguments);\n        }\n        Q(bound).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nbind = function (/*thisp, ...args*/) {\n    var args = array_slice(arguments, 0);\n    args.unshift(this);\n    return Q.nbind.apply(void 0, args);\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback with a given array of arguments, plus a provided callback.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param {Array} args arguments to pass to the method; the callback\n * will be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nmapply = // XXX As proposed by \"Redsandro\"\nQ.npost = function (object, name, args) {\n    return Q(object).npost(name, args);\n};\n\nPromise.prototype.nmapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.npost = function (name, args) {\n    var nodeArgs = array_slice(args || []);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback, forwarding the given variadic arguments, plus a provided\n * callback argument.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param ...args arguments to pass to the method; the callback will\n * be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nsend = // XXX Based on Mark Miller's proposed \"send\"\nQ.nmcall = // XXX Based on \"Redsandro's\" proposal\nQ.ninvoke = function (object, name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 2);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    Q(object).dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\nPromise.prototype.nsend = // XXX Based on Mark Miller's proposed \"send\"\nPromise.prototype.nmcall = // XXX Based on \"Redsandro's\" proposal\nPromise.prototype.ninvoke = function (name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 1);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * If a function would like to support both Node continuation-passing-style and\n * promise-returning-style, it can end its internal promise chain with\n * `nodeify(nodeback)`, forwarding the optional nodeback argument.  If the user\n * elects to use a nodeback, the result will be sent there.  If they do not\n * pass a nodeback, they will receive the result promise.\n * @param object a result (or a promise for a result)\n * @param {Function} nodeback a Node.js-style callback\n * @returns either the promise or nothing\n */\nQ.nodeify = nodeify;\nfunction nodeify(object, nodeback) {\n    return Q(object).nodeify(nodeback);\n}\n\nPromise.prototype.nodeify = function (nodeback) {\n    if (nodeback) {\n        this.then(function (value) {\n            Q.nextTick(function () {\n                nodeback(null, value);\n            });\n        }, function (error) {\n            Q.nextTick(function () {\n                nodeback(error);\n            });\n        });\n    } else {\n        return this;\n    }\n};\n\nQ.noConflict = function() {\n    throw new Error(\"Q.noConflict only works when Q is used as a global\");\n};\n\n// All code before this point will be filtered from stack traces.\nvar qEndingLine = captureLine();\n\nreturn Q;\n\n});\n"]}